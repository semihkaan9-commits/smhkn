(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const c of document.querySelectorAll('link[rel="modulepreload"]'))r(c);new MutationObserver(c=>{for(const d of c)if(d.type==="childList")for(const f of d.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&r(f)}).observe(document,{childList:!0,subtree:!0});function s(c){const d={};return c.integrity&&(d.integrity=c.integrity),c.referrerPolicy&&(d.referrerPolicy=c.referrerPolicy),c.crossOrigin==="use-credentials"?d.credentials="include":c.crossOrigin==="anonymous"?d.credentials="omit":d.credentials="same-origin",d}function r(c){if(c.ep)return;c.ep=!0;const d=s(c);fetch(c.href,d)}})();function ug(i){return i&&i.__esModule&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i}var Vu={exports:{}},Ti={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _m;function tp(){if(_m)return Ti;_m=1;var i=Symbol.for("react.transitional.element"),n=Symbol.for("react.fragment");function s(r,c,d){var f=null;if(d!==void 0&&(f=""+d),c.key!==void 0&&(f=""+c.key),"key"in c){d={};for(var g in c)g!=="key"&&(d[g]=c[g])}else d=c;return c=d.ref,{$$typeof:i,type:r,key:f,ref:c!==void 0?c:null,props:d}}return Ti.Fragment=n,Ti.jsx=s,Ti.jsxs=s,Ti}var Sm;function ap(){return Sm||(Sm=1,Vu.exports=tp()),Vu.exports}var h=ap(),Yu={exports:{}},fe={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var jm;function np(){if(jm)return fe;jm=1;var i=Symbol.for("react.transitional.element"),n=Symbol.for("react.portal"),s=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),c=Symbol.for("react.profiler"),d=Symbol.for("react.consumer"),f=Symbol.for("react.context"),g=Symbol.for("react.forward_ref"),y=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),b=Symbol.for("react.lazy"),x=Symbol.for("react.activity"),j=Symbol.iterator;function _(E){return E===null||typeof E!="object"?null:(E=j&&E[j]||E["@@iterator"],typeof E=="function"?E:null)}var k={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},D=Object.assign,H={};function B(E,G,Q){this.props=E,this.context=G,this.refs=H,this.updater=Q||k}B.prototype.isReactComponent={},B.prototype.setState=function(E,G){if(typeof E!="object"&&typeof E!="function"&&E!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,E,G,"setState")},B.prototype.forceUpdate=function(E){this.updater.enqueueForceUpdate(this,E,"forceUpdate")};function V(){}V.prototype=B.prototype;function M(E,G,Q){this.props=E,this.context=G,this.refs=H,this.updater=Q||k}var X=M.prototype=new V;X.constructor=M,D(X,B.prototype),X.isPureReactComponent=!0;var P=Array.isArray;function Z(){}var I={H:null,A:null,T:null,S:null},ge=Object.prototype.hasOwnProperty;function Ne(E,G,Q){var K=Q.ref;return{$$typeof:i,type:E,key:G,ref:K!==void 0?K:null,props:Q}}function Je(E,G){return Ne(E.type,G,E.props)}function Xe(E){return typeof E=="object"&&E!==null&&E.$$typeof===i}function ze(E){var G={"=":"=0",":":"=2"};return"$"+E.replace(/[=:]/g,function(Q){return G[Q]})}var J=/\/+/g;function be(E,G){return typeof E=="object"&&E!==null&&E.key!=null?ze(""+E.key):G.toString(36)}function Ue(E){switch(E.status){case"fulfilled":return E.value;case"rejected":throw E.reason;default:switch(typeof E.status=="string"?E.then(Z,Z):(E.status="pending",E.then(function(G){E.status==="pending"&&(E.status="fulfilled",E.value=G)},function(G){E.status==="pending"&&(E.status="rejected",E.reason=G)})),E.status){case"fulfilled":return E.value;case"rejected":throw E.reason}}throw E}function R(E,G,Q,K,te){var ue=typeof E;(ue==="undefined"||ue==="boolean")&&(E=null);var ye=!1;if(E===null)ye=!0;else switch(ue){case"bigint":case"string":case"number":ye=!0;break;case"object":switch(E.$$typeof){case i:case n:ye=!0;break;case b:return ye=E._init,R(ye(E._payload),G,Q,K,te)}}if(ye)return te=te(E),ye=K===""?"."+be(E,0):K,P(te)?(Q="",ye!=null&&(Q=ye.replace(J,"$&/")+"/"),R(te,G,Q,"",function(on){return on})):te!=null&&(Xe(te)&&(te=Je(te,Q+(te.key==null||E&&E.key===te.key?"":(""+te.key).replace(J,"$&/")+"/")+ye)),G.push(te)),1;ye=0;var tt=K===""?".":K+":";if(P(E))for(var Ie=0;Ie<E.length;Ie++)K=E[Ie],ue=tt+be(K,Ie),ye+=R(K,G,Q,ue,te);else if(Ie=_(E),typeof Ie=="function")for(E=Ie.call(E),Ie=0;!(K=E.next()).done;)K=K.value,ue=tt+be(K,Ie++),ye+=R(K,G,Q,ue,te);else if(ue==="object"){if(typeof E.then=="function")return R(Ue(E),G,Q,K,te);throw G=String(E),Error("Objects are not valid as a React child (found: "+(G==="[object Object]"?"object with keys {"+Object.keys(E).join(", ")+"}":G)+"). If you meant to render a collection of children, use an array instead.")}return ye}function L(E,G,Q){if(E==null)return E;var K=[],te=0;return R(E,K,"","",function(ue){return G.call(Q,ue,te++)}),K}function W(E){if(E._status===-1){var G=E._result;G=G(),G.then(function(Q){(E._status===0||E._status===-1)&&(E._status=1,E._result=Q)},function(Q){(E._status===0||E._status===-1)&&(E._status=2,E._result=Q)}),E._status===-1&&(E._status=0,E._result=G)}if(E._status===1)return E._result.default;throw E._result}var se=typeof reportError=="function"?reportError:function(E){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var G=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof E=="object"&&E!==null&&typeof E.message=="string"?String(E.message):String(E),error:E});if(!window.dispatchEvent(G))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",E);return}console.error(E)},je={map:L,forEach:function(E,G,Q){L(E,function(){G.apply(this,arguments)},Q)},count:function(E){var G=0;return L(E,function(){G++}),G},toArray:function(E){return L(E,function(G){return G})||[]},only:function(E){if(!Xe(E))throw Error("React.Children.only expected to receive a single React element child.");return E}};return fe.Activity=x,fe.Children=je,fe.Component=B,fe.Fragment=s,fe.Profiler=c,fe.PureComponent=M,fe.StrictMode=r,fe.Suspense=y,fe.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=I,fe.__COMPILER_RUNTIME={__proto__:null,c:function(E){return I.H.useMemoCache(E)}},fe.cache=function(E){return function(){return E.apply(null,arguments)}},fe.cacheSignal=function(){return null},fe.cloneElement=function(E,G,Q){if(E==null)throw Error("The argument must be a React element, but you passed "+E+".");var K=D({},E.props),te=E.key;if(G!=null)for(ue in G.key!==void 0&&(te=""+G.key),G)!ge.call(G,ue)||ue==="key"||ue==="__self"||ue==="__source"||ue==="ref"&&G.ref===void 0||(K[ue]=G[ue]);var ue=arguments.length-2;if(ue===1)K.children=Q;else if(1<ue){for(var ye=Array(ue),tt=0;tt<ue;tt++)ye[tt]=arguments[tt+2];K.children=ye}return Ne(E.type,te,K)},fe.createContext=function(E){return E={$$typeof:f,_currentValue:E,_currentValue2:E,_threadCount:0,Provider:null,Consumer:null},E.Provider=E,E.Consumer={$$typeof:d,_context:E},E},fe.createElement=function(E,G,Q){var K,te={},ue=null;if(G!=null)for(K in G.key!==void 0&&(ue=""+G.key),G)ge.call(G,K)&&K!=="key"&&K!=="__self"&&K!=="__source"&&(te[K]=G[K]);var ye=arguments.length-2;if(ye===1)te.children=Q;else if(1<ye){for(var tt=Array(ye),Ie=0;Ie<ye;Ie++)tt[Ie]=arguments[Ie+2];te.children=tt}if(E&&E.defaultProps)for(K in ye=E.defaultProps,ye)te[K]===void 0&&(te[K]=ye[K]);return Ne(E,ue,te)},fe.createRef=function(){return{current:null}},fe.forwardRef=function(E){return{$$typeof:g,render:E}},fe.isValidElement=Xe,fe.lazy=function(E){return{$$typeof:b,_payload:{_status:-1,_result:E},_init:W}},fe.memo=function(E,G){return{$$typeof:p,type:E,compare:G===void 0?null:G}},fe.startTransition=function(E){var G=I.T,Q={};I.T=Q;try{var K=E(),te=I.S;te!==null&&te(Q,K),typeof K=="object"&&K!==null&&typeof K.then=="function"&&K.then(Z,se)}catch(ue){se(ue)}finally{G!==null&&Q.types!==null&&(G.types=Q.types),I.T=G}},fe.unstable_useCacheRefresh=function(){return I.H.useCacheRefresh()},fe.use=function(E){return I.H.use(E)},fe.useActionState=function(E,G,Q){return I.H.useActionState(E,G,Q)},fe.useCallback=function(E,G){return I.H.useCallback(E,G)},fe.useContext=function(E){return I.H.useContext(E)},fe.useDebugValue=function(){},fe.useDeferredValue=function(E,G){return I.H.useDeferredValue(E,G)},fe.useEffect=function(E,G){return I.H.useEffect(E,G)},fe.useEffectEvent=function(E){return I.H.useEffectEvent(E)},fe.useId=function(){return I.H.useId()},fe.useImperativeHandle=function(E,G,Q){return I.H.useImperativeHandle(E,G,Q)},fe.useInsertionEffect=function(E,G){return I.H.useInsertionEffect(E,G)},fe.useLayoutEffect=function(E,G){return I.H.useLayoutEffect(E,G)},fe.useMemo=function(E,G){return I.H.useMemo(E,G)},fe.useOptimistic=function(E,G){return I.H.useOptimistic(E,G)},fe.useReducer=function(E,G,Q){return I.H.useReducer(E,G,Q)},fe.useRef=function(E){return I.H.useRef(E)},fe.useState=function(E){return I.H.useState(E)},fe.useSyncExternalStore=function(E,G,Q){return I.H.useSyncExternalStore(E,G,Q)},fe.useTransition=function(){return I.H.useTransition()},fe.version="19.2.4",fe}var Em;function pc(){return Em||(Em=1,Yu.exports=np()),Yu.exports}var U=pc();const cg=ug(U);var Iu={exports:{}},ki={},Qu={exports:{}},Xu={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Nm;function lp(){return Nm||(Nm=1,(function(i){function n(R,L){var W=R.length;R.push(L);e:for(;0<W;){var se=W-1>>>1,je=R[se];if(0<c(je,L))R[se]=L,R[W]=je,W=se;else break e}}function s(R){return R.length===0?null:R[0]}function r(R){if(R.length===0)return null;var L=R[0],W=R.pop();if(W!==L){R[0]=W;e:for(var se=0,je=R.length,E=je>>>1;se<E;){var G=2*(se+1)-1,Q=R[G],K=G+1,te=R[K];if(0>c(Q,W))K<je&&0>c(te,Q)?(R[se]=te,R[K]=W,se=K):(R[se]=Q,R[G]=W,se=G);else if(K<je&&0>c(te,W))R[se]=te,R[K]=W,se=K;else break e}}return L}function c(R,L){var W=R.sortIndex-L.sortIndex;return W!==0?W:R.id-L.id}if(i.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var d=performance;i.unstable_now=function(){return d.now()}}else{var f=Date,g=f.now();i.unstable_now=function(){return f.now()-g}}var y=[],p=[],b=1,x=null,j=3,_=!1,k=!1,D=!1,H=!1,B=typeof setTimeout=="function"?setTimeout:null,V=typeof clearTimeout=="function"?clearTimeout:null,M=typeof setImmediate<"u"?setImmediate:null;function X(R){for(var L=s(p);L!==null;){if(L.callback===null)r(p);else if(L.startTime<=R)r(p),L.sortIndex=L.expirationTime,n(y,L);else break;L=s(p)}}function P(R){if(D=!1,X(R),!k)if(s(y)!==null)k=!0,Z||(Z=!0,ze());else{var L=s(p);L!==null&&Ue(P,L.startTime-R)}}var Z=!1,I=-1,ge=5,Ne=-1;function Je(){return H?!0:!(i.unstable_now()-Ne<ge)}function Xe(){if(H=!1,Z){var R=i.unstable_now();Ne=R;var L=!0;try{e:{k=!1,D&&(D=!1,V(I),I=-1),_=!0;var W=j;try{t:{for(X(R),x=s(y);x!==null&&!(x.expirationTime>R&&Je());){var se=x.callback;if(typeof se=="function"){x.callback=null,j=x.priorityLevel;var je=se(x.expirationTime<=R);if(R=i.unstable_now(),typeof je=="function"){x.callback=je,X(R),L=!0;break t}x===s(y)&&r(y),X(R)}else r(y);x=s(y)}if(x!==null)L=!0;else{var E=s(p);E!==null&&Ue(P,E.startTime-R),L=!1}}break e}finally{x=null,j=W,_=!1}L=void 0}}finally{L?ze():Z=!1}}}var ze;if(typeof M=="function")ze=function(){M(Xe)};else if(typeof MessageChannel<"u"){var J=new MessageChannel,be=J.port2;J.port1.onmessage=Xe,ze=function(){be.postMessage(null)}}else ze=function(){B(Xe,0)};function Ue(R,L){I=B(function(){R(i.unstable_now())},L)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function(R){R.callback=null},i.unstable_forceFrameRate=function(R){0>R||125<R?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):ge=0<R?Math.floor(1e3/R):5},i.unstable_getCurrentPriorityLevel=function(){return j},i.unstable_next=function(R){switch(j){case 1:case 2:case 3:var L=3;break;default:L=j}var W=j;j=L;try{return R()}finally{j=W}},i.unstable_requestPaint=function(){H=!0},i.unstable_runWithPriority=function(R,L){switch(R){case 1:case 2:case 3:case 4:case 5:break;default:R=3}var W=j;j=R;try{return L()}finally{j=W}},i.unstable_scheduleCallback=function(R,L,W){var se=i.unstable_now();switch(typeof W=="object"&&W!==null?(W=W.delay,W=typeof W=="number"&&0<W?se+W:se):W=se,R){case 1:var je=-1;break;case 2:je=250;break;case 5:je=1073741823;break;case 4:je=1e4;break;default:je=5e3}return je=W+je,R={id:b++,callback:L,priorityLevel:R,startTime:W,expirationTime:je,sortIndex:-1},W>se?(R.sortIndex=W,n(p,R),s(y)===null&&R===s(p)&&(D?(V(I),I=-1):D=!0,Ue(P,W-se))):(R.sortIndex=je,n(y,R),k||_||(k=!0,Z||(Z=!0,ze()))),R},i.unstable_shouldYield=Je,i.unstable_wrapCallback=function(R){var L=j;return function(){var W=j;j=L;try{return R.apply(this,arguments)}finally{j=W}}}})(Xu)),Xu}var Am;function ip(){return Am||(Am=1,Qu.exports=lp()),Qu.exports}var Ju={exports:{}},xt={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Tm;function sp(){if(Tm)return xt;Tm=1;var i=pc();function n(y){var p="https://react.dev/errors/"+y;if(1<arguments.length){p+="?args[]="+encodeURIComponent(arguments[1]);for(var b=2;b<arguments.length;b++)p+="&args[]="+encodeURIComponent(arguments[b])}return"Minified React error #"+y+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function s(){}var r={d:{f:s,r:function(){throw Error(n(522))},D:s,C:s,L:s,m:s,X:s,S:s,M:s},p:0,findDOMNode:null},c=Symbol.for("react.portal");function d(y,p,b){var x=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:c,key:x==null?null:""+x,children:y,containerInfo:p,implementation:b}}var f=i.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function g(y,p){if(y==="font")return"";if(typeof p=="string")return p==="use-credentials"?p:""}return xt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,xt.createPortal=function(y,p){var b=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!p||p.nodeType!==1&&p.nodeType!==9&&p.nodeType!==11)throw Error(n(299));return d(y,p,null,b)},xt.flushSync=function(y){var p=f.T,b=r.p;try{if(f.T=null,r.p=2,y)return y()}finally{f.T=p,r.p=b,r.d.f()}},xt.preconnect=function(y,p){typeof y=="string"&&(p?(p=p.crossOrigin,p=typeof p=="string"?p==="use-credentials"?p:"":void 0):p=null,r.d.C(y,p))},xt.prefetchDNS=function(y){typeof y=="string"&&r.d.D(y)},xt.preinit=function(y,p){if(typeof y=="string"&&p&&typeof p.as=="string"){var b=p.as,x=g(b,p.crossOrigin),j=typeof p.integrity=="string"?p.integrity:void 0,_=typeof p.fetchPriority=="string"?p.fetchPriority:void 0;b==="style"?r.d.S(y,typeof p.precedence=="string"?p.precedence:void 0,{crossOrigin:x,integrity:j,fetchPriority:_}):b==="script"&&r.d.X(y,{crossOrigin:x,integrity:j,fetchPriority:_,nonce:typeof p.nonce=="string"?p.nonce:void 0})}},xt.preinitModule=function(y,p){if(typeof y=="string")if(typeof p=="object"&&p!==null){if(p.as==null||p.as==="script"){var b=g(p.as,p.crossOrigin);r.d.M(y,{crossOrigin:b,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0})}}else p==null&&r.d.M(y)},xt.preload=function(y,p){if(typeof y=="string"&&typeof p=="object"&&p!==null&&typeof p.as=="string"){var b=p.as,x=g(b,p.crossOrigin);r.d.L(y,b,{crossOrigin:x,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0,type:typeof p.type=="string"?p.type:void 0,fetchPriority:typeof p.fetchPriority=="string"?p.fetchPriority:void 0,referrerPolicy:typeof p.referrerPolicy=="string"?p.referrerPolicy:void 0,imageSrcSet:typeof p.imageSrcSet=="string"?p.imageSrcSet:void 0,imageSizes:typeof p.imageSizes=="string"?p.imageSizes:void 0,media:typeof p.media=="string"?p.media:void 0})}},xt.preloadModule=function(y,p){if(typeof y=="string")if(p){var b=g(p.as,p.crossOrigin);r.d.m(y,{as:typeof p.as=="string"&&p.as!=="script"?p.as:void 0,crossOrigin:b,integrity:typeof p.integrity=="string"?p.integrity:void 0})}else r.d.m(y)},xt.requestFormReset=function(y){r.d.r(y)},xt.unstable_batchedUpdates=function(y,p){return y(p)},xt.useFormState=function(y,p,b){return f.H.useFormState(y,p,b)},xt.useFormStatus=function(){return f.H.useHostTransitionStatus()},xt.version="19.2.4",xt}var km;function rp(){if(km)return Ju.exports;km=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(n){console.error(n)}}return i(),Ju.exports=sp(),Ju.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Om;function op(){if(Om)return ki;Om=1;var i=ip(),n=pc(),s=rp();function r(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)t+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function c(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function d(e){var t=e,a=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,(t.flags&4098)!==0&&(a=t.return),e=t.return;while(e)}return t.tag===3?a:null}function f(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function g(e){if(e.tag===31){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function y(e){if(d(e)!==e)throw Error(r(188))}function p(e){var t=e.alternate;if(!t){if(t=d(e),t===null)throw Error(r(188));return t!==e?null:e}for(var a=e,l=t;;){var o=a.return;if(o===null)break;var u=o.alternate;if(u===null){if(l=o.return,l!==null){a=l;continue}break}if(o.child===u.child){for(u=o.child;u;){if(u===a)return y(o),e;if(u===l)return y(o),t;u=u.sibling}throw Error(r(188))}if(a.return!==l.return)a=o,l=u;else{for(var m=!1,v=o.child;v;){if(v===a){m=!0,a=o,l=u;break}if(v===l){m=!0,l=o,a=u;break}v=v.sibling}if(!m){for(v=u.child;v;){if(v===a){m=!0,a=u,l=o;break}if(v===l){m=!0,l=u,a=o;break}v=v.sibling}if(!m)throw Error(r(189))}}if(a.alternate!==l)throw Error(r(190))}if(a.tag!==3)throw Error(r(188));return a.stateNode.current===a?e:t}function b(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e;for(e=e.child;e!==null;){if(t=b(e),t!==null)return t;e=e.sibling}return null}var x=Object.assign,j=Symbol.for("react.element"),_=Symbol.for("react.transitional.element"),k=Symbol.for("react.portal"),D=Symbol.for("react.fragment"),H=Symbol.for("react.strict_mode"),B=Symbol.for("react.profiler"),V=Symbol.for("react.consumer"),M=Symbol.for("react.context"),X=Symbol.for("react.forward_ref"),P=Symbol.for("react.suspense"),Z=Symbol.for("react.suspense_list"),I=Symbol.for("react.memo"),ge=Symbol.for("react.lazy"),Ne=Symbol.for("react.activity"),Je=Symbol.for("react.memo_cache_sentinel"),Xe=Symbol.iterator;function ze(e){return e===null||typeof e!="object"?null:(e=Xe&&e[Xe]||e["@@iterator"],typeof e=="function"?e:null)}var J=Symbol.for("react.client.reference");function be(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===J?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case D:return"Fragment";case B:return"Profiler";case H:return"StrictMode";case P:return"Suspense";case Z:return"SuspenseList";case Ne:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case k:return"Portal";case M:return e.displayName||"Context";case V:return(e._context.displayName||"Context")+".Consumer";case X:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case I:return t=e.displayName||null,t!==null?t:be(e.type)||"Memo";case ge:t=e._payload,e=e._init;try{return be(e(t))}catch{}}return null}var Ue=Array.isArray,R=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,L=s.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,W={pending:!1,data:null,method:null,action:null},se=[],je=-1;function E(e){return{current:e}}function G(e){0>je||(e.current=se[je],se[je]=null,je--)}function Q(e,t){je++,se[je]=e.current,e.current=t}var K=E(null),te=E(null),ue=E(null),ye=E(null);function tt(e,t){switch(Q(ue,t),Q(te,e),Q(K,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?Yf(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)t=Yf(t),e=If(t,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}G(K),Q(K,e)}function Ie(){G(K),G(te),G(ue)}function on(e){e.memoizedState!==null&&Q(ye,e);var t=K.current,a=If(t,e.type);t!==a&&(Q(te,e),Q(K,a))}function zn(e){te.current===e&&(G(K),G(te)),ye.current===e&&(G(ye),ji._currentValue=W)}var Dl,Yi;function na(e){if(Dl===void 0)try{throw Error()}catch(a){var t=a.stack.trim().match(/\n( *(at )?)/);Dl=t&&t[1]||"",Yi=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Dl+e+Yi}var Un=!1;function zl(e,t){if(!e||Un)return"";Un=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(t){var $=function(){throw Error()};if(Object.defineProperty($.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct($,[])}catch(C){var O=C}Reflect.construct(e,[],$)}else{try{$.call()}catch(C){O=C}e.call($.prototype)}}else{try{throw Error()}catch(C){O=C}($=e())&&typeof $.catch=="function"&&$.catch(function(){})}}catch(C){if(C&&O&&typeof C.stack=="string")return[C.stack,O.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var o=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");o&&o.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var u=l.DetermineComponentFrameRoot(),m=u[0],v=u[1];if(m&&v){var w=m.split(`
`),T=v.split(`
`);for(o=l=0;l<w.length&&!w[l].includes("DetermineComponentFrameRoot");)l++;for(;o<T.length&&!T[o].includes("DetermineComponentFrameRoot");)o++;if(l===w.length||o===T.length)for(l=w.length-1,o=T.length-1;1<=l&&0<=o&&w[l]!==T[o];)o--;for(;1<=l&&0<=o;l--,o--)if(w[l]!==T[o]){if(l!==1||o!==1)do if(l--,o--,0>o||w[l]!==T[o]){var z=`
`+w[l].replace(" at new "," at ");return e.displayName&&z.includes("<anonymous>")&&(z=z.replace("<anonymous>",e.displayName)),z}while(1<=l&&0<=o);break}}}finally{Un=!1,Error.prepareStackTrace=a}return(a=e?e.displayName||e.name:"")?na(a):""}function Y(e,t){switch(e.tag){case 26:case 27:case 5:return na(e.type);case 16:return na("Lazy");case 13:return e.child!==t&&t!==null?na("Suspense Fallback"):na("Suspense");case 19:return na("SuspenseList");case 0:case 15:return zl(e.type,!1);case 11:return zl(e.type.render,!1);case 1:return zl(e.type,!0);case 31:return na("Activity");default:return""}}function ae(e){try{var t="",a=null;do t+=Y(e,a),a=e,e=e.return;while(e);return t}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}var de=Object.prototype.hasOwnProperty,he=i.unstable_scheduleCallback,Ae=i.unstable_cancelCallback,ut=i.unstable_shouldYield,ht=i.unstable_requestPaint,$e=i.unstable_now,_t=i.unstable_getCurrentPriorityLevel,Ke=i.unstable_ImmediatePriority,Ul=i.unstable_UserBlockingPriority,un=i.unstable_NormalPriority,Mg=i.unstable_LowPriority,jc=i.unstable_IdlePriority,Lg=i.log,Bg=i.unstable_setDisableYieldValue,Ml=null,Ot=null;function Ca(e){if(typeof Lg=="function"&&Bg(e),Ot&&typeof Ot.setStrictMode=="function")try{Ot.setStrictMode(Ml,e)}catch{}}var Rt=Math.clz32?Math.clz32:Gg,qg=Math.log,Hg=Math.LN2;function Gg(e){return e>>>=0,e===0?32:31-(qg(e)/Hg|0)|0}var Ii=256,Qi=262144,Xi=4194304;function cn(e){var t=e&42;if(t!==0)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function Ji(e,t,a){var l=e.pendingLanes;if(l===0)return 0;var o=0,u=e.suspendedLanes,m=e.pingedLanes;e=e.warmLanes;var v=l&134217727;return v!==0?(l=v&~u,l!==0?o=cn(l):(m&=v,m!==0?o=cn(m):a||(a=v&~e,a!==0&&(o=cn(a))))):(v=l&~u,v!==0?o=cn(v):m!==0?o=cn(m):a||(a=l&~e,a!==0&&(o=cn(a)))),o===0?0:t!==0&&t!==o&&(t&u)===0&&(u=o&-o,a=t&-t,u>=a||u===32&&(a&4194048)!==0)?t:o}function Ll(e,t){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)===0}function $g(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Ec(){var e=Xi;return Xi<<=1,(Xi&62914560)===0&&(Xi=4194304),e}function Rr(e){for(var t=[],a=0;31>a;a++)t.push(e);return t}function Bl(e,t){e.pendingLanes|=t,t!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Kg(e,t,a,l,o,u){var m=e.pendingLanes;e.pendingLanes=a,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=a,e.entangledLanes&=a,e.errorRecoveryDisabledLanes&=a,e.shellSuspendCounter=0;var v=e.entanglements,w=e.expirationTimes,T=e.hiddenUpdates;for(a=m&~a;0<a;){var z=31-Rt(a),$=1<<z;v[z]=0,w[z]=-1;var O=T[z];if(O!==null)for(T[z]=null,z=0;z<O.length;z++){var C=O[z];C!==null&&(C.lane&=-536870913)}a&=~$}l!==0&&Nc(e,l,0),u!==0&&o===0&&e.tag!==0&&(e.suspendedLanes|=u&~(m&~t))}function Nc(e,t,a){e.pendingLanes|=t,e.suspendedLanes&=~t;var l=31-Rt(t);e.entangledLanes|=t,e.entanglements[l]=e.entanglements[l]|1073741824|a&261930}function Ac(e,t){var a=e.entangledLanes|=t;for(e=e.entanglements;a;){var l=31-Rt(a),o=1<<l;o&t|e[l]&t&&(e[l]|=t),a&=~o}}function Tc(e,t){var a=t&-t;return a=(a&42)!==0?1:Cr(a),(a&(e.suspendedLanes|t))!==0?0:a}function Cr(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Dr(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function kc(){var e=L.p;return e!==0?e:(e=window.event,e===void 0?32:gm(e.type))}function Oc(e,t){var a=L.p;try{return L.p=e,t()}finally{L.p=a}}var Da=Math.random().toString(36).slice(2),ft="__reactFiber$"+Da,St="__reactProps$"+Da,Mn="__reactContainer$"+Da,zr="__reactEvents$"+Da,Vg="__reactListeners$"+Da,Yg="__reactHandles$"+Da,Rc="__reactResources$"+Da,ql="__reactMarker$"+Da;function Ur(e){delete e[ft],delete e[St],delete e[zr],delete e[Vg],delete e[Yg]}function Ln(e){var t=e[ft];if(t)return t;for(var a=e.parentNode;a;){if(t=a[Mn]||a[ft]){if(a=t.alternate,t.child!==null||a!==null&&a.child!==null)for(e=Ff(e);e!==null;){if(a=e[ft])return a;e=Ff(e)}return t}e=a,a=e.parentNode}return null}function Bn(e){if(e=e[ft]||e[Mn]){var t=e.tag;if(t===5||t===6||t===13||t===31||t===26||t===27||t===3)return e}return null}function Hl(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e.stateNode;throw Error(r(33))}function qn(e){var t=e[Rc];return t||(t=e[Rc]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function ct(e){e[ql]=!0}var Cc=new Set,Dc={};function dn(e,t){Hn(e,t),Hn(e+"Capture",t)}function Hn(e,t){for(Dc[e]=t,e=0;e<t.length;e++)Cc.add(t[e])}var Ig=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),zc={},Uc={};function Qg(e){return de.call(Uc,e)?!0:de.call(zc,e)?!1:Ig.test(e)?Uc[e]=!0:(zc[e]=!0,!1)}function Zi(e,t,a){if(Qg(t))if(a===null)e.removeAttribute(t);else{switch(typeof a){case"undefined":case"function":case"symbol":e.removeAttribute(t);return;case"boolean":var l=t.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){e.removeAttribute(t);return}}e.setAttribute(t,""+a)}}function Pi(e,t,a){if(a===null)e.removeAttribute(t);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(t);return}e.setAttribute(t,""+a)}}function ua(e,t,a,l){if(l===null)e.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(a);return}e.setAttributeNS(t,a,""+l)}}function Gt(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Mc(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function Xg(e,t,a){var l=Object.getOwnPropertyDescriptor(e.constructor.prototype,t);if(!e.hasOwnProperty(t)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var o=l.get,u=l.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return o.call(this)},set:function(m){a=""+m,u.call(this,m)}}),Object.defineProperty(e,t,{enumerable:l.enumerable}),{getValue:function(){return a},setValue:function(m){a=""+m},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Mr(e){if(!e._valueTracker){var t=Mc(e)?"checked":"value";e._valueTracker=Xg(e,t,""+e[t])}}function Lc(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var a=t.getValue(),l="";return e&&(l=Mc(e)?e.checked?"true":"false":e.value),e=l,e!==a?(t.setValue(e),!0):!1}function Wi(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var Jg=/[\n"\\]/g;function $t(e){return e.replace(Jg,function(t){return"\\"+t.charCodeAt(0).toString(16)+" "})}function Lr(e,t,a,l,o,u,m,v){e.name="",m!=null&&typeof m!="function"&&typeof m!="symbol"&&typeof m!="boolean"?e.type=m:e.removeAttribute("type"),t!=null?m==="number"?(t===0&&e.value===""||e.value!=t)&&(e.value=""+Gt(t)):e.value!==""+Gt(t)&&(e.value=""+Gt(t)):m!=="submit"&&m!=="reset"||e.removeAttribute("value"),t!=null?Br(e,m,Gt(t)):a!=null?Br(e,m,Gt(a)):l!=null&&e.removeAttribute("value"),o==null&&u!=null&&(e.defaultChecked=!!u),o!=null&&(e.checked=o&&typeof o!="function"&&typeof o!="symbol"),v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"?e.name=""+Gt(v):e.removeAttribute("name")}function Bc(e,t,a,l,o,u,m,v){if(u!=null&&typeof u!="function"&&typeof u!="symbol"&&typeof u!="boolean"&&(e.type=u),t!=null||a!=null){if(!(u!=="submit"&&u!=="reset"||t!=null)){Mr(e);return}a=a!=null?""+Gt(a):"",t=t!=null?""+Gt(t):a,v||t===e.value||(e.value=t),e.defaultValue=t}l=l??o,l=typeof l!="function"&&typeof l!="symbol"&&!!l,e.checked=v?e.checked:!!l,e.defaultChecked=!!l,m!=null&&typeof m!="function"&&typeof m!="symbol"&&typeof m!="boolean"&&(e.name=m),Mr(e)}function Br(e,t,a){t==="number"&&Wi(e.ownerDocument)===e||e.defaultValue===""+a||(e.defaultValue=""+a)}function Gn(e,t,a,l){if(e=e.options,t){t={};for(var o=0;o<a.length;o++)t["$"+a[o]]=!0;for(a=0;a<e.length;a++)o=t.hasOwnProperty("$"+e[a].value),e[a].selected!==o&&(e[a].selected=o),o&&l&&(e[a].defaultSelected=!0)}else{for(a=""+Gt(a),t=null,o=0;o<e.length;o++){if(e[o].value===a){e[o].selected=!0,l&&(e[o].defaultSelected=!0);return}t!==null||e[o].disabled||(t=e[o])}t!==null&&(t.selected=!0)}}function qc(e,t,a){if(t!=null&&(t=""+Gt(t),t!==e.value&&(e.value=t),a==null)){e.defaultValue!==t&&(e.defaultValue=t);return}e.defaultValue=a!=null?""+Gt(a):""}function Hc(e,t,a,l){if(t==null){if(l!=null){if(a!=null)throw Error(r(92));if(Ue(l)){if(1<l.length)throw Error(r(93));l=l[0]}a=l}a==null&&(a=""),t=a}a=Gt(t),e.defaultValue=a,l=e.textContent,l===a&&l!==""&&l!==null&&(e.value=l),Mr(e)}function $n(e,t){if(t){var a=e.firstChild;if(a&&a===e.lastChild&&a.nodeType===3){a.nodeValue=t;return}}e.textContent=t}var Zg=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Gc(e,t,a){var l=t.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?e.setProperty(t,""):t==="float"?e.cssFloat="":e[t]="":l?e.setProperty(t,a):typeof a!="number"||a===0||Zg.has(t)?t==="float"?e.cssFloat=a:e[t]=(""+a).trim():e[t]=a+"px"}function $c(e,t,a){if(t!=null&&typeof t!="object")throw Error(r(62));if(e=e.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||t!=null&&t.hasOwnProperty(l)||(l.indexOf("--")===0?e.setProperty(l,""):l==="float"?e.cssFloat="":e[l]="");for(var o in t)l=t[o],t.hasOwnProperty(o)&&a[o]!==l&&Gc(e,o,l)}else for(var u in t)t.hasOwnProperty(u)&&Gc(e,u,t[u])}function qr(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Pg=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Wg=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Fi(e){return Wg.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function ca(){}var Hr=null;function Gr(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Kn=null,Vn=null;function Kc(e){var t=Bn(e);if(t&&(e=t.stateNode)){var a=e[St]||null;e:switch(e=t.stateNode,t.type){case"input":if(Lr(e,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),t=a.name,a.type==="radio"&&t!=null){for(a=e;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+$t(""+t)+'"][type="radio"]'),t=0;t<a.length;t++){var l=a[t];if(l!==e&&l.form===e.form){var o=l[St]||null;if(!o)throw Error(r(90));Lr(l,o.value,o.defaultValue,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name)}}for(t=0;t<a.length;t++)l=a[t],l.form===e.form&&Lc(l)}break e;case"textarea":qc(e,a.value,a.defaultValue);break e;case"select":t=a.value,t!=null&&Gn(e,!!a.multiple,t,!1)}}}var $r=!1;function Vc(e,t,a){if($r)return e(t,a);$r=!0;try{var l=e(t);return l}finally{if($r=!1,(Kn!==null||Vn!==null)&&(Hs(),Kn&&(t=Kn,e=Vn,Vn=Kn=null,Kc(t),e)))for(t=0;t<e.length;t++)Kc(e[t])}}function Gl(e,t){var a=e.stateNode;if(a===null)return null;var l=a[St]||null;if(l===null)return null;a=l[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(e=e.type,l=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!l;break e;default:e=!1}if(e)return null;if(a&&typeof a!="function")throw Error(r(231,t,typeof a));return a}var da=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Kr=!1;if(da)try{var $l={};Object.defineProperty($l,"passive",{get:function(){Kr=!0}}),window.addEventListener("test",$l,$l),window.removeEventListener("test",$l,$l)}catch{Kr=!1}var za=null,Vr=null,es=null;function Yc(){if(es)return es;var e,t=Vr,a=t.length,l,o="value"in za?za.value:za.textContent,u=o.length;for(e=0;e<a&&t[e]===o[e];e++);var m=a-e;for(l=1;l<=m&&t[a-l]===o[u-l];l++);return es=o.slice(e,1<l?1-l:void 0)}function ts(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function as(){return!0}function Ic(){return!1}function jt(e){function t(a,l,o,u,m){this._reactName=a,this._targetInst=o,this.type=l,this.nativeEvent=u,this.target=m,this.currentTarget=null;for(var v in e)e.hasOwnProperty(v)&&(a=e[v],this[v]=a?a(u):u[v]);return this.isDefaultPrevented=(u.defaultPrevented!=null?u.defaultPrevented:u.returnValue===!1)?as:Ic,this.isPropagationStopped=Ic,this}return x(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=as)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=as)},persist:function(){},isPersistent:as}),t}var hn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ns=jt(hn),Kl=x({},hn,{view:0,detail:0}),Fg=jt(Kl),Yr,Ir,Vl,ls=x({},Kl,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Xr,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Vl&&(Vl&&e.type==="mousemove"?(Yr=e.screenX-Vl.screenX,Ir=e.screenY-Vl.screenY):Ir=Yr=0,Vl=e),Yr)},movementY:function(e){return"movementY"in e?e.movementY:Ir}}),Qc=jt(ls),e0=x({},ls,{dataTransfer:0}),t0=jt(e0),a0=x({},Kl,{relatedTarget:0}),Qr=jt(a0),n0=x({},hn,{animationName:0,elapsedTime:0,pseudoElement:0}),l0=jt(n0),i0=x({},hn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),s0=jt(i0),r0=x({},hn,{data:0}),Xc=jt(r0),o0={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},u0={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},c0={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function d0(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=c0[e])?!!t[e]:!1}function Xr(){return d0}var h0=x({},Kl,{key:function(e){if(e.key){var t=o0[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=ts(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?u0[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Xr,charCode:function(e){return e.type==="keypress"?ts(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?ts(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),f0=jt(h0),m0=x({},ls,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Jc=jt(m0),g0=x({},Kl,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Xr}),y0=jt(g0),p0=x({},hn,{propertyName:0,elapsedTime:0,pseudoElement:0}),v0=jt(p0),b0=x({},ls,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),x0=jt(b0),w0=x({},hn,{newState:0,oldState:0}),_0=jt(w0),S0=[9,13,27,32],Jr=da&&"CompositionEvent"in window,Yl=null;da&&"documentMode"in document&&(Yl=document.documentMode);var j0=da&&"TextEvent"in window&&!Yl,Zc=da&&(!Jr||Yl&&8<Yl&&11>=Yl),Pc=" ",Wc=!1;function Fc(e,t){switch(e){case"keyup":return S0.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ed(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Yn=!1;function E0(e,t){switch(e){case"compositionend":return ed(t);case"keypress":return t.which!==32?null:(Wc=!0,Pc);case"textInput":return e=t.data,e===Pc&&Wc?null:e;default:return null}}function N0(e,t){if(Yn)return e==="compositionend"||!Jr&&Fc(e,t)?(e=Yc(),es=Vr=za=null,Yn=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Zc&&t.locale!=="ko"?null:t.data;default:return null}}var A0={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function td(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!A0[e.type]:t==="textarea"}function ad(e,t,a,l){Kn?Vn?Vn.push(l):Vn=[l]:Kn=l,t=Qs(t,"onChange"),0<t.length&&(a=new ns("onChange","change",null,a,l),e.push({event:a,listeners:t}))}var Il=null,Ql=null;function T0(e){qf(e,0)}function is(e){var t=Hl(e);if(Lc(t))return e}function nd(e,t){if(e==="change")return t}var ld=!1;if(da){var Zr;if(da){var Pr="oninput"in document;if(!Pr){var id=document.createElement("div");id.setAttribute("oninput","return;"),Pr=typeof id.oninput=="function"}Zr=Pr}else Zr=!1;ld=Zr&&(!document.documentMode||9<document.documentMode)}function sd(){Il&&(Il.detachEvent("onpropertychange",rd),Ql=Il=null)}function rd(e){if(e.propertyName==="value"&&is(Ql)){var t=[];ad(t,Ql,e,Gr(e)),Vc(T0,t)}}function k0(e,t,a){e==="focusin"?(sd(),Il=t,Ql=a,Il.attachEvent("onpropertychange",rd)):e==="focusout"&&sd()}function O0(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return is(Ql)}function R0(e,t){if(e==="click")return is(t)}function C0(e,t){if(e==="input"||e==="change")return is(t)}function D0(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Ct=typeof Object.is=="function"?Object.is:D0;function Xl(e,t){if(Ct(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var a=Object.keys(e),l=Object.keys(t);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var o=a[l];if(!de.call(t,o)||!Ct(e[o],t[o]))return!1}return!0}function od(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function ud(e,t){var a=od(e);e=0;for(var l;a;){if(a.nodeType===3){if(l=e+a.textContent.length,e<=t&&l>=t)return{node:a,offset:t-e};e=l}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=od(a)}}function cd(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?cd(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function dd(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var t=Wi(e.document);t instanceof e.HTMLIFrameElement;){try{var a=typeof t.contentWindow.location.href=="string"}catch{a=!1}if(a)e=t.contentWindow;else break;t=Wi(e.document)}return t}function Wr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}var z0=da&&"documentMode"in document&&11>=document.documentMode,In=null,Fr=null,Jl=null,eo=!1;function hd(e,t,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;eo||In==null||In!==Wi(l)||(l=In,"selectionStart"in l&&Wr(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),Jl&&Xl(Jl,l)||(Jl=l,l=Qs(Fr,"onSelect"),0<l.length&&(t=new ns("onSelect","select",null,t,a),e.push({event:t,listeners:l}),t.target=In)))}function fn(e,t){var a={};return a[e.toLowerCase()]=t.toLowerCase(),a["Webkit"+e]="webkit"+t,a["Moz"+e]="moz"+t,a}var Qn={animationend:fn("Animation","AnimationEnd"),animationiteration:fn("Animation","AnimationIteration"),animationstart:fn("Animation","AnimationStart"),transitionrun:fn("Transition","TransitionRun"),transitionstart:fn("Transition","TransitionStart"),transitioncancel:fn("Transition","TransitionCancel"),transitionend:fn("Transition","TransitionEnd")},to={},fd={};da&&(fd=document.createElement("div").style,"AnimationEvent"in window||(delete Qn.animationend.animation,delete Qn.animationiteration.animation,delete Qn.animationstart.animation),"TransitionEvent"in window||delete Qn.transitionend.transition);function mn(e){if(to[e])return to[e];if(!Qn[e])return e;var t=Qn[e],a;for(a in t)if(t.hasOwnProperty(a)&&a in fd)return to[e]=t[a];return e}var md=mn("animationend"),gd=mn("animationiteration"),yd=mn("animationstart"),U0=mn("transitionrun"),M0=mn("transitionstart"),L0=mn("transitioncancel"),pd=mn("transitionend"),vd=new Map,ao="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");ao.push("scrollEnd");function Pt(e,t){vd.set(e,t),dn(t,[e])}var ss=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},Kt=[],Xn=0,no=0;function rs(){for(var e=Xn,t=no=Xn=0;t<e;){var a=Kt[t];Kt[t++]=null;var l=Kt[t];Kt[t++]=null;var o=Kt[t];Kt[t++]=null;var u=Kt[t];if(Kt[t++]=null,l!==null&&o!==null){var m=l.pending;m===null?o.next=o:(o.next=m.next,m.next=o),l.pending=o}u!==0&&bd(a,o,u)}}function os(e,t,a,l){Kt[Xn++]=e,Kt[Xn++]=t,Kt[Xn++]=a,Kt[Xn++]=l,no|=l,e.lanes|=l,e=e.alternate,e!==null&&(e.lanes|=l)}function lo(e,t,a,l){return os(e,t,a,l),us(e)}function gn(e,t){return os(e,null,null,t),us(e)}function bd(e,t,a){e.lanes|=a;var l=e.alternate;l!==null&&(l.lanes|=a);for(var o=!1,u=e.return;u!==null;)u.childLanes|=a,l=u.alternate,l!==null&&(l.childLanes|=a),u.tag===22&&(e=u.stateNode,e===null||e._visibility&1||(o=!0)),e=u,u=u.return;return e.tag===3?(u=e.stateNode,o&&t!==null&&(o=31-Rt(a),e=u.hiddenUpdates,l=e[o],l===null?e[o]=[t]:l.push(t),t.lane=a|536870912),u):null}function us(e){if(50<pi)throw pi=0,mu=null,Error(r(185));for(var t=e.return;t!==null;)e=t,t=e.return;return e.tag===3?e.stateNode:null}var Jn={};function B0(e,t,a,l){this.tag=e,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Dt(e,t,a,l){return new B0(e,t,a,l)}function io(e){return e=e.prototype,!(!e||!e.isReactComponent)}function ha(e,t){var a=e.alternate;return a===null?(a=Dt(e.tag,t,e.key,e.mode),a.elementType=e.elementType,a.type=e.type,a.stateNode=e.stateNode,a.alternate=e,e.alternate=a):(a.pendingProps=t,a.type=e.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=e.flags&65011712,a.childLanes=e.childLanes,a.lanes=e.lanes,a.child=e.child,a.memoizedProps=e.memoizedProps,a.memoizedState=e.memoizedState,a.updateQueue=e.updateQueue,t=e.dependencies,a.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},a.sibling=e.sibling,a.index=e.index,a.ref=e.ref,a.refCleanup=e.refCleanup,a}function xd(e,t){e.flags&=65011714;var a=e.alternate;return a===null?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=a.childLanes,e.lanes=a.lanes,e.child=a.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=a.memoizedProps,e.memoizedState=a.memoizedState,e.updateQueue=a.updateQueue,e.type=a.type,t=a.dependencies,e.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function cs(e,t,a,l,o,u){var m=0;if(l=e,typeof e=="function")io(e)&&(m=1);else if(typeof e=="string")m=Ky(e,a,K.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case Ne:return e=Dt(31,a,t,o),e.elementType=Ne,e.lanes=u,e;case D:return yn(a.children,o,u,t);case H:m=8,o|=24;break;case B:return e=Dt(12,a,t,o|2),e.elementType=B,e.lanes=u,e;case P:return e=Dt(13,a,t,o),e.elementType=P,e.lanes=u,e;case Z:return e=Dt(19,a,t,o),e.elementType=Z,e.lanes=u,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case M:m=10;break e;case V:m=9;break e;case X:m=11;break e;case I:m=14;break e;case ge:m=16,l=null;break e}m=29,a=Error(r(130,e===null?"null":typeof e,"")),l=null}return t=Dt(m,a,t,o),t.elementType=e,t.type=l,t.lanes=u,t}function yn(e,t,a,l){return e=Dt(7,e,l,t),e.lanes=a,e}function so(e,t,a){return e=Dt(6,e,null,t),e.lanes=a,e}function wd(e){var t=Dt(18,null,null,0);return t.stateNode=e,t}function ro(e,t,a){return t=Dt(4,e.children!==null?e.children:[],e.key,t),t.lanes=a,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var _d=new WeakMap;function Vt(e,t){if(typeof e=="object"&&e!==null){var a=_d.get(e);return a!==void 0?a:(t={value:e,source:t,stack:ae(t)},_d.set(e,t),t)}return{value:e,source:t,stack:ae(t)}}var Zn=[],Pn=0,ds=null,Zl=0,Yt=[],It=0,Ua=null,la=1,ia="";function fa(e,t){Zn[Pn++]=Zl,Zn[Pn++]=ds,ds=e,Zl=t}function Sd(e,t,a){Yt[It++]=la,Yt[It++]=ia,Yt[It++]=Ua,Ua=e;var l=la;e=ia;var o=32-Rt(l)-1;l&=~(1<<o),a+=1;var u=32-Rt(t)+o;if(30<u){var m=o-o%5;u=(l&(1<<m)-1).toString(32),l>>=m,o-=m,la=1<<32-Rt(t)+o|a<<o|l,ia=u+e}else la=1<<u|a<<o|l,ia=e}function oo(e){e.return!==null&&(fa(e,1),Sd(e,1,0))}function uo(e){for(;e===ds;)ds=Zn[--Pn],Zn[Pn]=null,Zl=Zn[--Pn],Zn[Pn]=null;for(;e===Ua;)Ua=Yt[--It],Yt[It]=null,ia=Yt[--It],Yt[It]=null,la=Yt[--It],Yt[It]=null}function jd(e,t){Yt[It++]=la,Yt[It++]=ia,Yt[It++]=Ua,la=t.id,ia=t.overflow,Ua=e}var mt=null,Ve=null,Ee=!1,Ma=null,Qt=!1,co=Error(r(519));function La(e){var t=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Pl(Vt(t,e)),co}function Ed(e){var t=e.stateNode,a=e.type,l=e.memoizedProps;switch(t[ft]=e,t[St]=l,a){case"dialog":we("cancel",t),we("close",t);break;case"iframe":case"object":case"embed":we("load",t);break;case"video":case"audio":for(a=0;a<bi.length;a++)we(bi[a],t);break;case"source":we("error",t);break;case"img":case"image":case"link":we("error",t),we("load",t);break;case"details":we("toggle",t);break;case"input":we("invalid",t),Bc(t,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0);break;case"select":we("invalid",t);break;case"textarea":we("invalid",t),Hc(t,l.value,l.defaultValue,l.children)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||t.textContent===""+a||l.suppressHydrationWarning===!0||Kf(t.textContent,a)?(l.popover!=null&&(we("beforetoggle",t),we("toggle",t)),l.onScroll!=null&&we("scroll",t),l.onScrollEnd!=null&&we("scrollend",t),l.onClick!=null&&(t.onclick=ca),t=!0):t=!1,t||La(e,!0)}function Nd(e){for(mt=e.return;mt;)switch(mt.tag){case 5:case 31:case 13:Qt=!1;return;case 27:case 3:Qt=!0;return;default:mt=mt.return}}function Wn(e){if(e!==mt)return!1;if(!Ee)return Nd(e),Ee=!0,!1;var t=e.tag,a;if((a=t!==3&&t!==27)&&((a=t===5)&&(a=e.type,a=!(a!=="form"&&a!=="button")||ku(e.type,e.memoizedProps)),a=!a),a&&Ve&&La(e),Nd(e),t===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(r(317));Ve=Wf(e)}else if(t===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(r(317));Ve=Wf(e)}else t===27?(t=Ve,Pa(e.type)?(e=zu,zu=null,Ve=e):Ve=t):Ve=mt?Jt(e.stateNode.nextSibling):null;return!0}function pn(){Ve=mt=null,Ee=!1}function ho(){var e=Ma;return e!==null&&(Tt===null?Tt=e:Tt.push.apply(Tt,e),Ma=null),e}function Pl(e){Ma===null?Ma=[e]:Ma.push(e)}var fo=E(null),vn=null,ma=null;function Ba(e,t,a){Q(fo,t._currentValue),t._currentValue=a}function ga(e){e._currentValue=fo.current,G(fo)}function mo(e,t,a){for(;e!==null;){var l=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,l!==null&&(l.childLanes|=t)):l!==null&&(l.childLanes&t)!==t&&(l.childLanes|=t),e===a)break;e=e.return}}function go(e,t,a,l){var o=e.child;for(o!==null&&(o.return=e);o!==null;){var u=o.dependencies;if(u!==null){var m=o.child;u=u.firstContext;e:for(;u!==null;){var v=u;u=o;for(var w=0;w<t.length;w++)if(v.context===t[w]){u.lanes|=a,v=u.alternate,v!==null&&(v.lanes|=a),mo(u.return,a,e),l||(m=null);break e}u=v.next}}else if(o.tag===18){if(m=o.return,m===null)throw Error(r(341));m.lanes|=a,u=m.alternate,u!==null&&(u.lanes|=a),mo(m,a,e),m=null}else m=o.child;if(m!==null)m.return=o;else for(m=o;m!==null;){if(m===e){m=null;break}if(o=m.sibling,o!==null){o.return=m.return,m=o;break}m=m.return}o=m}}function Fn(e,t,a,l){e=null;for(var o=t,u=!1;o!==null;){if(!u){if((o.flags&524288)!==0)u=!0;else if((o.flags&262144)!==0)break}if(o.tag===10){var m=o.alternate;if(m===null)throw Error(r(387));if(m=m.memoizedProps,m!==null){var v=o.type;Ct(o.pendingProps.value,m.value)||(e!==null?e.push(v):e=[v])}}else if(o===ye.current){if(m=o.alternate,m===null)throw Error(r(387));m.memoizedState.memoizedState!==o.memoizedState.memoizedState&&(e!==null?e.push(ji):e=[ji])}o=o.return}e!==null&&go(t,e,a,l),t.flags|=262144}function hs(e){for(e=e.firstContext;e!==null;){if(!Ct(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function bn(e){vn=e,ma=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function gt(e){return Ad(vn,e)}function fs(e,t){return vn===null&&bn(e),Ad(e,t)}function Ad(e,t){var a=t._currentValue;if(t={context:t,memoizedValue:a,next:null},ma===null){if(e===null)throw Error(r(308));ma=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else ma=ma.next=t;return a}var q0=typeof AbortController<"u"?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(a,l){e.push(l)}};this.abort=function(){t.aborted=!0,e.forEach(function(a){return a()})}},H0=i.unstable_scheduleCallback,G0=i.unstable_NormalPriority,at={$$typeof:M,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function yo(){return{controller:new q0,data:new Map,refCount:0}}function Wl(e){e.refCount--,e.refCount===0&&H0(G0,function(){e.controller.abort()})}var Fl=null,po=0,el=0,tl=null;function $0(e,t){if(Fl===null){var a=Fl=[];po=0,el=xu(),tl={status:"pending",value:void 0,then:function(l){a.push(l)}}}return po++,t.then(Td,Td),t}function Td(){if(--po===0&&Fl!==null){tl!==null&&(tl.status="fulfilled");var e=Fl;Fl=null,el=0,tl=null;for(var t=0;t<e.length;t++)(0,e[t])()}}function K0(e,t){var a=[],l={status:"pending",value:null,reason:null,then:function(o){a.push(o)}};return e.then(function(){l.status="fulfilled",l.value=t;for(var o=0;o<a.length;o++)(0,a[o])(t)},function(o){for(l.status="rejected",l.reason=o,o=0;o<a.length;o++)(0,a[o])(void 0)}),l}var kd=R.S;R.S=function(e,t){ff=$e(),typeof t=="object"&&t!==null&&typeof t.then=="function"&&$0(e,t),kd!==null&&kd(e,t)};var xn=E(null);function vo(){var e=xn.current;return e!==null?e:qe.pooledCache}function ms(e,t){t===null?Q(xn,xn.current):Q(xn,t.pool)}function Od(){var e=vo();return e===null?null:{parent:at._currentValue,pool:e}}var al=Error(r(460)),bo=Error(r(474)),gs=Error(r(542)),ys={then:function(){}};function Rd(e){return e=e.status,e==="fulfilled"||e==="rejected"}function Cd(e,t,a){switch(a=e[a],a===void 0?e.push(t):a!==t&&(t.then(ca,ca),t=a),t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,zd(e),e;default:if(typeof t.status=="string")t.then(ca,ca);else{if(e=qe,e!==null&&100<e.shellSuspendCounter)throw Error(r(482));e=t,e.status="pending",e.then(function(l){if(t.status==="pending"){var o=t;o.status="fulfilled",o.value=l}},function(l){if(t.status==="pending"){var o=t;o.status="rejected",o.reason=l}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,zd(e),e}throw _n=t,al}}function wn(e){try{var t=e._init;return t(e._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(_n=a,al):a}}var _n=null;function Dd(){if(_n===null)throw Error(r(459));var e=_n;return _n=null,e}function zd(e){if(e===al||e===gs)throw Error(r(483))}var nl=null,ei=0;function ps(e){var t=ei;return ei+=1,nl===null&&(nl=[]),Cd(nl,e,t)}function ti(e,t){t=t.props.ref,e.ref=t!==void 0?t:null}function vs(e,t){throw t.$$typeof===j?Error(r(525)):(e=Object.prototype.toString.call(t),Error(r(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)))}function Ud(e){function t(N,S){if(e){var A=N.deletions;A===null?(N.deletions=[S],N.flags|=16):A.push(S)}}function a(N,S){if(!e)return null;for(;S!==null;)t(N,S),S=S.sibling;return null}function l(N){for(var S=new Map;N!==null;)N.key!==null?S.set(N.key,N):S.set(N.index,N),N=N.sibling;return S}function o(N,S){return N=ha(N,S),N.index=0,N.sibling=null,N}function u(N,S,A){return N.index=A,e?(A=N.alternate,A!==null?(A=A.index,A<S?(N.flags|=67108866,S):A):(N.flags|=67108866,S)):(N.flags|=1048576,S)}function m(N){return e&&N.alternate===null&&(N.flags|=67108866),N}function v(N,S,A,q){return S===null||S.tag!==6?(S=so(A,N.mode,q),S.return=N,S):(S=o(S,A),S.return=N,S)}function w(N,S,A,q){var ie=A.type;return ie===D?z(N,S,A.props.children,q,A.key):S!==null&&(S.elementType===ie||typeof ie=="object"&&ie!==null&&ie.$$typeof===ge&&wn(ie)===S.type)?(S=o(S,A.props),ti(S,A),S.return=N,S):(S=cs(A.type,A.key,A.props,null,N.mode,q),ti(S,A),S.return=N,S)}function T(N,S,A,q){return S===null||S.tag!==4||S.stateNode.containerInfo!==A.containerInfo||S.stateNode.implementation!==A.implementation?(S=ro(A,N.mode,q),S.return=N,S):(S=o(S,A.children||[]),S.return=N,S)}function z(N,S,A,q,ie){return S===null||S.tag!==7?(S=yn(A,N.mode,q,ie),S.return=N,S):(S=o(S,A),S.return=N,S)}function $(N,S,A){if(typeof S=="string"&&S!==""||typeof S=="number"||typeof S=="bigint")return S=so(""+S,N.mode,A),S.return=N,S;if(typeof S=="object"&&S!==null){switch(S.$$typeof){case _:return A=cs(S.type,S.key,S.props,null,N.mode,A),ti(A,S),A.return=N,A;case k:return S=ro(S,N.mode,A),S.return=N,S;case ge:return S=wn(S),$(N,S,A)}if(Ue(S)||ze(S))return S=yn(S,N.mode,A,null),S.return=N,S;if(typeof S.then=="function")return $(N,ps(S),A);if(S.$$typeof===M)return $(N,fs(N,S),A);vs(N,S)}return null}function O(N,S,A,q){var ie=S!==null?S.key:null;if(typeof A=="string"&&A!==""||typeof A=="number"||typeof A=="bigint")return ie!==null?null:v(N,S,""+A,q);if(typeof A=="object"&&A!==null){switch(A.$$typeof){case _:return A.key===ie?w(N,S,A,q):null;case k:return A.key===ie?T(N,S,A,q):null;case ge:return A=wn(A),O(N,S,A,q)}if(Ue(A)||ze(A))return ie!==null?null:z(N,S,A,q,null);if(typeof A.then=="function")return O(N,S,ps(A),q);if(A.$$typeof===M)return O(N,S,fs(N,A),q);vs(N,A)}return null}function C(N,S,A,q,ie){if(typeof q=="string"&&q!==""||typeof q=="number"||typeof q=="bigint")return N=N.get(A)||null,v(S,N,""+q,ie);if(typeof q=="object"&&q!==null){switch(q.$$typeof){case _:return N=N.get(q.key===null?A:q.key)||null,w(S,N,q,ie);case k:return N=N.get(q.key===null?A:q.key)||null,T(S,N,q,ie);case ge:return q=wn(q),C(N,S,A,q,ie)}if(Ue(q)||ze(q))return N=N.get(A)||null,z(S,N,q,ie,null);if(typeof q.then=="function")return C(N,S,A,ps(q),ie);if(q.$$typeof===M)return C(N,S,A,fs(S,q),ie);vs(S,q)}return null}function F(N,S,A,q){for(var ie=null,Te=null,ne=S,pe=S=0,Se=null;ne!==null&&pe<A.length;pe++){ne.index>pe?(Se=ne,ne=null):Se=ne.sibling;var ke=O(N,ne,A[pe],q);if(ke===null){ne===null&&(ne=Se);break}e&&ne&&ke.alternate===null&&t(N,ne),S=u(ke,S,pe),Te===null?ie=ke:Te.sibling=ke,Te=ke,ne=Se}if(pe===A.length)return a(N,ne),Ee&&fa(N,pe),ie;if(ne===null){for(;pe<A.length;pe++)ne=$(N,A[pe],q),ne!==null&&(S=u(ne,S,pe),Te===null?ie=ne:Te.sibling=ne,Te=ne);return Ee&&fa(N,pe),ie}for(ne=l(ne);pe<A.length;pe++)Se=C(ne,N,pe,A[pe],q),Se!==null&&(e&&Se.alternate!==null&&ne.delete(Se.key===null?pe:Se.key),S=u(Se,S,pe),Te===null?ie=Se:Te.sibling=Se,Te=Se);return e&&ne.forEach(function(an){return t(N,an)}),Ee&&fa(N,pe),ie}function re(N,S,A,q){if(A==null)throw Error(r(151));for(var ie=null,Te=null,ne=S,pe=S=0,Se=null,ke=A.next();ne!==null&&!ke.done;pe++,ke=A.next()){ne.index>pe?(Se=ne,ne=null):Se=ne.sibling;var an=O(N,ne,ke.value,q);if(an===null){ne===null&&(ne=Se);break}e&&ne&&an.alternate===null&&t(N,ne),S=u(an,S,pe),Te===null?ie=an:Te.sibling=an,Te=an,ne=Se}if(ke.done)return a(N,ne),Ee&&fa(N,pe),ie;if(ne===null){for(;!ke.done;pe++,ke=A.next())ke=$(N,ke.value,q),ke!==null&&(S=u(ke,S,pe),Te===null?ie=ke:Te.sibling=ke,Te=ke);return Ee&&fa(N,pe),ie}for(ne=l(ne);!ke.done;pe++,ke=A.next())ke=C(ne,N,pe,ke.value,q),ke!==null&&(e&&ke.alternate!==null&&ne.delete(ke.key===null?pe:ke.key),S=u(ke,S,pe),Te===null?ie=ke:Te.sibling=ke,Te=ke);return e&&ne.forEach(function(ep){return t(N,ep)}),Ee&&fa(N,pe),ie}function Be(N,S,A,q){if(typeof A=="object"&&A!==null&&A.type===D&&A.key===null&&(A=A.props.children),typeof A=="object"&&A!==null){switch(A.$$typeof){case _:e:{for(var ie=A.key;S!==null;){if(S.key===ie){if(ie=A.type,ie===D){if(S.tag===7){a(N,S.sibling),q=o(S,A.props.children),q.return=N,N=q;break e}}else if(S.elementType===ie||typeof ie=="object"&&ie!==null&&ie.$$typeof===ge&&wn(ie)===S.type){a(N,S.sibling),q=o(S,A.props),ti(q,A),q.return=N,N=q;break e}a(N,S);break}else t(N,S);S=S.sibling}A.type===D?(q=yn(A.props.children,N.mode,q,A.key),q.return=N,N=q):(q=cs(A.type,A.key,A.props,null,N.mode,q),ti(q,A),q.return=N,N=q)}return m(N);case k:e:{for(ie=A.key;S!==null;){if(S.key===ie)if(S.tag===4&&S.stateNode.containerInfo===A.containerInfo&&S.stateNode.implementation===A.implementation){a(N,S.sibling),q=o(S,A.children||[]),q.return=N,N=q;break e}else{a(N,S);break}else t(N,S);S=S.sibling}q=ro(A,N.mode,q),q.return=N,N=q}return m(N);case ge:return A=wn(A),Be(N,S,A,q)}if(Ue(A))return F(N,S,A,q);if(ze(A)){if(ie=ze(A),typeof ie!="function")throw Error(r(150));return A=ie.call(A),re(N,S,A,q)}if(typeof A.then=="function")return Be(N,S,ps(A),q);if(A.$$typeof===M)return Be(N,S,fs(N,A),q);vs(N,A)}return typeof A=="string"&&A!==""||typeof A=="number"||typeof A=="bigint"?(A=""+A,S!==null&&S.tag===6?(a(N,S.sibling),q=o(S,A),q.return=N,N=q):(a(N,S),q=so(A,N.mode,q),q.return=N,N=q),m(N)):a(N,S)}return function(N,S,A,q){try{ei=0;var ie=Be(N,S,A,q);return nl=null,ie}catch(ne){if(ne===al||ne===gs)throw ne;var Te=Dt(29,ne,null,N.mode);return Te.lanes=q,Te.return=N,Te}finally{}}}var Sn=Ud(!0),Md=Ud(!1),qa=!1;function xo(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function wo(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Ha(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Ga(e,t,a){var l=e.updateQueue;if(l===null)return null;if(l=l.shared,(Oe&2)!==0){var o=l.pending;return o===null?t.next=t:(t.next=o.next,o.next=t),l.pending=t,t=us(e),bd(e,null,a),t}return os(e,l,t,a),us(e)}function ai(e,t,a){if(t=t.updateQueue,t!==null&&(t=t.shared,(a&4194048)!==0)){var l=t.lanes;l&=e.pendingLanes,a|=l,t.lanes=a,Ac(e,a)}}function _o(e,t){var a=e.updateQueue,l=e.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var o=null,u=null;if(a=a.firstBaseUpdate,a!==null){do{var m={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};u===null?o=u=m:u=u.next=m,a=a.next}while(a!==null);u===null?o=u=t:u=u.next=t}else o=u=t;a={baseState:l.baseState,firstBaseUpdate:o,lastBaseUpdate:u,shared:l.shared,callbacks:l.callbacks},e.updateQueue=a;return}e=a.lastBaseUpdate,e===null?a.firstBaseUpdate=t:e.next=t,a.lastBaseUpdate=t}var So=!1;function ni(){if(So){var e=tl;if(e!==null)throw e}}function li(e,t,a,l){So=!1;var o=e.updateQueue;qa=!1;var u=o.firstBaseUpdate,m=o.lastBaseUpdate,v=o.shared.pending;if(v!==null){o.shared.pending=null;var w=v,T=w.next;w.next=null,m===null?u=T:m.next=T,m=w;var z=e.alternate;z!==null&&(z=z.updateQueue,v=z.lastBaseUpdate,v!==m&&(v===null?z.firstBaseUpdate=T:v.next=T,z.lastBaseUpdate=w))}if(u!==null){var $=o.baseState;m=0,z=T=w=null,v=u;do{var O=v.lane&-536870913,C=O!==v.lane;if(C?(_e&O)===O:(l&O)===O){O!==0&&O===el&&(So=!0),z!==null&&(z=z.next={lane:0,tag:v.tag,payload:v.payload,callback:null,next:null});e:{var F=e,re=v;O=t;var Be=a;switch(re.tag){case 1:if(F=re.payload,typeof F=="function"){$=F.call(Be,$,O);break e}$=F;break e;case 3:F.flags=F.flags&-65537|128;case 0:if(F=re.payload,O=typeof F=="function"?F.call(Be,$,O):F,O==null)break e;$=x({},$,O);break e;case 2:qa=!0}}O=v.callback,O!==null&&(e.flags|=64,C&&(e.flags|=8192),C=o.callbacks,C===null?o.callbacks=[O]:C.push(O))}else C={lane:O,tag:v.tag,payload:v.payload,callback:v.callback,next:null},z===null?(T=z=C,w=$):z=z.next=C,m|=O;if(v=v.next,v===null){if(v=o.shared.pending,v===null)break;C=v,v=C.next,C.next=null,o.lastBaseUpdate=C,o.shared.pending=null}}while(!0);z===null&&(w=$),o.baseState=w,o.firstBaseUpdate=T,o.lastBaseUpdate=z,u===null&&(o.shared.lanes=0),Ia|=m,e.lanes=m,e.memoizedState=$}}function Ld(e,t){if(typeof e!="function")throw Error(r(191,e));e.call(t)}function Bd(e,t){var a=e.callbacks;if(a!==null)for(e.callbacks=null,e=0;e<a.length;e++)Ld(a[e],t)}var ll=E(null),bs=E(0);function qd(e,t){e=ja,Q(bs,e),Q(ll,t),ja=e|t.baseLanes}function jo(){Q(bs,ja),Q(ll,ll.current)}function Eo(){ja=bs.current,G(ll),G(bs)}var zt=E(null),Xt=null;function $a(e){var t=e.alternate;Q(Fe,Fe.current&1),Q(zt,e),Xt===null&&(t===null||ll.current!==null||t.memoizedState!==null)&&(Xt=e)}function No(e){Q(Fe,Fe.current),Q(zt,e),Xt===null&&(Xt=e)}function Hd(e){e.tag===22?(Q(Fe,Fe.current),Q(zt,e),Xt===null&&(Xt=e)):Ka()}function Ka(){Q(Fe,Fe.current),Q(zt,zt.current)}function Ut(e){G(zt),Xt===e&&(Xt=null),G(Fe)}var Fe=E(0);function xs(e){for(var t=e;t!==null;){if(t.tag===13){var a=t.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||Cu(a)||Du(a)))return t}else if(t.tag===19&&(t.memoizedProps.revealOrder==="forwards"||t.memoizedProps.revealOrder==="backwards"||t.memoizedProps.revealOrder==="unstable_legacy-backwards"||t.memoizedProps.revealOrder==="together")){if((t.flags&128)!==0)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var ya=0,me=null,Me=null,nt=null,ws=!1,il=!1,jn=!1,_s=0,ii=0,sl=null,V0=0;function Ze(){throw Error(r(321))}function Ao(e,t){if(t===null)return!1;for(var a=0;a<t.length&&a<e.length;a++)if(!Ct(e[a],t[a]))return!1;return!0}function To(e,t,a,l,o,u){return ya=u,me=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,R.H=e===null||e.memoizedState===null?Sh:Ko,jn=!1,u=a(l,o),jn=!1,il&&(u=$d(t,a,l,o)),Gd(e),u}function Gd(e){R.H=oi;var t=Me!==null&&Me.next!==null;if(ya=0,nt=Me=me=null,ws=!1,ii=0,sl=null,t)throw Error(r(300));e===null||lt||(e=e.dependencies,e!==null&&hs(e)&&(lt=!0))}function $d(e,t,a,l){me=e;var o=0;do{if(il&&(sl=null),ii=0,il=!1,25<=o)throw Error(r(301));if(o+=1,nt=Me=null,e.updateQueue!=null){var u=e.updateQueue;u.lastEffect=null,u.events=null,u.stores=null,u.memoCache!=null&&(u.memoCache.index=0)}R.H=jh,u=t(a,l)}while(il);return u}function Y0(){var e=R.H,t=e.useState()[0];return t=typeof t.then=="function"?si(t):t,e=e.useState()[0],(Me!==null?Me.memoizedState:null)!==e&&(me.flags|=1024),t}function ko(){var e=_s!==0;return _s=0,e}function Oo(e,t,a){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a}function Ro(e){if(ws){for(e=e.memoizedState;e!==null;){var t=e.queue;t!==null&&(t.pending=null),e=e.next}ws=!1}ya=0,nt=Me=me=null,il=!1,ii=_s=0,sl=null}function wt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return nt===null?me.memoizedState=nt=e:nt=nt.next=e,nt}function et(){if(Me===null){var e=me.alternate;e=e!==null?e.memoizedState:null}else e=Me.next;var t=nt===null?me.memoizedState:nt.next;if(t!==null)nt=t,Me=e;else{if(e===null)throw me.alternate===null?Error(r(467)):Error(r(310));Me=e,e={memoizedState:Me.memoizedState,baseState:Me.baseState,baseQueue:Me.baseQueue,queue:Me.queue,next:null},nt===null?me.memoizedState=nt=e:nt=nt.next=e}return nt}function Ss(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function si(e){var t=ii;return ii+=1,sl===null&&(sl=[]),e=Cd(sl,e,t),t=me,(nt===null?t.memoizedState:nt.next)===null&&(t=t.alternate,R.H=t===null||t.memoizedState===null?Sh:Ko),e}function js(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return si(e);if(e.$$typeof===M)return gt(e)}throw Error(r(438,String(e)))}function Co(e){var t=null,a=me.updateQueue;if(a!==null&&(t=a.memoCache),t==null){var l=me.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(t={data:l.data.map(function(o){return o.slice()}),index:0})))}if(t==null&&(t={data:[],index:0}),a===null&&(a=Ss(),me.updateQueue=a),a.memoCache=t,a=t.data[t.index],a===void 0)for(a=t.data[t.index]=Array(e),l=0;l<e;l++)a[l]=Je;return t.index++,a}function pa(e,t){return typeof t=="function"?t(e):t}function Es(e){var t=et();return Do(t,Me,e)}function Do(e,t,a){var l=e.queue;if(l===null)throw Error(r(311));l.lastRenderedReducer=a;var o=e.baseQueue,u=l.pending;if(u!==null){if(o!==null){var m=o.next;o.next=u.next,u.next=m}t.baseQueue=o=u,l.pending=null}if(u=e.baseState,o===null)e.memoizedState=u;else{t=o.next;var v=m=null,w=null,T=t,z=!1;do{var $=T.lane&-536870913;if($!==T.lane?(_e&$)===$:(ya&$)===$){var O=T.revertLane;if(O===0)w!==null&&(w=w.next={lane:0,revertLane:0,gesture:null,action:T.action,hasEagerState:T.hasEagerState,eagerState:T.eagerState,next:null}),$===el&&(z=!0);else if((ya&O)===O){T=T.next,O===el&&(z=!0);continue}else $={lane:0,revertLane:T.revertLane,gesture:null,action:T.action,hasEagerState:T.hasEagerState,eagerState:T.eagerState,next:null},w===null?(v=w=$,m=u):w=w.next=$,me.lanes|=O,Ia|=O;$=T.action,jn&&a(u,$),u=T.hasEagerState?T.eagerState:a(u,$)}else O={lane:$,revertLane:T.revertLane,gesture:T.gesture,action:T.action,hasEagerState:T.hasEagerState,eagerState:T.eagerState,next:null},w===null?(v=w=O,m=u):w=w.next=O,me.lanes|=$,Ia|=$;T=T.next}while(T!==null&&T!==t);if(w===null?m=u:w.next=v,!Ct(u,e.memoizedState)&&(lt=!0,z&&(a=tl,a!==null)))throw a;e.memoizedState=u,e.baseState=m,e.baseQueue=w,l.lastRenderedState=u}return o===null&&(l.lanes=0),[e.memoizedState,l.dispatch]}function zo(e){var t=et(),a=t.queue;if(a===null)throw Error(r(311));a.lastRenderedReducer=e;var l=a.dispatch,o=a.pending,u=t.memoizedState;if(o!==null){a.pending=null;var m=o=o.next;do u=e(u,m.action),m=m.next;while(m!==o);Ct(u,t.memoizedState)||(lt=!0),t.memoizedState=u,t.baseQueue===null&&(t.baseState=u),a.lastRenderedState=u}return[u,l]}function Kd(e,t,a){var l=me,o=et(),u=Ee;if(u){if(a===void 0)throw Error(r(407));a=a()}else a=t();var m=!Ct((Me||o).memoizedState,a);if(m&&(o.memoizedState=a,lt=!0),o=o.queue,Lo(Id.bind(null,l,o,e),[e]),o.getSnapshot!==t||m||nt!==null&&nt.memoizedState.tag&1){if(l.flags|=2048,rl(9,{destroy:void 0},Yd.bind(null,l,o,a,t),null),qe===null)throw Error(r(349));u||(ya&127)!==0||Vd(l,t,a)}return a}function Vd(e,t,a){e.flags|=16384,e={getSnapshot:t,value:a},t=me.updateQueue,t===null?(t=Ss(),me.updateQueue=t,t.stores=[e]):(a=t.stores,a===null?t.stores=[e]:a.push(e))}function Yd(e,t,a,l){t.value=a,t.getSnapshot=l,Qd(t)&&Xd(e)}function Id(e,t,a){return a(function(){Qd(t)&&Xd(e)})}function Qd(e){var t=e.getSnapshot;e=e.value;try{var a=t();return!Ct(e,a)}catch{return!0}}function Xd(e){var t=gn(e,2);t!==null&&kt(t,e,2)}function Uo(e){var t=wt();if(typeof e=="function"){var a=e;if(e=a(),jn){Ca(!0);try{a()}finally{Ca(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:pa,lastRenderedState:e},t}function Jd(e,t,a,l){return e.baseState=a,Do(e,Me,typeof l=="function"?l:pa)}function I0(e,t,a,l,o){if(Ts(e))throw Error(r(485));if(e=t.action,e!==null){var u={payload:o,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(m){u.listeners.push(m)}};R.T!==null?a(!0):u.isTransition=!1,l(u),a=t.pending,a===null?(u.next=t.pending=u,Zd(t,u)):(u.next=a.next,t.pending=a.next=u)}}function Zd(e,t){var a=t.action,l=t.payload,o=e.state;if(t.isTransition){var u=R.T,m={};R.T=m;try{var v=a(o,l),w=R.S;w!==null&&w(m,v),Pd(e,t,v)}catch(T){Mo(e,t,T)}finally{u!==null&&m.types!==null&&(u.types=m.types),R.T=u}}else try{u=a(o,l),Pd(e,t,u)}catch(T){Mo(e,t,T)}}function Pd(e,t,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){Wd(e,t,l)},function(l){return Mo(e,t,l)}):Wd(e,t,a)}function Wd(e,t,a){t.status="fulfilled",t.value=a,Fd(t),e.state=a,t=e.pending,t!==null&&(a=t.next,a===t?e.pending=null:(a=a.next,t.next=a,Zd(e,a)))}function Mo(e,t,a){var l=e.pending;if(e.pending=null,l!==null){l=l.next;do t.status="rejected",t.reason=a,Fd(t),t=t.next;while(t!==l)}e.action=null}function Fd(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function eh(e,t){return t}function th(e,t){if(Ee){var a=qe.formState;if(a!==null){e:{var l=me;if(Ee){if(Ve){t:{for(var o=Ve,u=Qt;o.nodeType!==8;){if(!u){o=null;break t}if(o=Jt(o.nextSibling),o===null){o=null;break t}}u=o.data,o=u==="F!"||u==="F"?o:null}if(o){Ve=Jt(o.nextSibling),l=o.data==="F!";break e}}La(l)}l=!1}l&&(t=a[0])}}return a=wt(),a.memoizedState=a.baseState=t,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:eh,lastRenderedState:t},a.queue=l,a=xh.bind(null,me,l),l.dispatch=a,l=Uo(!1),u=$o.bind(null,me,!1,l.queue),l=wt(),o={state:t,dispatch:null,action:e,pending:null},l.queue=o,a=I0.bind(null,me,o,u,a),o.dispatch=a,l.memoizedState=e,[t,a,!1]}function ah(e){var t=et();return nh(t,Me,e)}function nh(e,t,a){if(t=Do(e,t,eh)[0],e=Es(pa)[0],typeof t=="object"&&t!==null&&typeof t.then=="function")try{var l=si(t)}catch(m){throw m===al?gs:m}else l=t;t=et();var o=t.queue,u=o.dispatch;return a!==t.memoizedState&&(me.flags|=2048,rl(9,{destroy:void 0},Q0.bind(null,o,a),null)),[l,u,e]}function Q0(e,t){e.action=t}function lh(e){var t=et(),a=Me;if(a!==null)return nh(t,a,e);et(),t=t.memoizedState,a=et();var l=a.queue.dispatch;return a.memoizedState=e,[t,l,!1]}function rl(e,t,a,l){return e={tag:e,create:a,deps:l,inst:t,next:null},t=me.updateQueue,t===null&&(t=Ss(),me.updateQueue=t),a=t.lastEffect,a===null?t.lastEffect=e.next=e:(l=a.next,a.next=e,e.next=l,t.lastEffect=e),e}function ih(){return et().memoizedState}function Ns(e,t,a,l){var o=wt();me.flags|=e,o.memoizedState=rl(1|t,{destroy:void 0},a,l===void 0?null:l)}function As(e,t,a,l){var o=et();l=l===void 0?null:l;var u=o.memoizedState.inst;Me!==null&&l!==null&&Ao(l,Me.memoizedState.deps)?o.memoizedState=rl(t,u,a,l):(me.flags|=e,o.memoizedState=rl(1|t,u,a,l))}function sh(e,t){Ns(8390656,8,e,t)}function Lo(e,t){As(2048,8,e,t)}function X0(e){me.flags|=4;var t=me.updateQueue;if(t===null)t=Ss(),me.updateQueue=t,t.events=[e];else{var a=t.events;a===null?t.events=[e]:a.push(e)}}function rh(e){var t=et().memoizedState;return X0({ref:t,nextImpl:e}),function(){if((Oe&2)!==0)throw Error(r(440));return t.impl.apply(void 0,arguments)}}function oh(e,t){return As(4,2,e,t)}function uh(e,t){return As(4,4,e,t)}function ch(e,t){if(typeof t=="function"){e=e();var a=t(e);return function(){typeof a=="function"?a():t(null)}}if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function dh(e,t,a){a=a!=null?a.concat([e]):null,As(4,4,ch.bind(null,t,e),a)}function Bo(){}function hh(e,t){var a=et();t=t===void 0?null:t;var l=a.memoizedState;return t!==null&&Ao(t,l[1])?l[0]:(a.memoizedState=[e,t],e)}function fh(e,t){var a=et();t=t===void 0?null:t;var l=a.memoizedState;if(t!==null&&Ao(t,l[1]))return l[0];if(l=e(),jn){Ca(!0);try{e()}finally{Ca(!1)}}return a.memoizedState=[l,t],l}function qo(e,t,a){return a===void 0||(ya&1073741824)!==0&&(_e&261930)===0?e.memoizedState=t:(e.memoizedState=a,e=gf(),me.lanes|=e,Ia|=e,a)}function mh(e,t,a,l){return Ct(a,t)?a:ll.current!==null?(e=qo(e,a,l),Ct(e,t)||(lt=!0),e):(ya&42)===0||(ya&1073741824)!==0&&(_e&261930)===0?(lt=!0,e.memoizedState=a):(e=gf(),me.lanes|=e,Ia|=e,t)}function gh(e,t,a,l,o){var u=L.p;L.p=u!==0&&8>u?u:8;var m=R.T,v={};R.T=v,$o(e,!1,t,a);try{var w=o(),T=R.S;if(T!==null&&T(v,w),w!==null&&typeof w=="object"&&typeof w.then=="function"){var z=K0(w,l);ri(e,t,z,Bt(e))}else ri(e,t,l,Bt(e))}catch($){ri(e,t,{then:function(){},status:"rejected",reason:$},Bt())}finally{L.p=u,m!==null&&v.types!==null&&(m.types=v.types),R.T=m}}function J0(){}function Ho(e,t,a,l){if(e.tag!==5)throw Error(r(476));var o=yh(e).queue;gh(e,o,t,W,a===null?J0:function(){return ph(e),a(l)})}function yh(e){var t=e.memoizedState;if(t!==null)return t;t={memoizedState:W,baseState:W,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:pa,lastRenderedState:W},next:null};var a={};return t.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:pa,lastRenderedState:a},next:null},e.memoizedState=t,e=e.alternate,e!==null&&(e.memoizedState=t),t}function ph(e){var t=yh(e);t.next===null&&(t=e.alternate.memoizedState),ri(e,t.next.queue,{},Bt())}function Go(){return gt(ji)}function vh(){return et().memoizedState}function bh(){return et().memoizedState}function Z0(e){for(var t=e.return;t!==null;){switch(t.tag){case 24:case 3:var a=Bt();e=Ha(a);var l=Ga(t,e,a);l!==null&&(kt(l,t,a),ai(l,t,a)),t={cache:yo()},e.payload=t;return}t=t.return}}function P0(e,t,a){var l=Bt();a={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},Ts(e)?wh(t,a):(a=lo(e,t,a,l),a!==null&&(kt(a,e,l),_h(a,t,l)))}function xh(e,t,a){var l=Bt();ri(e,t,a,l)}function ri(e,t,a,l){var o={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(Ts(e))wh(t,o);else{var u=e.alternate;if(e.lanes===0&&(u===null||u.lanes===0)&&(u=t.lastRenderedReducer,u!==null))try{var m=t.lastRenderedState,v=u(m,a);if(o.hasEagerState=!0,o.eagerState=v,Ct(v,m))return os(e,t,o,0),qe===null&&rs(),!1}catch{}finally{}if(a=lo(e,t,o,l),a!==null)return kt(a,e,l),_h(a,t,l),!0}return!1}function $o(e,t,a,l){if(l={lane:2,revertLane:xu(),gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},Ts(e)){if(t)throw Error(r(479))}else t=lo(e,a,l,2),t!==null&&kt(t,e,2)}function Ts(e){var t=e.alternate;return e===me||t!==null&&t===me}function wh(e,t){il=ws=!0;var a=e.pending;a===null?t.next=t:(t.next=a.next,a.next=t),e.pending=t}function _h(e,t,a){if((a&4194048)!==0){var l=t.lanes;l&=e.pendingLanes,a|=l,t.lanes=a,Ac(e,a)}}var oi={readContext:gt,use:js,useCallback:Ze,useContext:Ze,useEffect:Ze,useImperativeHandle:Ze,useLayoutEffect:Ze,useInsertionEffect:Ze,useMemo:Ze,useReducer:Ze,useRef:Ze,useState:Ze,useDebugValue:Ze,useDeferredValue:Ze,useTransition:Ze,useSyncExternalStore:Ze,useId:Ze,useHostTransitionStatus:Ze,useFormState:Ze,useActionState:Ze,useOptimistic:Ze,useMemoCache:Ze,useCacheRefresh:Ze};oi.useEffectEvent=Ze;var Sh={readContext:gt,use:js,useCallback:function(e,t){return wt().memoizedState=[e,t===void 0?null:t],e},useContext:gt,useEffect:sh,useImperativeHandle:function(e,t,a){a=a!=null?a.concat([e]):null,Ns(4194308,4,ch.bind(null,t,e),a)},useLayoutEffect:function(e,t){return Ns(4194308,4,e,t)},useInsertionEffect:function(e,t){Ns(4,2,e,t)},useMemo:function(e,t){var a=wt();t=t===void 0?null:t;var l=e();if(jn){Ca(!0);try{e()}finally{Ca(!1)}}return a.memoizedState=[l,t],l},useReducer:function(e,t,a){var l=wt();if(a!==void 0){var o=a(t);if(jn){Ca(!0);try{a(t)}finally{Ca(!1)}}}else o=t;return l.memoizedState=l.baseState=o,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:o},l.queue=e,e=e.dispatch=P0.bind(null,me,e),[l.memoizedState,e]},useRef:function(e){var t=wt();return e={current:e},t.memoizedState=e},useState:function(e){e=Uo(e);var t=e.queue,a=xh.bind(null,me,t);return t.dispatch=a,[e.memoizedState,a]},useDebugValue:Bo,useDeferredValue:function(e,t){var a=wt();return qo(a,e,t)},useTransition:function(){var e=Uo(!1);return e=gh.bind(null,me,e.queue,!0,!1),wt().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,a){var l=me,o=wt();if(Ee){if(a===void 0)throw Error(r(407));a=a()}else{if(a=t(),qe===null)throw Error(r(349));(_e&127)!==0||Vd(l,t,a)}o.memoizedState=a;var u={value:a,getSnapshot:t};return o.queue=u,sh(Id.bind(null,l,u,e),[e]),l.flags|=2048,rl(9,{destroy:void 0},Yd.bind(null,l,u,a,t),null),a},useId:function(){var e=wt(),t=qe.identifierPrefix;if(Ee){var a=ia,l=la;a=(l&~(1<<32-Rt(l)-1)).toString(32)+a,t="_"+t+"R_"+a,a=_s++,0<a&&(t+="H"+a.toString(32)),t+="_"}else a=V0++,t="_"+t+"r_"+a.toString(32)+"_";return e.memoizedState=t},useHostTransitionStatus:Go,useFormState:th,useActionState:th,useOptimistic:function(e){var t=wt();t.memoizedState=t.baseState=e;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=a,t=$o.bind(null,me,!0,a),a.dispatch=t,[e,t]},useMemoCache:Co,useCacheRefresh:function(){return wt().memoizedState=Z0.bind(null,me)},useEffectEvent:function(e){var t=wt(),a={impl:e};return t.memoizedState=a,function(){if((Oe&2)!==0)throw Error(r(440));return a.impl.apply(void 0,arguments)}}},Ko={readContext:gt,use:js,useCallback:hh,useContext:gt,useEffect:Lo,useImperativeHandle:dh,useInsertionEffect:oh,useLayoutEffect:uh,useMemo:fh,useReducer:Es,useRef:ih,useState:function(){return Es(pa)},useDebugValue:Bo,useDeferredValue:function(e,t){var a=et();return mh(a,Me.memoizedState,e,t)},useTransition:function(){var e=Es(pa)[0],t=et().memoizedState;return[typeof e=="boolean"?e:si(e),t]},useSyncExternalStore:Kd,useId:vh,useHostTransitionStatus:Go,useFormState:ah,useActionState:ah,useOptimistic:function(e,t){var a=et();return Jd(a,Me,e,t)},useMemoCache:Co,useCacheRefresh:bh};Ko.useEffectEvent=rh;var jh={readContext:gt,use:js,useCallback:hh,useContext:gt,useEffect:Lo,useImperativeHandle:dh,useInsertionEffect:oh,useLayoutEffect:uh,useMemo:fh,useReducer:zo,useRef:ih,useState:function(){return zo(pa)},useDebugValue:Bo,useDeferredValue:function(e,t){var a=et();return Me===null?qo(a,e,t):mh(a,Me.memoizedState,e,t)},useTransition:function(){var e=zo(pa)[0],t=et().memoizedState;return[typeof e=="boolean"?e:si(e),t]},useSyncExternalStore:Kd,useId:vh,useHostTransitionStatus:Go,useFormState:lh,useActionState:lh,useOptimistic:function(e,t){var a=et();return Me!==null?Jd(a,Me,e,t):(a.baseState=e,[e,a.queue.dispatch])},useMemoCache:Co,useCacheRefresh:bh};jh.useEffectEvent=rh;function Vo(e,t,a,l){t=e.memoizedState,a=a(l,t),a=a==null?t:x({},t,a),e.memoizedState=a,e.lanes===0&&(e.updateQueue.baseState=a)}var Yo={enqueueSetState:function(e,t,a){e=e._reactInternals;var l=Bt(),o=Ha(l);o.payload=t,a!=null&&(o.callback=a),t=Ga(e,o,l),t!==null&&(kt(t,e,l),ai(t,e,l))},enqueueReplaceState:function(e,t,a){e=e._reactInternals;var l=Bt(),o=Ha(l);o.tag=1,o.payload=t,a!=null&&(o.callback=a),t=Ga(e,o,l),t!==null&&(kt(t,e,l),ai(t,e,l))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var a=Bt(),l=Ha(a);l.tag=2,t!=null&&(l.callback=t),t=Ga(e,l,a),t!==null&&(kt(t,e,a),ai(t,e,a))}};function Eh(e,t,a,l,o,u,m){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(l,u,m):t.prototype&&t.prototype.isPureReactComponent?!Xl(a,l)||!Xl(o,u):!0}function Nh(e,t,a,l){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(a,l),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(a,l),t.state!==e&&Yo.enqueueReplaceState(t,t.state,null)}function En(e,t){var a=t;if("ref"in t){a={};for(var l in t)l!=="ref"&&(a[l]=t[l])}if(e=e.defaultProps){a===t&&(a=x({},a));for(var o in e)a[o]===void 0&&(a[o]=e[o])}return a}function Ah(e){ss(e)}function Th(e){console.error(e)}function kh(e){ss(e)}function ks(e,t){try{var a=e.onUncaughtError;a(t.value,{componentStack:t.stack})}catch(l){setTimeout(function(){throw l})}}function Oh(e,t,a){try{var l=e.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:t.tag===1?t.stateNode:null})}catch(o){setTimeout(function(){throw o})}}function Io(e,t,a){return a=Ha(a),a.tag=3,a.payload={element:null},a.callback=function(){ks(e,t)},a}function Rh(e){return e=Ha(e),e.tag=3,e}function Ch(e,t,a,l){var o=a.type.getDerivedStateFromError;if(typeof o=="function"){var u=l.value;e.payload=function(){return o(u)},e.callback=function(){Oh(t,a,l)}}var m=a.stateNode;m!==null&&typeof m.componentDidCatch=="function"&&(e.callback=function(){Oh(t,a,l),typeof o!="function"&&(Qa===null?Qa=new Set([this]):Qa.add(this));var v=l.stack;this.componentDidCatch(l.value,{componentStack:v!==null?v:""})})}function W0(e,t,a,l,o){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(t=a.alternate,t!==null&&Fn(t,a,o,!0),a=zt.current,a!==null){switch(a.tag){case 31:case 13:return Xt===null?Gs():a.alternate===null&&Pe===0&&(Pe=3),a.flags&=-257,a.flags|=65536,a.lanes=o,l===ys?a.flags|=16384:(t=a.updateQueue,t===null?a.updateQueue=new Set([l]):t.add(l),pu(e,l,o)),!1;case 22:return a.flags|=65536,l===ys?a.flags|=16384:(t=a.updateQueue,t===null?(t={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=t):(a=t.retryQueue,a===null?t.retryQueue=new Set([l]):a.add(l)),pu(e,l,o)),!1}throw Error(r(435,a.tag))}return pu(e,l,o),Gs(),!1}if(Ee)return t=zt.current,t!==null?((t.flags&65536)===0&&(t.flags|=256),t.flags|=65536,t.lanes=o,l!==co&&(e=Error(r(422),{cause:l}),Pl(Vt(e,a)))):(l!==co&&(t=Error(r(423),{cause:l}),Pl(Vt(t,a))),e=e.current.alternate,e.flags|=65536,o&=-o,e.lanes|=o,l=Vt(l,a),o=Io(e.stateNode,l,o),_o(e,o),Pe!==4&&(Pe=2)),!1;var u=Error(r(520),{cause:l});if(u=Vt(u,a),yi===null?yi=[u]:yi.push(u),Pe!==4&&(Pe=2),t===null)return!0;l=Vt(l,a),a=t;do{switch(a.tag){case 3:return a.flags|=65536,e=o&-o,a.lanes|=e,e=Io(a.stateNode,l,e),_o(a,e),!1;case 1:if(t=a.type,u=a.stateNode,(a.flags&128)===0&&(typeof t.getDerivedStateFromError=="function"||u!==null&&typeof u.componentDidCatch=="function"&&(Qa===null||!Qa.has(u))))return a.flags|=65536,o&=-o,a.lanes|=o,o=Rh(o),Ch(o,e,a,l),_o(a,o),!1}a=a.return}while(a!==null);return!1}var Qo=Error(r(461)),lt=!1;function yt(e,t,a,l){t.child=e===null?Md(t,null,a,l):Sn(t,e.child,a,l)}function Dh(e,t,a,l,o){a=a.render;var u=t.ref;if("ref"in l){var m={};for(var v in l)v!=="ref"&&(m[v]=l[v])}else m=l;return bn(t),l=To(e,t,a,m,u,o),v=ko(),e!==null&&!lt?(Oo(e,t,o),va(e,t,o)):(Ee&&v&&oo(t),t.flags|=1,yt(e,t,l,o),t.child)}function zh(e,t,a,l,o){if(e===null){var u=a.type;return typeof u=="function"&&!io(u)&&u.defaultProps===void 0&&a.compare===null?(t.tag=15,t.type=u,Uh(e,t,u,l,o)):(e=cs(a.type,null,l,t,t.mode,o),e.ref=t.ref,e.return=t,t.child=e)}if(u=e.child,!tu(e,o)){var m=u.memoizedProps;if(a=a.compare,a=a!==null?a:Xl,a(m,l)&&e.ref===t.ref)return va(e,t,o)}return t.flags|=1,e=ha(u,l),e.ref=t.ref,e.return=t,t.child=e}function Uh(e,t,a,l,o){if(e!==null){var u=e.memoizedProps;if(Xl(u,l)&&e.ref===t.ref)if(lt=!1,t.pendingProps=l=u,tu(e,o))(e.flags&131072)!==0&&(lt=!0);else return t.lanes=e.lanes,va(e,t,o)}return Xo(e,t,a,l,o)}function Mh(e,t,a,l){var o=l.children,u=e!==null?e.memoizedState:null;if(e===null&&t.stateNode===null&&(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.mode==="hidden"){if((t.flags&128)!==0){if(u=u!==null?u.baseLanes|a:a,e!==null){for(l=t.child=e.child,o=0;l!==null;)o=o|l.lanes|l.childLanes,l=l.sibling;l=o&~u}else l=0,t.child=null;return Lh(e,t,u,a,l)}if((a&536870912)!==0)t.memoizedState={baseLanes:0,cachePool:null},e!==null&&ms(t,u!==null?u.cachePool:null),u!==null?qd(t,u):jo(),Hd(t);else return l=t.lanes=536870912,Lh(e,t,u!==null?u.baseLanes|a:a,a,l)}else u!==null?(ms(t,u.cachePool),qd(t,u),Ka(),t.memoizedState=null):(e!==null&&ms(t,null),jo(),Ka());return yt(e,t,o,a),t.child}function ui(e,t){return e!==null&&e.tag===22||t.stateNode!==null||(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),t.sibling}function Lh(e,t,a,l,o){var u=vo();return u=u===null?null:{parent:at._currentValue,pool:u},t.memoizedState={baseLanes:a,cachePool:u},e!==null&&ms(t,null),jo(),Hd(t),e!==null&&Fn(e,t,l,!0),t.childLanes=o,null}function Os(e,t){return t=Cs({mode:t.mode,children:t.children},e.mode),t.ref=e.ref,e.child=t,t.return=e,t}function Bh(e,t,a){return Sn(t,e.child,null,a),e=Os(t,t.pendingProps),e.flags|=2,Ut(t),t.memoizedState=null,e}function F0(e,t,a){var l=t.pendingProps,o=(t.flags&128)!==0;if(t.flags&=-129,e===null){if(Ee){if(l.mode==="hidden")return e=Os(t,l),t.lanes=536870912,ui(null,e);if(No(t),(e=Ve)?(e=Pf(e,Qt),e=e!==null&&e.data==="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:Ua!==null?{id:la,overflow:ia}:null,retryLane:536870912,hydrationErrors:null},a=wd(e),a.return=t,t.child=a,mt=t,Ve=null)):e=null,e===null)throw La(t);return t.lanes=536870912,null}return Os(t,l)}var u=e.memoizedState;if(u!==null){var m=u.dehydrated;if(No(t),o)if(t.flags&256)t.flags&=-257,t=Bh(e,t,a);else if(t.memoizedState!==null)t.child=e.child,t.flags|=128,t=null;else throw Error(r(558));else if(lt||Fn(e,t,a,!1),o=(a&e.childLanes)!==0,lt||o){if(l=qe,l!==null&&(m=Tc(l,a),m!==0&&m!==u.retryLane))throw u.retryLane=m,gn(e,m),kt(l,e,m),Qo;Gs(),t=Bh(e,t,a)}else e=u.treeContext,Ve=Jt(m.nextSibling),mt=t,Ee=!0,Ma=null,Qt=!1,e!==null&&jd(t,e),t=Os(t,l),t.flags|=4096;return t}return e=ha(e.child,{mode:l.mode,children:l.children}),e.ref=t.ref,t.child=e,e.return=t,e}function Rs(e,t){var a=t.ref;if(a===null)e!==null&&e.ref!==null&&(t.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(r(284));(e===null||e.ref!==a)&&(t.flags|=4194816)}}function Xo(e,t,a,l,o){return bn(t),a=To(e,t,a,l,void 0,o),l=ko(),e!==null&&!lt?(Oo(e,t,o),va(e,t,o)):(Ee&&l&&oo(t),t.flags|=1,yt(e,t,a,o),t.child)}function qh(e,t,a,l,o,u){return bn(t),t.updateQueue=null,a=$d(t,l,a,o),Gd(e),l=ko(),e!==null&&!lt?(Oo(e,t,u),va(e,t,u)):(Ee&&l&&oo(t),t.flags|=1,yt(e,t,a,u),t.child)}function Hh(e,t,a,l,o){if(bn(t),t.stateNode===null){var u=Jn,m=a.contextType;typeof m=="object"&&m!==null&&(u=gt(m)),u=new a(l,u),t.memoizedState=u.state!==null&&u.state!==void 0?u.state:null,u.updater=Yo,t.stateNode=u,u._reactInternals=t,u=t.stateNode,u.props=l,u.state=t.memoizedState,u.refs={},xo(t),m=a.contextType,u.context=typeof m=="object"&&m!==null?gt(m):Jn,u.state=t.memoizedState,m=a.getDerivedStateFromProps,typeof m=="function"&&(Vo(t,a,m,l),u.state=t.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof u.getSnapshotBeforeUpdate=="function"||typeof u.UNSAFE_componentWillMount!="function"&&typeof u.componentWillMount!="function"||(m=u.state,typeof u.componentWillMount=="function"&&u.componentWillMount(),typeof u.UNSAFE_componentWillMount=="function"&&u.UNSAFE_componentWillMount(),m!==u.state&&Yo.enqueueReplaceState(u,u.state,null),li(t,l,u,o),ni(),u.state=t.memoizedState),typeof u.componentDidMount=="function"&&(t.flags|=4194308),l=!0}else if(e===null){u=t.stateNode;var v=t.memoizedProps,w=En(a,v);u.props=w;var T=u.context,z=a.contextType;m=Jn,typeof z=="object"&&z!==null&&(m=gt(z));var $=a.getDerivedStateFromProps;z=typeof $=="function"||typeof u.getSnapshotBeforeUpdate=="function",v=t.pendingProps!==v,z||typeof u.UNSAFE_componentWillReceiveProps!="function"&&typeof u.componentWillReceiveProps!="function"||(v||T!==m)&&Nh(t,u,l,m),qa=!1;var O=t.memoizedState;u.state=O,li(t,l,u,o),ni(),T=t.memoizedState,v||O!==T||qa?(typeof $=="function"&&(Vo(t,a,$,l),T=t.memoizedState),(w=qa||Eh(t,a,w,l,O,T,m))?(z||typeof u.UNSAFE_componentWillMount!="function"&&typeof u.componentWillMount!="function"||(typeof u.componentWillMount=="function"&&u.componentWillMount(),typeof u.UNSAFE_componentWillMount=="function"&&u.UNSAFE_componentWillMount()),typeof u.componentDidMount=="function"&&(t.flags|=4194308)):(typeof u.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=l,t.memoizedState=T),u.props=l,u.state=T,u.context=m,l=w):(typeof u.componentDidMount=="function"&&(t.flags|=4194308),l=!1)}else{u=t.stateNode,wo(e,t),m=t.memoizedProps,z=En(a,m),u.props=z,$=t.pendingProps,O=u.context,T=a.contextType,w=Jn,typeof T=="object"&&T!==null&&(w=gt(T)),v=a.getDerivedStateFromProps,(T=typeof v=="function"||typeof u.getSnapshotBeforeUpdate=="function")||typeof u.UNSAFE_componentWillReceiveProps!="function"&&typeof u.componentWillReceiveProps!="function"||(m!==$||O!==w)&&Nh(t,u,l,w),qa=!1,O=t.memoizedState,u.state=O,li(t,l,u,o),ni();var C=t.memoizedState;m!==$||O!==C||qa||e!==null&&e.dependencies!==null&&hs(e.dependencies)?(typeof v=="function"&&(Vo(t,a,v,l),C=t.memoizedState),(z=qa||Eh(t,a,z,l,O,C,w)||e!==null&&e.dependencies!==null&&hs(e.dependencies))?(T||typeof u.UNSAFE_componentWillUpdate!="function"&&typeof u.componentWillUpdate!="function"||(typeof u.componentWillUpdate=="function"&&u.componentWillUpdate(l,C,w),typeof u.UNSAFE_componentWillUpdate=="function"&&u.UNSAFE_componentWillUpdate(l,C,w)),typeof u.componentDidUpdate=="function"&&(t.flags|=4),typeof u.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof u.componentDidUpdate!="function"||m===e.memoizedProps&&O===e.memoizedState||(t.flags|=4),typeof u.getSnapshotBeforeUpdate!="function"||m===e.memoizedProps&&O===e.memoizedState||(t.flags|=1024),t.memoizedProps=l,t.memoizedState=C),u.props=l,u.state=C,u.context=w,l=z):(typeof u.componentDidUpdate!="function"||m===e.memoizedProps&&O===e.memoizedState||(t.flags|=4),typeof u.getSnapshotBeforeUpdate!="function"||m===e.memoizedProps&&O===e.memoizedState||(t.flags|=1024),l=!1)}return u=l,Rs(e,t),l=(t.flags&128)!==0,u||l?(u=t.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:u.render(),t.flags|=1,e!==null&&l?(t.child=Sn(t,e.child,null,o),t.child=Sn(t,null,a,o)):yt(e,t,a,o),t.memoizedState=u.state,e=t.child):e=va(e,t,o),e}function Gh(e,t,a,l){return pn(),t.flags|=256,yt(e,t,a,l),t.child}var Jo={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Zo(e){return{baseLanes:e,cachePool:Od()}}function Po(e,t,a){return e=e!==null?e.childLanes&~a:0,t&&(e|=Lt),e}function $h(e,t,a){var l=t.pendingProps,o=!1,u=(t.flags&128)!==0,m;if((m=u)||(m=e!==null&&e.memoizedState===null?!1:(Fe.current&2)!==0),m&&(o=!0,t.flags&=-129),m=(t.flags&32)!==0,t.flags&=-33,e===null){if(Ee){if(o?$a(t):Ka(),(e=Ve)?(e=Pf(e,Qt),e=e!==null&&e.data!=="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:Ua!==null?{id:la,overflow:ia}:null,retryLane:536870912,hydrationErrors:null},a=wd(e),a.return=t,t.child=a,mt=t,Ve=null)):e=null,e===null)throw La(t);return Du(e)?t.lanes=32:t.lanes=536870912,null}var v=l.children;return l=l.fallback,o?(Ka(),o=t.mode,v=Cs({mode:"hidden",children:v},o),l=yn(l,o,a,null),v.return=t,l.return=t,v.sibling=l,t.child=v,l=t.child,l.memoizedState=Zo(a),l.childLanes=Po(e,m,a),t.memoizedState=Jo,ui(null,l)):($a(t),Wo(t,v))}var w=e.memoizedState;if(w!==null&&(v=w.dehydrated,v!==null)){if(u)t.flags&256?($a(t),t.flags&=-257,t=Fo(e,t,a)):t.memoizedState!==null?(Ka(),t.child=e.child,t.flags|=128,t=null):(Ka(),v=l.fallback,o=t.mode,l=Cs({mode:"visible",children:l.children},o),v=yn(v,o,a,null),v.flags|=2,l.return=t,v.return=t,l.sibling=v,t.child=l,Sn(t,e.child,null,a),l=t.child,l.memoizedState=Zo(a),l.childLanes=Po(e,m,a),t.memoizedState=Jo,t=ui(null,l));else if($a(t),Du(v)){if(m=v.nextSibling&&v.nextSibling.dataset,m)var T=m.dgst;m=T,l=Error(r(419)),l.stack="",l.digest=m,Pl({value:l,source:null,stack:null}),t=Fo(e,t,a)}else if(lt||Fn(e,t,a,!1),m=(a&e.childLanes)!==0,lt||m){if(m=qe,m!==null&&(l=Tc(m,a),l!==0&&l!==w.retryLane))throw w.retryLane=l,gn(e,l),kt(m,e,l),Qo;Cu(v)||Gs(),t=Fo(e,t,a)}else Cu(v)?(t.flags|=192,t.child=e.child,t=null):(e=w.treeContext,Ve=Jt(v.nextSibling),mt=t,Ee=!0,Ma=null,Qt=!1,e!==null&&jd(t,e),t=Wo(t,l.children),t.flags|=4096);return t}return o?(Ka(),v=l.fallback,o=t.mode,w=e.child,T=w.sibling,l=ha(w,{mode:"hidden",children:l.children}),l.subtreeFlags=w.subtreeFlags&65011712,T!==null?v=ha(T,v):(v=yn(v,o,a,null),v.flags|=2),v.return=t,l.return=t,l.sibling=v,t.child=l,ui(null,l),l=t.child,v=e.child.memoizedState,v===null?v=Zo(a):(o=v.cachePool,o!==null?(w=at._currentValue,o=o.parent!==w?{parent:w,pool:w}:o):o=Od(),v={baseLanes:v.baseLanes|a,cachePool:o}),l.memoizedState=v,l.childLanes=Po(e,m,a),t.memoizedState=Jo,ui(e.child,l)):($a(t),a=e.child,e=a.sibling,a=ha(a,{mode:"visible",children:l.children}),a.return=t,a.sibling=null,e!==null&&(m=t.deletions,m===null?(t.deletions=[e],t.flags|=16):m.push(e)),t.child=a,t.memoizedState=null,a)}function Wo(e,t){return t=Cs({mode:"visible",children:t},e.mode),t.return=e,e.child=t}function Cs(e,t){return e=Dt(22,e,null,t),e.lanes=0,e}function Fo(e,t,a){return Sn(t,e.child,null,a),e=Wo(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Kh(e,t,a){e.lanes|=t;var l=e.alternate;l!==null&&(l.lanes|=t),mo(e.return,t,a)}function eu(e,t,a,l,o,u){var m=e.memoizedState;m===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:o,treeForkCount:u}:(m.isBackwards=t,m.rendering=null,m.renderingStartTime=0,m.last=l,m.tail=a,m.tailMode=o,m.treeForkCount=u)}function Vh(e,t,a){var l=t.pendingProps,o=l.revealOrder,u=l.tail;l=l.children;var m=Fe.current,v=(m&2)!==0;if(v?(m=m&1|2,t.flags|=128):m&=1,Q(Fe,m),yt(e,t,l,a),l=Ee?Zl:0,!v&&e!==null&&(e.flags&128)!==0)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Kh(e,a,t);else if(e.tag===19)Kh(e,a,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(o){case"forwards":for(a=t.child,o=null;a!==null;)e=a.alternate,e!==null&&xs(e)===null&&(o=a),a=a.sibling;a=o,a===null?(o=t.child,t.child=null):(o=a.sibling,a.sibling=null),eu(t,!1,o,a,u,l);break;case"backwards":case"unstable_legacy-backwards":for(a=null,o=t.child,t.child=null;o!==null;){if(e=o.alternate,e!==null&&xs(e)===null){t.child=o;break}e=o.sibling,o.sibling=a,a=o,o=e}eu(t,!0,a,null,u,l);break;case"together":eu(t,!1,null,null,void 0,l);break;default:t.memoizedState=null}return t.child}function va(e,t,a){if(e!==null&&(t.dependencies=e.dependencies),Ia|=t.lanes,(a&t.childLanes)===0)if(e!==null){if(Fn(e,t,a,!1),(a&t.childLanes)===0)return null}else return null;if(e!==null&&t.child!==e.child)throw Error(r(153));if(t.child!==null){for(e=t.child,a=ha(e,e.pendingProps),t.child=a,a.return=t;e.sibling!==null;)e=e.sibling,a=a.sibling=ha(e,e.pendingProps),a.return=t;a.sibling=null}return t.child}function tu(e,t){return(e.lanes&t)!==0?!0:(e=e.dependencies,!!(e!==null&&hs(e)))}function ey(e,t,a){switch(t.tag){case 3:tt(t,t.stateNode.containerInfo),Ba(t,at,e.memoizedState.cache),pn();break;case 27:case 5:on(t);break;case 4:tt(t,t.stateNode.containerInfo);break;case 10:Ba(t,t.type,t.memoizedProps.value);break;case 31:if(t.memoizedState!==null)return t.flags|=128,No(t),null;break;case 13:var l=t.memoizedState;if(l!==null)return l.dehydrated!==null?($a(t),t.flags|=128,null):(a&t.child.childLanes)!==0?$h(e,t,a):($a(t),e=va(e,t,a),e!==null?e.sibling:null);$a(t);break;case 19:var o=(e.flags&128)!==0;if(l=(a&t.childLanes)!==0,l||(Fn(e,t,a,!1),l=(a&t.childLanes)!==0),o){if(l)return Vh(e,t,a);t.flags|=128}if(o=t.memoizedState,o!==null&&(o.rendering=null,o.tail=null,o.lastEffect=null),Q(Fe,Fe.current),l)break;return null;case 22:return t.lanes=0,Mh(e,t,a,t.pendingProps);case 24:Ba(t,at,e.memoizedState.cache)}return va(e,t,a)}function Yh(e,t,a){if(e!==null)if(e.memoizedProps!==t.pendingProps)lt=!0;else{if(!tu(e,a)&&(t.flags&128)===0)return lt=!1,ey(e,t,a);lt=(e.flags&131072)!==0}else lt=!1,Ee&&(t.flags&1048576)!==0&&Sd(t,Zl,t.index);switch(t.lanes=0,t.tag){case 16:e:{var l=t.pendingProps;if(e=wn(t.elementType),t.type=e,typeof e=="function")io(e)?(l=En(e,l),t.tag=1,t=Hh(null,t,e,l,a)):(t.tag=0,t=Xo(null,t,e,l,a));else{if(e!=null){var o=e.$$typeof;if(o===X){t.tag=11,t=Dh(null,t,e,l,a);break e}else if(o===I){t.tag=14,t=zh(null,t,e,l,a);break e}}throw t=be(e)||e,Error(r(306,t,""))}}return t;case 0:return Xo(e,t,t.type,t.pendingProps,a);case 1:return l=t.type,o=En(l,t.pendingProps),Hh(e,t,l,o,a);case 3:e:{if(tt(t,t.stateNode.containerInfo),e===null)throw Error(r(387));l=t.pendingProps;var u=t.memoizedState;o=u.element,wo(e,t),li(t,l,null,a);var m=t.memoizedState;if(l=m.cache,Ba(t,at,l),l!==u.cache&&go(t,[at],a,!0),ni(),l=m.element,u.isDehydrated)if(u={element:l,isDehydrated:!1,cache:m.cache},t.updateQueue.baseState=u,t.memoizedState=u,t.flags&256){t=Gh(e,t,l,a);break e}else if(l!==o){o=Vt(Error(r(424)),t),Pl(o),t=Gh(e,t,l,a);break e}else{switch(e=t.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(Ve=Jt(e.firstChild),mt=t,Ee=!0,Ma=null,Qt=!0,a=Md(t,null,l,a),t.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(pn(),l===o){t=va(e,t,a);break e}yt(e,t,l,a)}t=t.child}return t;case 26:return Rs(e,t),e===null?(a=nm(t.type,null,t.pendingProps,null))?t.memoizedState=a:Ee||(a=t.type,e=t.pendingProps,l=Xs(ue.current).createElement(a),l[ft]=t,l[St]=e,pt(l,a,e),ct(l),t.stateNode=l):t.memoizedState=nm(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return on(t),e===null&&Ee&&(l=t.stateNode=em(t.type,t.pendingProps,ue.current),mt=t,Qt=!0,o=Ve,Pa(t.type)?(zu=o,Ve=Jt(l.firstChild)):Ve=o),yt(e,t,t.pendingProps.children,a),Rs(e,t),e===null&&(t.flags|=4194304),t.child;case 5:return e===null&&Ee&&((o=l=Ve)&&(l=Oy(l,t.type,t.pendingProps,Qt),l!==null?(t.stateNode=l,mt=t,Ve=Jt(l.firstChild),Qt=!1,o=!0):o=!1),o||La(t)),on(t),o=t.type,u=t.pendingProps,m=e!==null?e.memoizedProps:null,l=u.children,ku(o,u)?l=null:m!==null&&ku(o,m)&&(t.flags|=32),t.memoizedState!==null&&(o=To(e,t,Y0,null,null,a),ji._currentValue=o),Rs(e,t),yt(e,t,l,a),t.child;case 6:return e===null&&Ee&&((e=a=Ve)&&(a=Ry(a,t.pendingProps,Qt),a!==null?(t.stateNode=a,mt=t,Ve=null,e=!0):e=!1),e||La(t)),null;case 13:return $h(e,t,a);case 4:return tt(t,t.stateNode.containerInfo),l=t.pendingProps,e===null?t.child=Sn(t,null,l,a):yt(e,t,l,a),t.child;case 11:return Dh(e,t,t.type,t.pendingProps,a);case 7:return yt(e,t,t.pendingProps,a),t.child;case 8:return yt(e,t,t.pendingProps.children,a),t.child;case 12:return yt(e,t,t.pendingProps.children,a),t.child;case 10:return l=t.pendingProps,Ba(t,t.type,l.value),yt(e,t,l.children,a),t.child;case 9:return o=t.type._context,l=t.pendingProps.children,bn(t),o=gt(o),l=l(o),t.flags|=1,yt(e,t,l,a),t.child;case 14:return zh(e,t,t.type,t.pendingProps,a);case 15:return Uh(e,t,t.type,t.pendingProps,a);case 19:return Vh(e,t,a);case 31:return F0(e,t,a);case 22:return Mh(e,t,a,t.pendingProps);case 24:return bn(t),l=gt(at),e===null?(o=vo(),o===null&&(o=qe,u=yo(),o.pooledCache=u,u.refCount++,u!==null&&(o.pooledCacheLanes|=a),o=u),t.memoizedState={parent:l,cache:o},xo(t),Ba(t,at,o)):((e.lanes&a)!==0&&(wo(e,t),li(t,null,null,a),ni()),o=e.memoizedState,u=t.memoizedState,o.parent!==l?(o={parent:l,cache:l},t.memoizedState=o,t.lanes===0&&(t.memoizedState=t.updateQueue.baseState=o),Ba(t,at,l)):(l=u.cache,Ba(t,at,l),l!==o.cache&&go(t,[at],a,!0))),yt(e,t,t.pendingProps.children,a),t.child;case 29:throw t.pendingProps}throw Error(r(156,t.tag))}function ba(e){e.flags|=4}function au(e,t,a,l,o){if((t=(e.mode&32)!==0)&&(t=!1),t){if(e.flags|=16777216,(o&335544128)===o)if(e.stateNode.complete)e.flags|=8192;else if(bf())e.flags|=8192;else throw _n=ys,bo}else e.flags&=-16777217}function Ih(e,t){if(t.type!=="stylesheet"||(t.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!om(t))if(bf())e.flags|=8192;else throw _n=ys,bo}function Ds(e,t){t!==null&&(e.flags|=4),e.flags&16384&&(t=e.tag!==22?Ec():536870912,e.lanes|=t,dl|=t)}function ci(e,t){if(!Ee)switch(e.tailMode){case"hidden":t=e.tail;for(var a=null;t!==null;)t.alternate!==null&&(a=t),t=t.sibling;a===null?e.tail=null:a.sibling=null;break;case"collapsed":a=e.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:l.sibling=null}}function Ye(e){var t=e.alternate!==null&&e.alternate.child===e.child,a=0,l=0;if(t)for(var o=e.child;o!==null;)a|=o.lanes|o.childLanes,l|=o.subtreeFlags&65011712,l|=o.flags&65011712,o.return=e,o=o.sibling;else for(o=e.child;o!==null;)a|=o.lanes|o.childLanes,l|=o.subtreeFlags,l|=o.flags,o.return=e,o=o.sibling;return e.subtreeFlags|=l,e.childLanes=a,t}function ty(e,t,a){var l=t.pendingProps;switch(uo(t),t.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ye(t),null;case 1:return Ye(t),null;case 3:return a=t.stateNode,l=null,e!==null&&(l=e.memoizedState.cache),t.memoizedState.cache!==l&&(t.flags|=2048),ga(at),Ie(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(e===null||e.child===null)&&(Wn(t)?ba(t):e===null||e.memoizedState.isDehydrated&&(t.flags&256)===0||(t.flags|=1024,ho())),Ye(t),null;case 26:var o=t.type,u=t.memoizedState;return e===null?(ba(t),u!==null?(Ye(t),Ih(t,u)):(Ye(t),au(t,o,null,l,a))):u?u!==e.memoizedState?(ba(t),Ye(t),Ih(t,u)):(Ye(t),t.flags&=-16777217):(e=e.memoizedProps,e!==l&&ba(t),Ye(t),au(t,o,e,l,a)),null;case 27:if(zn(t),a=ue.current,o=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==l&&ba(t);else{if(!l){if(t.stateNode===null)throw Error(r(166));return Ye(t),null}e=K.current,Wn(t)?Ed(t):(e=em(o,l,a),t.stateNode=e,ba(t))}return Ye(t),null;case 5:if(zn(t),o=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==l&&ba(t);else{if(!l){if(t.stateNode===null)throw Error(r(166));return Ye(t),null}if(u=K.current,Wn(t))Ed(t);else{var m=Xs(ue.current);switch(u){case 1:u=m.createElementNS("http://www.w3.org/2000/svg",o);break;case 2:u=m.createElementNS("http://www.w3.org/1998/Math/MathML",o);break;default:switch(o){case"svg":u=m.createElementNS("http://www.w3.org/2000/svg",o);break;case"math":u=m.createElementNS("http://www.w3.org/1998/Math/MathML",o);break;case"script":u=m.createElement("div"),u.innerHTML="<script><\/script>",u=u.removeChild(u.firstChild);break;case"select":u=typeof l.is=="string"?m.createElement("select",{is:l.is}):m.createElement("select"),l.multiple?u.multiple=!0:l.size&&(u.size=l.size);break;default:u=typeof l.is=="string"?m.createElement(o,{is:l.is}):m.createElement(o)}}u[ft]=t,u[St]=l;e:for(m=t.child;m!==null;){if(m.tag===5||m.tag===6)u.appendChild(m.stateNode);else if(m.tag!==4&&m.tag!==27&&m.child!==null){m.child.return=m,m=m.child;continue}if(m===t)break e;for(;m.sibling===null;){if(m.return===null||m.return===t)break e;m=m.return}m.sibling.return=m.return,m=m.sibling}t.stateNode=u;e:switch(pt(u,o,l),o){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break e;case"img":l=!0;break e;default:l=!1}l&&ba(t)}}return Ye(t),au(t,t.type,e===null?null:e.memoizedProps,t.pendingProps,a),null;case 6:if(e&&t.stateNode!=null)e.memoizedProps!==l&&ba(t);else{if(typeof l!="string"&&t.stateNode===null)throw Error(r(166));if(e=ue.current,Wn(t)){if(e=t.stateNode,a=t.memoizedProps,l=null,o=mt,o!==null)switch(o.tag){case 27:case 5:l=o.memoizedProps}e[ft]=t,e=!!(e.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||Kf(e.nodeValue,a)),e||La(t,!0)}else e=Xs(e).createTextNode(l),e[ft]=t,t.stateNode=e}return Ye(t),null;case 31:if(a=t.memoizedState,e===null||e.memoizedState!==null){if(l=Wn(t),a!==null){if(e===null){if(!l)throw Error(r(318));if(e=t.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(r(557));e[ft]=t}else pn(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;Ye(t),e=!1}else a=ho(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=a),e=!0;if(!e)return t.flags&256?(Ut(t),t):(Ut(t),null);if((t.flags&128)!==0)throw Error(r(558))}return Ye(t),null;case 13:if(l=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(o=Wn(t),l!==null&&l.dehydrated!==null){if(e===null){if(!o)throw Error(r(318));if(o=t.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(r(317));o[ft]=t}else pn(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;Ye(t),o=!1}else o=ho(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=o),o=!0;if(!o)return t.flags&256?(Ut(t),t):(Ut(t),null)}return Ut(t),(t.flags&128)!==0?(t.lanes=a,t):(a=l!==null,e=e!==null&&e.memoizedState!==null,a&&(l=t.child,o=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(o=l.alternate.memoizedState.cachePool.pool),u=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(u=l.memoizedState.cachePool.pool),u!==o&&(l.flags|=2048)),a!==e&&a&&(t.child.flags|=8192),Ds(t,t.updateQueue),Ye(t),null);case 4:return Ie(),e===null&&ju(t.stateNode.containerInfo),Ye(t),null;case 10:return ga(t.type),Ye(t),null;case 19:if(G(Fe),l=t.memoizedState,l===null)return Ye(t),null;if(o=(t.flags&128)!==0,u=l.rendering,u===null)if(o)ci(l,!1);else{if(Pe!==0||e!==null&&(e.flags&128)!==0)for(e=t.child;e!==null;){if(u=xs(e),u!==null){for(t.flags|=128,ci(l,!1),e=u.updateQueue,t.updateQueue=e,Ds(t,e),t.subtreeFlags=0,e=a,a=t.child;a!==null;)xd(a,e),a=a.sibling;return Q(Fe,Fe.current&1|2),Ee&&fa(t,l.treeForkCount),t.child}e=e.sibling}l.tail!==null&&$e()>Bs&&(t.flags|=128,o=!0,ci(l,!1),t.lanes=4194304)}else{if(!o)if(e=xs(u),e!==null){if(t.flags|=128,o=!0,e=e.updateQueue,t.updateQueue=e,Ds(t,e),ci(l,!0),l.tail===null&&l.tailMode==="hidden"&&!u.alternate&&!Ee)return Ye(t),null}else 2*$e()-l.renderingStartTime>Bs&&a!==536870912&&(t.flags|=128,o=!0,ci(l,!1),t.lanes=4194304);l.isBackwards?(u.sibling=t.child,t.child=u):(e=l.last,e!==null?e.sibling=u:t.child=u,l.last=u)}return l.tail!==null?(e=l.tail,l.rendering=e,l.tail=e.sibling,l.renderingStartTime=$e(),e.sibling=null,a=Fe.current,Q(Fe,o?a&1|2:a&1),Ee&&fa(t,l.treeForkCount),e):(Ye(t),null);case 22:case 23:return Ut(t),Eo(),l=t.memoizedState!==null,e!==null?e.memoizedState!==null!==l&&(t.flags|=8192):l&&(t.flags|=8192),l?(a&536870912)!==0&&(t.flags&128)===0&&(Ye(t),t.subtreeFlags&6&&(t.flags|=8192)):Ye(t),a=t.updateQueue,a!==null&&Ds(t,a.retryQueue),a=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),l=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(l=t.memoizedState.cachePool.pool),l!==a&&(t.flags|=2048),e!==null&&G(xn),null;case 24:return a=null,e!==null&&(a=e.memoizedState.cache),t.memoizedState.cache!==a&&(t.flags|=2048),ga(at),Ye(t),null;case 25:return null;case 30:return null}throw Error(r(156,t.tag))}function ay(e,t){switch(uo(t),t.tag){case 1:return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return ga(at),Ie(),e=t.flags,(e&65536)!==0&&(e&128)===0?(t.flags=e&-65537|128,t):null;case 26:case 27:case 5:return zn(t),null;case 31:if(t.memoizedState!==null){if(Ut(t),t.alternate===null)throw Error(r(340));pn()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 13:if(Ut(t),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(r(340));pn()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return G(Fe),null;case 4:return Ie(),null;case 10:return ga(t.type),null;case 22:case 23:return Ut(t),Eo(),e!==null&&G(xn),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 24:return ga(at),null;case 25:return null;default:return null}}function Qh(e,t){switch(uo(t),t.tag){case 3:ga(at),Ie();break;case 26:case 27:case 5:zn(t);break;case 4:Ie();break;case 31:t.memoizedState!==null&&Ut(t);break;case 13:Ut(t);break;case 19:G(Fe);break;case 10:ga(t.type);break;case 22:case 23:Ut(t),Eo(),e!==null&&G(xn);break;case 24:ga(at)}}function di(e,t){try{var a=t.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var o=l.next;a=o;do{if((a.tag&e)===e){l=void 0;var u=a.create,m=a.inst;l=u(),m.destroy=l}a=a.next}while(a!==o)}}catch(v){De(t,t.return,v)}}function Va(e,t,a){try{var l=t.updateQueue,o=l!==null?l.lastEffect:null;if(o!==null){var u=o.next;l=u;do{if((l.tag&e)===e){var m=l.inst,v=m.destroy;if(v!==void 0){m.destroy=void 0,o=t;var w=a,T=v;try{T()}catch(z){De(o,w,z)}}}l=l.next}while(l!==u)}}catch(z){De(t,t.return,z)}}function Xh(e){var t=e.updateQueue;if(t!==null){var a=e.stateNode;try{Bd(t,a)}catch(l){De(e,e.return,l)}}}function Jh(e,t,a){a.props=En(e.type,e.memoizedProps),a.state=e.memoizedState;try{a.componentWillUnmount()}catch(l){De(e,t,l)}}function hi(e,t){try{var a=e.ref;if(a!==null){switch(e.tag){case 26:case 27:case 5:var l=e.stateNode;break;case 30:l=e.stateNode;break;default:l=e.stateNode}typeof a=="function"?e.refCleanup=a(l):a.current=l}}catch(o){De(e,t,o)}}function sa(e,t){var a=e.ref,l=e.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(o){De(e,t,o)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(o){De(e,t,o)}else a.current=null}function Zh(e){var t=e.type,a=e.memoizedProps,l=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break e;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(o){De(e,e.return,o)}}function nu(e,t,a){try{var l=e.stateNode;jy(l,e.type,a,t),l[St]=t}catch(o){De(e,e.return,o)}}function Ph(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&Pa(e.type)||e.tag===4}function lu(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Ph(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&Pa(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function iu(e,t,a){var l=e.tag;if(l===5||l===6)e=e.stateNode,t?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(e,t):(t=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,t.appendChild(e),a=a._reactRootContainer,a!=null||t.onclick!==null||(t.onclick=ca));else if(l!==4&&(l===27&&Pa(e.type)&&(a=e.stateNode,t=null),e=e.child,e!==null))for(iu(e,t,a),e=e.sibling;e!==null;)iu(e,t,a),e=e.sibling}function zs(e,t,a){var l=e.tag;if(l===5||l===6)e=e.stateNode,t?a.insertBefore(e,t):a.appendChild(e);else if(l!==4&&(l===27&&Pa(e.type)&&(a=e.stateNode),e=e.child,e!==null))for(zs(e,t,a),e=e.sibling;e!==null;)zs(e,t,a),e=e.sibling}function Wh(e){var t=e.stateNode,a=e.memoizedProps;try{for(var l=e.type,o=t.attributes;o.length;)t.removeAttributeNode(o[0]);pt(t,l,a),t[ft]=e,t[St]=a}catch(u){De(e,e.return,u)}}var xa=!1,it=!1,su=!1,Fh=typeof WeakSet=="function"?WeakSet:Set,dt=null;function ny(e,t){if(e=e.containerInfo,Au=tr,e=dd(e),Wr(e)){if("selectionStart"in e)var a={start:e.selectionStart,end:e.selectionEnd};else e:{a=(a=e.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var o=l.anchorOffset,u=l.focusNode;l=l.focusOffset;try{a.nodeType,u.nodeType}catch{a=null;break e}var m=0,v=-1,w=-1,T=0,z=0,$=e,O=null;t:for(;;){for(var C;$!==a||o!==0&&$.nodeType!==3||(v=m+o),$!==u||l!==0&&$.nodeType!==3||(w=m+l),$.nodeType===3&&(m+=$.nodeValue.length),(C=$.firstChild)!==null;)O=$,$=C;for(;;){if($===e)break t;if(O===a&&++T===o&&(v=m),O===u&&++z===l&&(w=m),(C=$.nextSibling)!==null)break;$=O,O=$.parentNode}$=C}a=v===-1||w===-1?null:{start:v,end:w}}else a=null}a=a||{start:0,end:0}}else a=null;for(Tu={focusedElem:e,selectionRange:a},tr=!1,dt=t;dt!==null;)if(t=dt,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,dt=e;else for(;dt!==null;){switch(t=dt,u=t.alternate,e=t.flags,t.tag){case 0:if((e&4)!==0&&(e=t.updateQueue,e=e!==null?e.events:null,e!==null))for(a=0;a<e.length;a++)o=e[a],o.ref.impl=o.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&u!==null){e=void 0,a=t,o=u.memoizedProps,u=u.memoizedState,l=a.stateNode;try{var F=En(a.type,o);e=l.getSnapshotBeforeUpdate(F,u),l.__reactInternalSnapshotBeforeUpdate=e}catch(re){De(a,a.return,re)}}break;case 3:if((e&1024)!==0){if(e=t.stateNode.containerInfo,a=e.nodeType,a===9)Ru(e);else if(a===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":Ru(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(r(163))}if(e=t.sibling,e!==null){e.return=t.return,dt=e;break}dt=t.return}}function ef(e,t,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:_a(e,a),l&4&&di(5,a);break;case 1:if(_a(e,a),l&4)if(e=a.stateNode,t===null)try{e.componentDidMount()}catch(m){De(a,a.return,m)}else{var o=En(a.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(o,t,e.__reactInternalSnapshotBeforeUpdate)}catch(m){De(a,a.return,m)}}l&64&&Xh(a),l&512&&hi(a,a.return);break;case 3:if(_a(e,a),l&64&&(e=a.updateQueue,e!==null)){if(t=null,a.child!==null)switch(a.child.tag){case 27:case 5:t=a.child.stateNode;break;case 1:t=a.child.stateNode}try{Bd(e,t)}catch(m){De(a,a.return,m)}}break;case 27:t===null&&l&4&&Wh(a);case 26:case 5:_a(e,a),t===null&&l&4&&Zh(a),l&512&&hi(a,a.return);break;case 12:_a(e,a);break;case 31:_a(e,a),l&4&&nf(e,a);break;case 13:_a(e,a),l&4&&lf(e,a),l&64&&(e=a.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(a=hy.bind(null,a),Cy(e,a))));break;case 22:if(l=a.memoizedState!==null||xa,!l){t=t!==null&&t.memoizedState!==null||it,o=xa;var u=it;xa=l,(it=t)&&!u?Sa(e,a,(a.subtreeFlags&8772)!==0):_a(e,a),xa=o,it=u}break;case 30:break;default:_a(e,a)}}function tf(e){var t=e.alternate;t!==null&&(e.alternate=null,tf(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&Ur(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var Qe=null,Et=!1;function wa(e,t,a){for(a=a.child;a!==null;)af(e,t,a),a=a.sibling}function af(e,t,a){if(Ot&&typeof Ot.onCommitFiberUnmount=="function")try{Ot.onCommitFiberUnmount(Ml,a)}catch{}switch(a.tag){case 26:it||sa(a,t),wa(e,t,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:it||sa(a,t);var l=Qe,o=Et;Pa(a.type)&&(Qe=a.stateNode,Et=!1),wa(e,t,a),wi(a.stateNode),Qe=l,Et=o;break;case 5:it||sa(a,t);case 6:if(l=Qe,o=Et,Qe=null,wa(e,t,a),Qe=l,Et=o,Qe!==null)if(Et)try{(Qe.nodeType===9?Qe.body:Qe.nodeName==="HTML"?Qe.ownerDocument.body:Qe).removeChild(a.stateNode)}catch(u){De(a,t,u)}else try{Qe.removeChild(a.stateNode)}catch(u){De(a,t,u)}break;case 18:Qe!==null&&(Et?(e=Qe,Jf(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,a.stateNode),bl(e)):Jf(Qe,a.stateNode));break;case 4:l=Qe,o=Et,Qe=a.stateNode.containerInfo,Et=!0,wa(e,t,a),Qe=l,Et=o;break;case 0:case 11:case 14:case 15:Va(2,a,t),it||Va(4,a,t),wa(e,t,a);break;case 1:it||(sa(a,t),l=a.stateNode,typeof l.componentWillUnmount=="function"&&Jh(a,t,l)),wa(e,t,a);break;case 21:wa(e,t,a);break;case 22:it=(l=it)||a.memoizedState!==null,wa(e,t,a),it=l;break;default:wa(e,t,a)}}function nf(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{bl(e)}catch(a){De(t,t.return,a)}}}function lf(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{bl(e)}catch(a){De(t,t.return,a)}}function ly(e){switch(e.tag){case 31:case 13:case 19:var t=e.stateNode;return t===null&&(t=e.stateNode=new Fh),t;case 22:return e=e.stateNode,t=e._retryCache,t===null&&(t=e._retryCache=new Fh),t;default:throw Error(r(435,e.tag))}}function Us(e,t){var a=ly(e);t.forEach(function(l){if(!a.has(l)){a.add(l);var o=fy.bind(null,e,l);l.then(o,o)}})}function Nt(e,t){var a=t.deletions;if(a!==null)for(var l=0;l<a.length;l++){var o=a[l],u=e,m=t,v=m;e:for(;v!==null;){switch(v.tag){case 27:if(Pa(v.type)){Qe=v.stateNode,Et=!1;break e}break;case 5:Qe=v.stateNode,Et=!1;break e;case 3:case 4:Qe=v.stateNode.containerInfo,Et=!0;break e}v=v.return}if(Qe===null)throw Error(r(160));af(u,m,o),Qe=null,Et=!1,u=o.alternate,u!==null&&(u.return=null),o.return=null}if(t.subtreeFlags&13886)for(t=t.child;t!==null;)sf(t,e),t=t.sibling}var Wt=null;function sf(e,t){var a=e.alternate,l=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:Nt(t,e),At(e),l&4&&(Va(3,e,e.return),di(3,e),Va(5,e,e.return));break;case 1:Nt(t,e),At(e),l&512&&(it||a===null||sa(a,a.return)),l&64&&xa&&(e=e.updateQueue,e!==null&&(l=e.callbacks,l!==null&&(a=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var o=Wt;if(Nt(t,e),At(e),l&512&&(it||a===null||sa(a,a.return)),l&4){var u=a!==null?a.memoizedState:null;if(l=e.memoizedState,a===null)if(l===null)if(e.stateNode===null){e:{l=e.type,a=e.memoizedProps,o=o.ownerDocument||o;t:switch(l){case"title":u=o.getElementsByTagName("title")[0],(!u||u[ql]||u[ft]||u.namespaceURI==="http://www.w3.org/2000/svg"||u.hasAttribute("itemprop"))&&(u=o.createElement(l),o.head.insertBefore(u,o.querySelector("head > title"))),pt(u,l,a),u[ft]=e,ct(u),l=u;break e;case"link":var m=sm("link","href",o).get(l+(a.href||""));if(m){for(var v=0;v<m.length;v++)if(u=m[v],u.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&u.getAttribute("rel")===(a.rel==null?null:a.rel)&&u.getAttribute("title")===(a.title==null?null:a.title)&&u.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){m.splice(v,1);break t}}u=o.createElement(l),pt(u,l,a),o.head.appendChild(u);break;case"meta":if(m=sm("meta","content",o).get(l+(a.content||""))){for(v=0;v<m.length;v++)if(u=m[v],u.getAttribute("content")===(a.content==null?null:""+a.content)&&u.getAttribute("name")===(a.name==null?null:a.name)&&u.getAttribute("property")===(a.property==null?null:a.property)&&u.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&u.getAttribute("charset")===(a.charSet==null?null:a.charSet)){m.splice(v,1);break t}}u=o.createElement(l),pt(u,l,a),o.head.appendChild(u);break;default:throw Error(r(468,l))}u[ft]=e,ct(u),l=u}e.stateNode=l}else rm(o,e.type,e.stateNode);else e.stateNode=im(o,l,e.memoizedProps);else u!==l?(u===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):u.count--,l===null?rm(o,e.type,e.stateNode):im(o,l,e.memoizedProps)):l===null&&e.stateNode!==null&&nu(e,e.memoizedProps,a.memoizedProps)}break;case 27:Nt(t,e),At(e),l&512&&(it||a===null||sa(a,a.return)),a!==null&&l&4&&nu(e,e.memoizedProps,a.memoizedProps);break;case 5:if(Nt(t,e),At(e),l&512&&(it||a===null||sa(a,a.return)),e.flags&32){o=e.stateNode;try{$n(o,"")}catch(F){De(e,e.return,F)}}l&4&&e.stateNode!=null&&(o=e.memoizedProps,nu(e,o,a!==null?a.memoizedProps:o)),l&1024&&(su=!0);break;case 6:if(Nt(t,e),At(e),l&4){if(e.stateNode===null)throw Error(r(162));l=e.memoizedProps,a=e.stateNode;try{a.nodeValue=l}catch(F){De(e,e.return,F)}}break;case 3:if(Ps=null,o=Wt,Wt=Js(t.containerInfo),Nt(t,e),Wt=o,At(e),l&4&&a!==null&&a.memoizedState.isDehydrated)try{bl(t.containerInfo)}catch(F){De(e,e.return,F)}su&&(su=!1,rf(e));break;case 4:l=Wt,Wt=Js(e.stateNode.containerInfo),Nt(t,e),At(e),Wt=l;break;case 12:Nt(t,e),At(e);break;case 31:Nt(t,e),At(e),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,Us(e,l)));break;case 13:Nt(t,e),At(e),e.child.flags&8192&&e.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(Ls=$e()),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,Us(e,l)));break;case 22:o=e.memoizedState!==null;var w=a!==null&&a.memoizedState!==null,T=xa,z=it;if(xa=T||o,it=z||w,Nt(t,e),it=z,xa=T,At(e),l&8192)e:for(t=e.stateNode,t._visibility=o?t._visibility&-2:t._visibility|1,o&&(a===null||w||xa||it||Nn(e)),a=null,t=e;;){if(t.tag===5||t.tag===26){if(a===null){w=a=t;try{if(u=w.stateNode,o)m=u.style,typeof m.setProperty=="function"?m.setProperty("display","none","important"):m.display="none";else{v=w.stateNode;var $=w.memoizedProps.style,O=$!=null&&$.hasOwnProperty("display")?$.display:null;v.style.display=O==null||typeof O=="boolean"?"":(""+O).trim()}}catch(F){De(w,w.return,F)}}}else if(t.tag===6){if(a===null){w=t;try{w.stateNode.nodeValue=o?"":w.memoizedProps}catch(F){De(w,w.return,F)}}}else if(t.tag===18){if(a===null){w=t;try{var C=w.stateNode;o?Zf(C,!0):Zf(w.stateNode,!1)}catch(F){De(w,w.return,F)}}}else if((t.tag!==22&&t.tag!==23||t.memoizedState===null||t===e)&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;a===t&&(a=null),t=t.return}a===t&&(a=null),t.sibling.return=t.return,t=t.sibling}l&4&&(l=e.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,Us(e,a))));break;case 19:Nt(t,e),At(e),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,Us(e,l)));break;case 30:break;case 21:break;default:Nt(t,e),At(e)}}function At(e){var t=e.flags;if(t&2){try{for(var a,l=e.return;l!==null;){if(Ph(l)){a=l;break}l=l.return}if(a==null)throw Error(r(160));switch(a.tag){case 27:var o=a.stateNode,u=lu(e);zs(e,u,o);break;case 5:var m=a.stateNode;a.flags&32&&($n(m,""),a.flags&=-33);var v=lu(e);zs(e,v,m);break;case 3:case 4:var w=a.stateNode.containerInfo,T=lu(e);iu(e,T,w);break;default:throw Error(r(161))}}catch(z){De(e,e.return,z)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function rf(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var t=e;rf(t),t.tag===5&&t.flags&1024&&t.stateNode.reset(),e=e.sibling}}function _a(e,t){if(t.subtreeFlags&8772)for(t=t.child;t!==null;)ef(e,t.alternate,t),t=t.sibling}function Nn(e){for(e=e.child;e!==null;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:Va(4,t,t.return),Nn(t);break;case 1:sa(t,t.return);var a=t.stateNode;typeof a.componentWillUnmount=="function"&&Jh(t,t.return,a),Nn(t);break;case 27:wi(t.stateNode);case 26:case 5:sa(t,t.return),Nn(t);break;case 22:t.memoizedState===null&&Nn(t);break;case 30:Nn(t);break;default:Nn(t)}e=e.sibling}}function Sa(e,t,a){for(a=a&&(t.subtreeFlags&8772)!==0,t=t.child;t!==null;){var l=t.alternate,o=e,u=t,m=u.flags;switch(u.tag){case 0:case 11:case 15:Sa(o,u,a),di(4,u);break;case 1:if(Sa(o,u,a),l=u,o=l.stateNode,typeof o.componentDidMount=="function")try{o.componentDidMount()}catch(T){De(l,l.return,T)}if(l=u,o=l.updateQueue,o!==null){var v=l.stateNode;try{var w=o.shared.hiddenCallbacks;if(w!==null)for(o.shared.hiddenCallbacks=null,o=0;o<w.length;o++)Ld(w[o],v)}catch(T){De(l,l.return,T)}}a&&m&64&&Xh(u),hi(u,u.return);break;case 27:Wh(u);case 26:case 5:Sa(o,u,a),a&&l===null&&m&4&&Zh(u),hi(u,u.return);break;case 12:Sa(o,u,a);break;case 31:Sa(o,u,a),a&&m&4&&nf(o,u);break;case 13:Sa(o,u,a),a&&m&4&&lf(o,u);break;case 22:u.memoizedState===null&&Sa(o,u,a),hi(u,u.return);break;case 30:break;default:Sa(o,u,a)}t=t.sibling}}function ru(e,t){var a=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),e=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(e=t.memoizedState.cachePool.pool),e!==a&&(e!=null&&e.refCount++,a!=null&&Wl(a))}function ou(e,t){e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&Wl(e))}function Ft(e,t,a,l){if(t.subtreeFlags&10256)for(t=t.child;t!==null;)of(e,t,a,l),t=t.sibling}function of(e,t,a,l){var o=t.flags;switch(t.tag){case 0:case 11:case 15:Ft(e,t,a,l),o&2048&&di(9,t);break;case 1:Ft(e,t,a,l);break;case 3:Ft(e,t,a,l),o&2048&&(e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&Wl(e)));break;case 12:if(o&2048){Ft(e,t,a,l),e=t.stateNode;try{var u=t.memoizedProps,m=u.id,v=u.onPostCommit;typeof v=="function"&&v(m,t.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(w){De(t,t.return,w)}}else Ft(e,t,a,l);break;case 31:Ft(e,t,a,l);break;case 13:Ft(e,t,a,l);break;case 23:break;case 22:u=t.stateNode,m=t.alternate,t.memoizedState!==null?u._visibility&2?Ft(e,t,a,l):fi(e,t):u._visibility&2?Ft(e,t,a,l):(u._visibility|=2,ol(e,t,a,l,(t.subtreeFlags&10256)!==0||!1)),o&2048&&ru(m,t);break;case 24:Ft(e,t,a,l),o&2048&&ou(t.alternate,t);break;default:Ft(e,t,a,l)}}function ol(e,t,a,l,o){for(o=o&&((t.subtreeFlags&10256)!==0||!1),t=t.child;t!==null;){var u=e,m=t,v=a,w=l,T=m.flags;switch(m.tag){case 0:case 11:case 15:ol(u,m,v,w,o),di(8,m);break;case 23:break;case 22:var z=m.stateNode;m.memoizedState!==null?z._visibility&2?ol(u,m,v,w,o):fi(u,m):(z._visibility|=2,ol(u,m,v,w,o)),o&&T&2048&&ru(m.alternate,m);break;case 24:ol(u,m,v,w,o),o&&T&2048&&ou(m.alternate,m);break;default:ol(u,m,v,w,o)}t=t.sibling}}function fi(e,t){if(t.subtreeFlags&10256)for(t=t.child;t!==null;){var a=e,l=t,o=l.flags;switch(l.tag){case 22:fi(a,l),o&2048&&ru(l.alternate,l);break;case 24:fi(a,l),o&2048&&ou(l.alternate,l);break;default:fi(a,l)}t=t.sibling}}var mi=8192;function ul(e,t,a){if(e.subtreeFlags&mi)for(e=e.child;e!==null;)uf(e,t,a),e=e.sibling}function uf(e,t,a){switch(e.tag){case 26:ul(e,t,a),e.flags&mi&&e.memoizedState!==null&&Vy(a,Wt,e.memoizedState,e.memoizedProps);break;case 5:ul(e,t,a);break;case 3:case 4:var l=Wt;Wt=Js(e.stateNode.containerInfo),ul(e,t,a),Wt=l;break;case 22:e.memoizedState===null&&(l=e.alternate,l!==null&&l.memoizedState!==null?(l=mi,mi=16777216,ul(e,t,a),mi=l):ul(e,t,a));break;default:ul(e,t,a)}}function cf(e){var t=e.alternate;if(t!==null&&(e=t.child,e!==null)){t.child=null;do t=e.sibling,e.sibling=null,e=t;while(e!==null)}}function gi(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var a=0;a<t.length;a++){var l=t[a];dt=l,hf(l,e)}cf(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)df(e),e=e.sibling}function df(e){switch(e.tag){case 0:case 11:case 15:gi(e),e.flags&2048&&Va(9,e,e.return);break;case 3:gi(e);break;case 12:gi(e);break;case 22:var t=e.stateNode;e.memoizedState!==null&&t._visibility&2&&(e.return===null||e.return.tag!==13)?(t._visibility&=-3,Ms(e)):gi(e);break;default:gi(e)}}function Ms(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var a=0;a<t.length;a++){var l=t[a];dt=l,hf(l,e)}cf(e)}for(e=e.child;e!==null;){switch(t=e,t.tag){case 0:case 11:case 15:Va(8,t,t.return),Ms(t);break;case 22:a=t.stateNode,a._visibility&2&&(a._visibility&=-3,Ms(t));break;default:Ms(t)}e=e.sibling}}function hf(e,t){for(;dt!==null;){var a=dt;switch(a.tag){case 0:case 11:case 15:Va(8,a,t);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:Wl(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,dt=l;else e:for(a=e;dt!==null;){l=dt;var o=l.sibling,u=l.return;if(tf(l),l===a){dt=null;break e}if(o!==null){o.return=u,dt=o;break e}dt=u}}}var iy={getCacheForType:function(e){var t=gt(at),a=t.data.get(e);return a===void 0&&(a=e(),t.data.set(e,a)),a},cacheSignal:function(){return gt(at).controller.signal}},sy=typeof WeakMap=="function"?WeakMap:Map,Oe=0,qe=null,xe=null,_e=0,Ce=0,Mt=null,Ya=!1,cl=!1,uu=!1,ja=0,Pe=0,Ia=0,An=0,cu=0,Lt=0,dl=0,yi=null,Tt=null,du=!1,Ls=0,ff=0,Bs=1/0,qs=null,Qa=null,rt=0,Xa=null,hl=null,Ea=0,hu=0,fu=null,mf=null,pi=0,mu=null;function Bt(){return(Oe&2)!==0&&_e!==0?_e&-_e:R.T!==null?xu():kc()}function gf(){if(Lt===0)if((_e&536870912)===0||Ee){var e=Qi;Qi<<=1,(Qi&3932160)===0&&(Qi=262144),Lt=e}else Lt=536870912;return e=zt.current,e!==null&&(e.flags|=32),Lt}function kt(e,t,a){(e===qe&&(Ce===2||Ce===9)||e.cancelPendingCommit!==null)&&(fl(e,0),Ja(e,_e,Lt,!1)),Bl(e,a),((Oe&2)===0||e!==qe)&&(e===qe&&((Oe&2)===0&&(An|=a),Pe===4&&Ja(e,_e,Lt,!1)),ra(e))}function yf(e,t,a){if((Oe&6)!==0)throw Error(r(327));var l=!a&&(t&127)===0&&(t&e.expiredLanes)===0||Ll(e,t),o=l?uy(e,t):yu(e,t,!0),u=l;do{if(o===0){cl&&!l&&Ja(e,t,0,!1);break}else{if(a=e.current.alternate,u&&!ry(a)){o=yu(e,t,!1),u=!1;continue}if(o===2){if(u=t,e.errorRecoveryDisabledLanes&u)var m=0;else m=e.pendingLanes&-536870913,m=m!==0?m:m&536870912?536870912:0;if(m!==0){t=m;e:{var v=e;o=yi;var w=v.current.memoizedState.isDehydrated;if(w&&(fl(v,m).flags|=256),m=yu(v,m,!1),m!==2){if(uu&&!w){v.errorRecoveryDisabledLanes|=u,An|=u,o=4;break e}u=Tt,Tt=o,u!==null&&(Tt===null?Tt=u:Tt.push.apply(Tt,u))}o=m}if(u=!1,o!==2)continue}}if(o===1){fl(e,0),Ja(e,t,0,!0);break}e:{switch(l=e,u=o,u){case 0:case 1:throw Error(r(345));case 4:if((t&4194048)!==t)break;case 6:Ja(l,t,Lt,!Ya);break e;case 2:Tt=null;break;case 3:case 5:break;default:throw Error(r(329))}if((t&62914560)===t&&(o=Ls+300-$e(),10<o)){if(Ja(l,t,Lt,!Ya),Ji(l,0,!0)!==0)break e;Ea=t,l.timeoutHandle=Qf(pf.bind(null,l,a,Tt,qs,du,t,Lt,An,dl,Ya,u,"Throttled",-0,0),o);break e}pf(l,a,Tt,qs,du,t,Lt,An,dl,Ya,u,null,-0,0)}}break}while(!0);ra(e)}function pf(e,t,a,l,o,u,m,v,w,T,z,$,O,C){if(e.timeoutHandle=-1,$=t.subtreeFlags,$&8192||($&16785408)===16785408){$={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:ca},uf(t,u,$);var F=(u&62914560)===u?Ls-$e():(u&4194048)===u?ff-$e():0;if(F=Yy($,F),F!==null){Ea=u,e.cancelPendingCommit=F(Ef.bind(null,e,t,u,a,l,o,m,v,w,z,$,null,O,C)),Ja(e,u,m,!T);return}}Ef(e,t,u,a,l,o,m,v,w)}function ry(e){for(var t=e;;){var a=t.tag;if((a===0||a===11||a===15)&&t.flags&16384&&(a=t.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var o=a[l],u=o.getSnapshot;o=o.value;try{if(!Ct(u(),o))return!1}catch{return!1}}if(a=t.child,t.subtreeFlags&16384&&a!==null)a.return=t,t=a;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Ja(e,t,a,l){t&=~cu,t&=~An,e.suspendedLanes|=t,e.pingedLanes&=~t,l&&(e.warmLanes|=t),l=e.expirationTimes;for(var o=t;0<o;){var u=31-Rt(o),m=1<<u;l[u]=-1,o&=~m}a!==0&&Nc(e,a,t)}function Hs(){return(Oe&6)===0?(vi(0),!1):!0}function gu(){if(xe!==null){if(Ce===0)var e=xe.return;else e=xe,ma=vn=null,Ro(e),nl=null,ei=0,e=xe;for(;e!==null;)Qh(e.alternate,e),e=e.return;xe=null}}function fl(e,t){var a=e.timeoutHandle;a!==-1&&(e.timeoutHandle=-1,Ay(a)),a=e.cancelPendingCommit,a!==null&&(e.cancelPendingCommit=null,a()),Ea=0,gu(),qe=e,xe=a=ha(e.current,null),_e=t,Ce=0,Mt=null,Ya=!1,cl=Ll(e,t),uu=!1,dl=Lt=cu=An=Ia=Pe=0,Tt=yi=null,du=!1,(t&8)!==0&&(t|=t&32);var l=e.entangledLanes;if(l!==0)for(e=e.entanglements,l&=t;0<l;){var o=31-Rt(l),u=1<<o;t|=e[o],l&=~u}return ja=t,rs(),a}function vf(e,t){me=null,R.H=oi,t===al||t===gs?(t=Dd(),Ce=3):t===bo?(t=Dd(),Ce=4):Ce=t===Qo?8:t!==null&&typeof t=="object"&&typeof t.then=="function"?6:1,Mt=t,xe===null&&(Pe=1,ks(e,Vt(t,e.current)))}function bf(){var e=zt.current;return e===null?!0:(_e&4194048)===_e?Xt===null:(_e&62914560)===_e||(_e&536870912)!==0?e===Xt:!1}function xf(){var e=R.H;return R.H=oi,e===null?oi:e}function wf(){var e=R.A;return R.A=iy,e}function Gs(){Pe=4,Ya||(_e&4194048)!==_e&&zt.current!==null||(cl=!0),(Ia&134217727)===0&&(An&134217727)===0||qe===null||Ja(qe,_e,Lt,!1)}function yu(e,t,a){var l=Oe;Oe|=2;var o=xf(),u=wf();(qe!==e||_e!==t)&&(qs=null,fl(e,t)),t=!1;var m=Pe;e:do try{if(Ce!==0&&xe!==null){var v=xe,w=Mt;switch(Ce){case 8:gu(),m=6;break e;case 3:case 2:case 9:case 6:zt.current===null&&(t=!0);var T=Ce;if(Ce=0,Mt=null,ml(e,v,w,T),a&&cl){m=0;break e}break;default:T=Ce,Ce=0,Mt=null,ml(e,v,w,T)}}oy(),m=Pe;break}catch(z){vf(e,z)}while(!0);return t&&e.shellSuspendCounter++,ma=vn=null,Oe=l,R.H=o,R.A=u,xe===null&&(qe=null,_e=0,rs()),m}function oy(){for(;xe!==null;)_f(xe)}function uy(e,t){var a=Oe;Oe|=2;var l=xf(),o=wf();qe!==e||_e!==t?(qs=null,Bs=$e()+500,fl(e,t)):cl=Ll(e,t);e:do try{if(Ce!==0&&xe!==null){t=xe;var u=Mt;t:switch(Ce){case 1:Ce=0,Mt=null,ml(e,t,u,1);break;case 2:case 9:if(Rd(u)){Ce=0,Mt=null,Sf(t);break}t=function(){Ce!==2&&Ce!==9||qe!==e||(Ce=7),ra(e)},u.then(t,t);break e;case 3:Ce=7;break e;case 4:Ce=5;break e;case 7:Rd(u)?(Ce=0,Mt=null,Sf(t)):(Ce=0,Mt=null,ml(e,t,u,7));break;case 5:var m=null;switch(xe.tag){case 26:m=xe.memoizedState;case 5:case 27:var v=xe;if(m?om(m):v.stateNode.complete){Ce=0,Mt=null;var w=v.sibling;if(w!==null)xe=w;else{var T=v.return;T!==null?(xe=T,$s(T)):xe=null}break t}}Ce=0,Mt=null,ml(e,t,u,5);break;case 6:Ce=0,Mt=null,ml(e,t,u,6);break;case 8:gu(),Pe=6;break e;default:throw Error(r(462))}}cy();break}catch(z){vf(e,z)}while(!0);return ma=vn=null,R.H=l,R.A=o,Oe=a,xe!==null?0:(qe=null,_e=0,rs(),Pe)}function cy(){for(;xe!==null&&!ut();)_f(xe)}function _f(e){var t=Yh(e.alternate,e,ja);e.memoizedProps=e.pendingProps,t===null?$s(e):xe=t}function Sf(e){var t=e,a=t.alternate;switch(t.tag){case 15:case 0:t=qh(a,t,t.pendingProps,t.type,void 0,_e);break;case 11:t=qh(a,t,t.pendingProps,t.type.render,t.ref,_e);break;case 5:Ro(t);default:Qh(a,t),t=xe=xd(t,ja),t=Yh(a,t,ja)}e.memoizedProps=e.pendingProps,t===null?$s(e):xe=t}function ml(e,t,a,l){ma=vn=null,Ro(t),nl=null,ei=0;var o=t.return;try{if(W0(e,o,t,a,_e)){Pe=1,ks(e,Vt(a,e.current)),xe=null;return}}catch(u){if(o!==null)throw xe=o,u;Pe=1,ks(e,Vt(a,e.current)),xe=null;return}t.flags&32768?(Ee||l===1?e=!0:cl||(_e&536870912)!==0?e=!1:(Ya=e=!0,(l===2||l===9||l===3||l===6)&&(l=zt.current,l!==null&&l.tag===13&&(l.flags|=16384))),jf(t,e)):$s(t)}function $s(e){var t=e;do{if((t.flags&32768)!==0){jf(t,Ya);return}e=t.return;var a=ty(t.alternate,t,ja);if(a!==null){xe=a;return}if(t=t.sibling,t!==null){xe=t;return}xe=t=e}while(t!==null);Pe===0&&(Pe=5)}function jf(e,t){do{var a=ay(e.alternate,e);if(a!==null){a.flags&=32767,xe=a;return}if(a=e.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!t&&(e=e.sibling,e!==null)){xe=e;return}xe=e=a}while(e!==null);Pe=6,xe=null}function Ef(e,t,a,l,o,u,m,v,w){e.cancelPendingCommit=null;do Ks();while(rt!==0);if((Oe&6)!==0)throw Error(r(327));if(t!==null){if(t===e.current)throw Error(r(177));if(u=t.lanes|t.childLanes,u|=no,Kg(e,a,u,m,v,w),e===qe&&(xe=qe=null,_e=0),hl=t,Xa=e,Ea=a,hu=u,fu=o,mf=l,(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,my(un,function(){return Of(),null})):(e.callbackNode=null,e.callbackPriority=0),l=(t.flags&13878)!==0,(t.subtreeFlags&13878)!==0||l){l=R.T,R.T=null,o=L.p,L.p=2,m=Oe,Oe|=4;try{ny(e,t,a)}finally{Oe=m,L.p=o,R.T=l}}rt=1,Nf(),Af(),Tf()}}function Nf(){if(rt===1){rt=0;var e=Xa,t=hl,a=(t.flags&13878)!==0;if((t.subtreeFlags&13878)!==0||a){a=R.T,R.T=null;var l=L.p;L.p=2;var o=Oe;Oe|=4;try{sf(t,e);var u=Tu,m=dd(e.containerInfo),v=u.focusedElem,w=u.selectionRange;if(m!==v&&v&&v.ownerDocument&&cd(v.ownerDocument.documentElement,v)){if(w!==null&&Wr(v)){var T=w.start,z=w.end;if(z===void 0&&(z=T),"selectionStart"in v)v.selectionStart=T,v.selectionEnd=Math.min(z,v.value.length);else{var $=v.ownerDocument||document,O=$&&$.defaultView||window;if(O.getSelection){var C=O.getSelection(),F=v.textContent.length,re=Math.min(w.start,F),Be=w.end===void 0?re:Math.min(w.end,F);!C.extend&&re>Be&&(m=Be,Be=re,re=m);var N=ud(v,re),S=ud(v,Be);if(N&&S&&(C.rangeCount!==1||C.anchorNode!==N.node||C.anchorOffset!==N.offset||C.focusNode!==S.node||C.focusOffset!==S.offset)){var A=$.createRange();A.setStart(N.node,N.offset),C.removeAllRanges(),re>Be?(C.addRange(A),C.extend(S.node,S.offset)):(A.setEnd(S.node,S.offset),C.addRange(A))}}}}for($=[],C=v;C=C.parentNode;)C.nodeType===1&&$.push({element:C,left:C.scrollLeft,top:C.scrollTop});for(typeof v.focus=="function"&&v.focus(),v=0;v<$.length;v++){var q=$[v];q.element.scrollLeft=q.left,q.element.scrollTop=q.top}}tr=!!Au,Tu=Au=null}finally{Oe=o,L.p=l,R.T=a}}e.current=t,rt=2}}function Af(){if(rt===2){rt=0;var e=Xa,t=hl,a=(t.flags&8772)!==0;if((t.subtreeFlags&8772)!==0||a){a=R.T,R.T=null;var l=L.p;L.p=2;var o=Oe;Oe|=4;try{ef(e,t.alternate,t)}finally{Oe=o,L.p=l,R.T=a}}rt=3}}function Tf(){if(rt===4||rt===3){rt=0,ht();var e=Xa,t=hl,a=Ea,l=mf;(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?rt=5:(rt=0,hl=Xa=null,kf(e,e.pendingLanes));var o=e.pendingLanes;if(o===0&&(Qa=null),Dr(a),t=t.stateNode,Ot&&typeof Ot.onCommitFiberRoot=="function")try{Ot.onCommitFiberRoot(Ml,t,void 0,(t.current.flags&128)===128)}catch{}if(l!==null){t=R.T,o=L.p,L.p=2,R.T=null;try{for(var u=e.onRecoverableError,m=0;m<l.length;m++){var v=l[m];u(v.value,{componentStack:v.stack})}}finally{R.T=t,L.p=o}}(Ea&3)!==0&&Ks(),ra(e),o=e.pendingLanes,(a&261930)!==0&&(o&42)!==0?e===mu?pi++:(pi=0,mu=e):pi=0,vi(0)}}function kf(e,t){(e.pooledCacheLanes&=t)===0&&(t=e.pooledCache,t!=null&&(e.pooledCache=null,Wl(t)))}function Ks(){return Nf(),Af(),Tf(),Of()}function Of(){if(rt!==5)return!1;var e=Xa,t=hu;hu=0;var a=Dr(Ea),l=R.T,o=L.p;try{L.p=32>a?32:a,R.T=null,a=fu,fu=null;var u=Xa,m=Ea;if(rt=0,hl=Xa=null,Ea=0,(Oe&6)!==0)throw Error(r(331));var v=Oe;if(Oe|=4,df(u.current),of(u,u.current,m,a),Oe=v,vi(0,!1),Ot&&typeof Ot.onPostCommitFiberRoot=="function")try{Ot.onPostCommitFiberRoot(Ml,u)}catch{}return!0}finally{L.p=o,R.T=l,kf(e,t)}}function Rf(e,t,a){t=Vt(a,t),t=Io(e.stateNode,t,2),e=Ga(e,t,2),e!==null&&(Bl(e,2),ra(e))}function De(e,t,a){if(e.tag===3)Rf(e,e,a);else for(;t!==null;){if(t.tag===3){Rf(t,e,a);break}else if(t.tag===1){var l=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(Qa===null||!Qa.has(l))){e=Vt(a,e),a=Rh(2),l=Ga(t,a,2),l!==null&&(Ch(a,l,t,e),Bl(l,2),ra(l));break}}t=t.return}}function pu(e,t,a){var l=e.pingCache;if(l===null){l=e.pingCache=new sy;var o=new Set;l.set(t,o)}else o=l.get(t),o===void 0&&(o=new Set,l.set(t,o));o.has(a)||(uu=!0,o.add(a),e=dy.bind(null,e,t,a),t.then(e,e))}function dy(e,t,a){var l=e.pingCache;l!==null&&l.delete(t),e.pingedLanes|=e.suspendedLanes&a,e.warmLanes&=~a,qe===e&&(_e&a)===a&&(Pe===4||Pe===3&&(_e&62914560)===_e&&300>$e()-Ls?(Oe&2)===0&&fl(e,0):cu|=a,dl===_e&&(dl=0)),ra(e)}function Cf(e,t){t===0&&(t=Ec()),e=gn(e,t),e!==null&&(Bl(e,t),ra(e))}function hy(e){var t=e.memoizedState,a=0;t!==null&&(a=t.retryLane),Cf(e,a)}function fy(e,t){var a=0;switch(e.tag){case 31:case 13:var l=e.stateNode,o=e.memoizedState;o!==null&&(a=o.retryLane);break;case 19:l=e.stateNode;break;case 22:l=e.stateNode._retryCache;break;default:throw Error(r(314))}l!==null&&l.delete(t),Cf(e,a)}function my(e,t){return he(e,t)}var Vs=null,gl=null,vu=!1,Ys=!1,bu=!1,Za=0;function ra(e){e!==gl&&e.next===null&&(gl===null?Vs=gl=e:gl=gl.next=e),Ys=!0,vu||(vu=!0,yy())}function vi(e,t){if(!bu&&Ys){bu=!0;do for(var a=!1,l=Vs;l!==null;){if(e!==0){var o=l.pendingLanes;if(o===0)var u=0;else{var m=l.suspendedLanes,v=l.pingedLanes;u=(1<<31-Rt(42|e)+1)-1,u&=o&~(m&~v),u=u&201326741?u&201326741|1:u?u|2:0}u!==0&&(a=!0,Mf(l,u))}else u=_e,u=Ji(l,l===qe?u:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(u&3)===0||Ll(l,u)||(a=!0,Mf(l,u));l=l.next}while(a);bu=!1}}function gy(){Df()}function Df(){Ys=vu=!1;var e=0;Za!==0&&Ny()&&(e=Za);for(var t=$e(),a=null,l=Vs;l!==null;){var o=l.next,u=zf(l,t);u===0?(l.next=null,a===null?Vs=o:a.next=o,o===null&&(gl=a)):(a=l,(e!==0||(u&3)!==0)&&(Ys=!0)),l=o}rt!==0&&rt!==5||vi(e),Za!==0&&(Za=0)}function zf(e,t){for(var a=e.suspendedLanes,l=e.pingedLanes,o=e.expirationTimes,u=e.pendingLanes&-62914561;0<u;){var m=31-Rt(u),v=1<<m,w=o[m];w===-1?((v&a)===0||(v&l)!==0)&&(o[m]=$g(v,t)):w<=t&&(e.expiredLanes|=v),u&=~v}if(t=qe,a=_e,a=Ji(e,e===t?a:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),l=e.callbackNode,a===0||e===t&&(Ce===2||Ce===9)||e.cancelPendingCommit!==null)return l!==null&&l!==null&&Ae(l),e.callbackNode=null,e.callbackPriority=0;if((a&3)===0||Ll(e,a)){if(t=a&-a,t===e.callbackPriority)return t;switch(l!==null&&Ae(l),Dr(a)){case 2:case 8:a=Ul;break;case 32:a=un;break;case 268435456:a=jc;break;default:a=un}return l=Uf.bind(null,e),a=he(a,l),e.callbackPriority=t,e.callbackNode=a,t}return l!==null&&l!==null&&Ae(l),e.callbackPriority=2,e.callbackNode=null,2}function Uf(e,t){if(rt!==0&&rt!==5)return e.callbackNode=null,e.callbackPriority=0,null;var a=e.callbackNode;if(Ks()&&e.callbackNode!==a)return null;var l=_e;return l=Ji(e,e===qe?l:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),l===0?null:(yf(e,l,t),zf(e,$e()),e.callbackNode!=null&&e.callbackNode===a?Uf.bind(null,e):null)}function Mf(e,t){if(Ks())return null;yf(e,t,!0)}function yy(){Ty(function(){(Oe&6)!==0?he(Ke,gy):Df()})}function xu(){if(Za===0){var e=el;e===0&&(e=Ii,Ii<<=1,(Ii&261888)===0&&(Ii=256)),Za=e}return Za}function Lf(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:Fi(""+e)}function Bf(e,t){var a=t.ownerDocument.createElement("input");return a.name=t.name,a.value=t.value,e.id&&a.setAttribute("form",e.id),t.parentNode.insertBefore(a,t),e=new FormData(e),a.parentNode.removeChild(a),e}function py(e,t,a,l,o){if(t==="submit"&&a&&a.stateNode===o){var u=Lf((o[St]||null).action),m=l.submitter;m&&(t=(t=m[St]||null)?Lf(t.formAction):m.getAttribute("formAction"),t!==null&&(u=t,m=null));var v=new ns("action","action",null,l,o);e.push({event:v,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(Za!==0){var w=m?Bf(o,m):new FormData(o);Ho(a,{pending:!0,data:w,method:o.method,action:u},null,w)}}else typeof u=="function"&&(v.preventDefault(),w=m?Bf(o,m):new FormData(o),Ho(a,{pending:!0,data:w,method:o.method,action:u},u,w))},currentTarget:o}]})}}for(var wu=0;wu<ao.length;wu++){var _u=ao[wu],vy=_u.toLowerCase(),by=_u[0].toUpperCase()+_u.slice(1);Pt(vy,"on"+by)}Pt(md,"onAnimationEnd"),Pt(gd,"onAnimationIteration"),Pt(yd,"onAnimationStart"),Pt("dblclick","onDoubleClick"),Pt("focusin","onFocus"),Pt("focusout","onBlur"),Pt(U0,"onTransitionRun"),Pt(M0,"onTransitionStart"),Pt(L0,"onTransitionCancel"),Pt(pd,"onTransitionEnd"),Hn("onMouseEnter",["mouseout","mouseover"]),Hn("onMouseLeave",["mouseout","mouseover"]),Hn("onPointerEnter",["pointerout","pointerover"]),Hn("onPointerLeave",["pointerout","pointerover"]),dn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),dn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),dn("onBeforeInput",["compositionend","keypress","textInput","paste"]),dn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),dn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),dn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var bi="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),xy=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(bi));function qf(e,t){t=(t&4)!==0;for(var a=0;a<e.length;a++){var l=e[a],o=l.event;l=l.listeners;e:{var u=void 0;if(t)for(var m=l.length-1;0<=m;m--){var v=l[m],w=v.instance,T=v.currentTarget;if(v=v.listener,w!==u&&o.isPropagationStopped())break e;u=v,o.currentTarget=T;try{u(o)}catch(z){ss(z)}o.currentTarget=null,u=w}else for(m=0;m<l.length;m++){if(v=l[m],w=v.instance,T=v.currentTarget,v=v.listener,w!==u&&o.isPropagationStopped())break e;u=v,o.currentTarget=T;try{u(o)}catch(z){ss(z)}o.currentTarget=null,u=w}}}}function we(e,t){var a=t[zr];a===void 0&&(a=t[zr]=new Set);var l=e+"__bubble";a.has(l)||(Hf(t,e,2,!1),a.add(l))}function Su(e,t,a){var l=0;t&&(l|=4),Hf(a,e,l,t)}var Is="_reactListening"+Math.random().toString(36).slice(2);function ju(e){if(!e[Is]){e[Is]=!0,Cc.forEach(function(a){a!=="selectionchange"&&(xy.has(a)||Su(a,!1,e),Su(a,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Is]||(t[Is]=!0,Su("selectionchange",!1,t))}}function Hf(e,t,a,l){switch(gm(t)){case 2:var o=Xy;break;case 8:o=Jy;break;default:o=qu}a=o.bind(null,t,a,e),o=void 0,!Kr||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(o=!0),l?o!==void 0?e.addEventListener(t,a,{capture:!0,passive:o}):e.addEventListener(t,a,!0):o!==void 0?e.addEventListener(t,a,{passive:o}):e.addEventListener(t,a,!1)}function Eu(e,t,a,l,o){var u=l;if((t&1)===0&&(t&2)===0&&l!==null)e:for(;;){if(l===null)return;var m=l.tag;if(m===3||m===4){var v=l.stateNode.containerInfo;if(v===o)break;if(m===4)for(m=l.return;m!==null;){var w=m.tag;if((w===3||w===4)&&m.stateNode.containerInfo===o)return;m=m.return}for(;v!==null;){if(m=Ln(v),m===null)return;if(w=m.tag,w===5||w===6||w===26||w===27){l=u=m;continue e}v=v.parentNode}}l=l.return}Vc(function(){var T=u,z=Gr(a),$=[];e:{var O=vd.get(e);if(O!==void 0){var C=ns,F=e;switch(e){case"keypress":if(ts(a)===0)break e;case"keydown":case"keyup":C=f0;break;case"focusin":F="focus",C=Qr;break;case"focusout":F="blur",C=Qr;break;case"beforeblur":case"afterblur":C=Qr;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":C=Qc;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":C=t0;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":C=y0;break;case md:case gd:case yd:C=l0;break;case pd:C=v0;break;case"scroll":case"scrollend":C=Fg;break;case"wheel":C=x0;break;case"copy":case"cut":case"paste":C=s0;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":C=Jc;break;case"toggle":case"beforetoggle":C=_0}var re=(t&4)!==0,Be=!re&&(e==="scroll"||e==="scrollend"),N=re?O!==null?O+"Capture":null:O;re=[];for(var S=T,A;S!==null;){var q=S;if(A=q.stateNode,q=q.tag,q!==5&&q!==26&&q!==27||A===null||N===null||(q=Gl(S,N),q!=null&&re.push(xi(S,q,A))),Be)break;S=S.return}0<re.length&&(O=new C(O,F,null,a,z),$.push({event:O,listeners:re}))}}if((t&7)===0){e:{if(O=e==="mouseover"||e==="pointerover",C=e==="mouseout"||e==="pointerout",O&&a!==Hr&&(F=a.relatedTarget||a.fromElement)&&(Ln(F)||F[Mn]))break e;if((C||O)&&(O=z.window===z?z:(O=z.ownerDocument)?O.defaultView||O.parentWindow:window,C?(F=a.relatedTarget||a.toElement,C=T,F=F?Ln(F):null,F!==null&&(Be=d(F),re=F.tag,F!==Be||re!==5&&re!==27&&re!==6)&&(F=null)):(C=null,F=T),C!==F)){if(re=Qc,q="onMouseLeave",N="onMouseEnter",S="mouse",(e==="pointerout"||e==="pointerover")&&(re=Jc,q="onPointerLeave",N="onPointerEnter",S="pointer"),Be=C==null?O:Hl(C),A=F==null?O:Hl(F),O=new re(q,S+"leave",C,a,z),O.target=Be,O.relatedTarget=A,q=null,Ln(z)===T&&(re=new re(N,S+"enter",F,a,z),re.target=A,re.relatedTarget=Be,q=re),Be=q,C&&F)t:{for(re=wy,N=C,S=F,A=0,q=N;q;q=re(q))A++;q=0;for(var ie=S;ie;ie=re(ie))q++;for(;0<A-q;)N=re(N),A--;for(;0<q-A;)S=re(S),q--;for(;A--;){if(N===S||S!==null&&N===S.alternate){re=N;break t}N=re(N),S=re(S)}re=null}else re=null;C!==null&&Gf($,O,C,re,!1),F!==null&&Be!==null&&Gf($,Be,F,re,!0)}}e:{if(O=T?Hl(T):window,C=O.nodeName&&O.nodeName.toLowerCase(),C==="select"||C==="input"&&O.type==="file")var Te=nd;else if(td(O))if(ld)Te=C0;else{Te=O0;var ne=k0}else C=O.nodeName,!C||C.toLowerCase()!=="input"||O.type!=="checkbox"&&O.type!=="radio"?T&&qr(T.elementType)&&(Te=nd):Te=R0;if(Te&&(Te=Te(e,T))){ad($,Te,a,z);break e}ne&&ne(e,O,T),e==="focusout"&&T&&O.type==="number"&&T.memoizedProps.value!=null&&Br(O,"number",O.value)}switch(ne=T?Hl(T):window,e){case"focusin":(td(ne)||ne.contentEditable==="true")&&(In=ne,Fr=T,Jl=null);break;case"focusout":Jl=Fr=In=null;break;case"mousedown":eo=!0;break;case"contextmenu":case"mouseup":case"dragend":eo=!1,hd($,a,z);break;case"selectionchange":if(z0)break;case"keydown":case"keyup":hd($,a,z)}var pe;if(Jr)e:{switch(e){case"compositionstart":var Se="onCompositionStart";break e;case"compositionend":Se="onCompositionEnd";break e;case"compositionupdate":Se="onCompositionUpdate";break e}Se=void 0}else Yn?Fc(e,a)&&(Se="onCompositionEnd"):e==="keydown"&&a.keyCode===229&&(Se="onCompositionStart");Se&&(Zc&&a.locale!=="ko"&&(Yn||Se!=="onCompositionStart"?Se==="onCompositionEnd"&&Yn&&(pe=Yc()):(za=z,Vr="value"in za?za.value:za.textContent,Yn=!0)),ne=Qs(T,Se),0<ne.length&&(Se=new Xc(Se,e,null,a,z),$.push({event:Se,listeners:ne}),pe?Se.data=pe:(pe=ed(a),pe!==null&&(Se.data=pe)))),(pe=j0?E0(e,a):N0(e,a))&&(Se=Qs(T,"onBeforeInput"),0<Se.length&&(ne=new Xc("onBeforeInput","beforeinput",null,a,z),$.push({event:ne,listeners:Se}),ne.data=pe)),py($,e,T,a,z)}qf($,t)})}function xi(e,t,a){return{instance:e,listener:t,currentTarget:a}}function Qs(e,t){for(var a=t+"Capture",l=[];e!==null;){var o=e,u=o.stateNode;if(o=o.tag,o!==5&&o!==26&&o!==27||u===null||(o=Gl(e,a),o!=null&&l.unshift(xi(e,o,u)),o=Gl(e,t),o!=null&&l.push(xi(e,o,u))),e.tag===3)return l;e=e.return}return[]}function wy(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function Gf(e,t,a,l,o){for(var u=t._reactName,m=[];a!==null&&a!==l;){var v=a,w=v.alternate,T=v.stateNode;if(v=v.tag,w!==null&&w===l)break;v!==5&&v!==26&&v!==27||T===null||(w=T,o?(T=Gl(a,u),T!=null&&m.unshift(xi(a,T,w))):o||(T=Gl(a,u),T!=null&&m.push(xi(a,T,w)))),a=a.return}m.length!==0&&e.push({event:t,listeners:m})}var _y=/\r\n?/g,Sy=/\u0000|\uFFFD/g;function $f(e){return(typeof e=="string"?e:""+e).replace(_y,`
`).replace(Sy,"")}function Kf(e,t){return t=$f(t),$f(e)===t}function Le(e,t,a,l,o,u){switch(a){case"children":typeof l=="string"?t==="body"||t==="textarea"&&l===""||$n(e,l):(typeof l=="number"||typeof l=="bigint")&&t!=="body"&&$n(e,""+l);break;case"className":Pi(e,"class",l);break;case"tabIndex":Pi(e,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":Pi(e,a,l);break;case"style":$c(e,l,u);break;case"data":if(t!=="object"){Pi(e,"data",l);break}case"src":case"href":if(l===""&&(t!=="a"||a!=="href")){e.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(a);break}l=Fi(""+l),e.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){e.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof u=="function"&&(a==="formAction"?(t!=="input"&&Le(e,t,"name",o.name,o,null),Le(e,t,"formEncType",o.formEncType,o,null),Le(e,t,"formMethod",o.formMethod,o,null),Le(e,t,"formTarget",o.formTarget,o,null)):(Le(e,t,"encType",o.encType,o,null),Le(e,t,"method",o.method,o,null),Le(e,t,"target",o.target,o,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(a);break}l=Fi(""+l),e.setAttribute(a,l);break;case"onClick":l!=null&&(e.onclick=ca);break;case"onScroll":l!=null&&we("scroll",e);break;case"onScrollEnd":l!=null&&we("scrollend",e);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(r(61));if(a=l.__html,a!=null){if(o.children!=null)throw Error(r(60));e.innerHTML=a}}break;case"multiple":e.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":e.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){e.removeAttribute("xlink:href");break}a=Fi(""+l),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(a,""+l):e.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(a,""):e.removeAttribute(a);break;case"capture":case"download":l===!0?e.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(a,l):e.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?e.setAttribute(a,l):e.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?e.removeAttribute(a):e.setAttribute(a,l);break;case"popover":we("beforetoggle",e),we("toggle",e),Zi(e,"popover",l);break;case"xlinkActuate":ua(e,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":ua(e,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":ua(e,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":ua(e,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":ua(e,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":ua(e,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":ua(e,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":ua(e,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":ua(e,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":Zi(e,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=Pg.get(a)||a,Zi(e,a,l))}}function Nu(e,t,a,l,o,u){switch(a){case"style":$c(e,l,u);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(r(61));if(a=l.__html,a!=null){if(o.children!=null)throw Error(r(60));e.innerHTML=a}}break;case"children":typeof l=="string"?$n(e,l):(typeof l=="number"||typeof l=="bigint")&&$n(e,""+l);break;case"onScroll":l!=null&&we("scroll",e);break;case"onScrollEnd":l!=null&&we("scrollend",e);break;case"onClick":l!=null&&(e.onclick=ca);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Dc.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(o=a.endsWith("Capture"),t=a.slice(2,o?a.length-7:void 0),u=e[St]||null,u=u!=null?u[a]:null,typeof u=="function"&&e.removeEventListener(t,u,o),typeof l=="function")){typeof u!="function"&&u!==null&&(a in e?e[a]=null:e.hasAttribute(a)&&e.removeAttribute(a)),e.addEventListener(t,l,o);break e}a in e?e[a]=l:l===!0?e.setAttribute(a,""):Zi(e,a,l)}}}function pt(e,t,a){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":we("error",e),we("load",e);var l=!1,o=!1,u;for(u in a)if(a.hasOwnProperty(u)){var m=a[u];if(m!=null)switch(u){case"src":l=!0;break;case"srcSet":o=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,t));default:Le(e,t,u,m,a,null)}}o&&Le(e,t,"srcSet",a.srcSet,a,null),l&&Le(e,t,"src",a.src,a,null);return;case"input":we("invalid",e);var v=u=m=o=null,w=null,T=null;for(l in a)if(a.hasOwnProperty(l)){var z=a[l];if(z!=null)switch(l){case"name":o=z;break;case"type":m=z;break;case"checked":w=z;break;case"defaultChecked":T=z;break;case"value":u=z;break;case"defaultValue":v=z;break;case"children":case"dangerouslySetInnerHTML":if(z!=null)throw Error(r(137,t));break;default:Le(e,t,l,z,a,null)}}Bc(e,u,v,w,T,m,o,!1);return;case"select":we("invalid",e),l=m=u=null;for(o in a)if(a.hasOwnProperty(o)&&(v=a[o],v!=null))switch(o){case"value":u=v;break;case"defaultValue":m=v;break;case"multiple":l=v;default:Le(e,t,o,v,a,null)}t=u,a=m,e.multiple=!!l,t!=null?Gn(e,!!l,t,!1):a!=null&&Gn(e,!!l,a,!0);return;case"textarea":we("invalid",e),u=o=l=null;for(m in a)if(a.hasOwnProperty(m)&&(v=a[m],v!=null))switch(m){case"value":l=v;break;case"defaultValue":o=v;break;case"children":u=v;break;case"dangerouslySetInnerHTML":if(v!=null)throw Error(r(91));break;default:Le(e,t,m,v,a,null)}Hc(e,l,o,u);return;case"option":for(w in a)if(a.hasOwnProperty(w)&&(l=a[w],l!=null))switch(w){case"selected":e.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:Le(e,t,w,l,a,null)}return;case"dialog":we("beforetoggle",e),we("toggle",e),we("cancel",e),we("close",e);break;case"iframe":case"object":we("load",e);break;case"video":case"audio":for(l=0;l<bi.length;l++)we(bi[l],e);break;case"image":we("error",e),we("load",e);break;case"details":we("toggle",e);break;case"embed":case"source":case"link":we("error",e),we("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(T in a)if(a.hasOwnProperty(T)&&(l=a[T],l!=null))switch(T){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,t));default:Le(e,t,T,l,a,null)}return;default:if(qr(t)){for(z in a)a.hasOwnProperty(z)&&(l=a[z],l!==void 0&&Nu(e,t,z,l,a,void 0));return}}for(v in a)a.hasOwnProperty(v)&&(l=a[v],l!=null&&Le(e,t,v,l,a,null))}function jy(e,t,a,l){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var o=null,u=null,m=null,v=null,w=null,T=null,z=null;for(C in a){var $=a[C];if(a.hasOwnProperty(C)&&$!=null)switch(C){case"checked":break;case"value":break;case"defaultValue":w=$;default:l.hasOwnProperty(C)||Le(e,t,C,null,l,$)}}for(var O in l){var C=l[O];if($=a[O],l.hasOwnProperty(O)&&(C!=null||$!=null))switch(O){case"type":u=C;break;case"name":o=C;break;case"checked":T=C;break;case"defaultChecked":z=C;break;case"value":m=C;break;case"defaultValue":v=C;break;case"children":case"dangerouslySetInnerHTML":if(C!=null)throw Error(r(137,t));break;default:C!==$&&Le(e,t,O,C,l,$)}}Lr(e,m,v,w,T,z,u,o);return;case"select":C=m=v=O=null;for(u in a)if(w=a[u],a.hasOwnProperty(u)&&w!=null)switch(u){case"value":break;case"multiple":C=w;default:l.hasOwnProperty(u)||Le(e,t,u,null,l,w)}for(o in l)if(u=l[o],w=a[o],l.hasOwnProperty(o)&&(u!=null||w!=null))switch(o){case"value":O=u;break;case"defaultValue":v=u;break;case"multiple":m=u;default:u!==w&&Le(e,t,o,u,l,w)}t=v,a=m,l=C,O!=null?Gn(e,!!a,O,!1):!!l!=!!a&&(t!=null?Gn(e,!!a,t,!0):Gn(e,!!a,a?[]:"",!1));return;case"textarea":C=O=null;for(v in a)if(o=a[v],a.hasOwnProperty(v)&&o!=null&&!l.hasOwnProperty(v))switch(v){case"value":break;case"children":break;default:Le(e,t,v,null,l,o)}for(m in l)if(o=l[m],u=a[m],l.hasOwnProperty(m)&&(o!=null||u!=null))switch(m){case"value":O=o;break;case"defaultValue":C=o;break;case"children":break;case"dangerouslySetInnerHTML":if(o!=null)throw Error(r(91));break;default:o!==u&&Le(e,t,m,o,l,u)}qc(e,O,C);return;case"option":for(var F in a)if(O=a[F],a.hasOwnProperty(F)&&O!=null&&!l.hasOwnProperty(F))switch(F){case"selected":e.selected=!1;break;default:Le(e,t,F,null,l,O)}for(w in l)if(O=l[w],C=a[w],l.hasOwnProperty(w)&&O!==C&&(O!=null||C!=null))switch(w){case"selected":e.selected=O&&typeof O!="function"&&typeof O!="symbol";break;default:Le(e,t,w,O,l,C)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var re in a)O=a[re],a.hasOwnProperty(re)&&O!=null&&!l.hasOwnProperty(re)&&Le(e,t,re,null,l,O);for(T in l)if(O=l[T],C=a[T],l.hasOwnProperty(T)&&O!==C&&(O!=null||C!=null))switch(T){case"children":case"dangerouslySetInnerHTML":if(O!=null)throw Error(r(137,t));break;default:Le(e,t,T,O,l,C)}return;default:if(qr(t)){for(var Be in a)O=a[Be],a.hasOwnProperty(Be)&&O!==void 0&&!l.hasOwnProperty(Be)&&Nu(e,t,Be,void 0,l,O);for(z in l)O=l[z],C=a[z],!l.hasOwnProperty(z)||O===C||O===void 0&&C===void 0||Nu(e,t,z,O,l,C);return}}for(var N in a)O=a[N],a.hasOwnProperty(N)&&O!=null&&!l.hasOwnProperty(N)&&Le(e,t,N,null,l,O);for($ in l)O=l[$],C=a[$],!l.hasOwnProperty($)||O===C||O==null&&C==null||Le(e,t,$,O,l,C)}function Vf(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function Ey(){if(typeof performance.getEntriesByType=="function"){for(var e=0,t=0,a=performance.getEntriesByType("resource"),l=0;l<a.length;l++){var o=a[l],u=o.transferSize,m=o.initiatorType,v=o.duration;if(u&&v&&Vf(m)){for(m=0,v=o.responseEnd,l+=1;l<a.length;l++){var w=a[l],T=w.startTime;if(T>v)break;var z=w.transferSize,$=w.initiatorType;z&&Vf($)&&(w=w.responseEnd,m+=z*(w<v?1:(v-T)/(w-T)))}if(--l,t+=8*(u+m)/(o.duration/1e3),e++,10<e)break}}if(0<e)return t/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var Au=null,Tu=null;function Xs(e){return e.nodeType===9?e:e.ownerDocument}function Yf(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function If(e,t){if(e===0)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&t==="foreignObject"?0:e}function ku(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.children=="bigint"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Ou=null;function Ny(){var e=window.event;return e&&e.type==="popstate"?e===Ou?!1:(Ou=e,!0):(Ou=null,!1)}var Qf=typeof setTimeout=="function"?setTimeout:void 0,Ay=typeof clearTimeout=="function"?clearTimeout:void 0,Xf=typeof Promise=="function"?Promise:void 0,Ty=typeof queueMicrotask=="function"?queueMicrotask:typeof Xf<"u"?function(e){return Xf.resolve(null).then(e).catch(ky)}:Qf;function ky(e){setTimeout(function(){throw e})}function Pa(e){return e==="head"}function Jf(e,t){var a=t,l=0;do{var o=a.nextSibling;if(e.removeChild(a),o&&o.nodeType===8)if(a=o.data,a==="/$"||a==="/&"){if(l===0){e.removeChild(o),bl(t);return}l--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")l++;else if(a==="html")wi(e.ownerDocument.documentElement);else if(a==="head"){a=e.ownerDocument.head,wi(a);for(var u=a.firstChild;u;){var m=u.nextSibling,v=u.nodeName;u[ql]||v==="SCRIPT"||v==="STYLE"||v==="LINK"&&u.rel.toLowerCase()==="stylesheet"||a.removeChild(u),u=m}}else a==="body"&&wi(e.ownerDocument.body);a=o}while(a);bl(t)}function Zf(e,t){var a=e;e=0;do{var l=a.nextSibling;if(a.nodeType===1?t?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(t?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),l&&l.nodeType===8)if(a=l.data,a==="/$"){if(e===0)break;e--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||e++;a=l}while(a)}function Ru(e){var t=e.firstChild;for(t&&t.nodeType===10&&(t=t.nextSibling);t;){var a=t;switch(t=t.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":Ru(a),Ur(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}e.removeChild(a)}}function Oy(e,t,a,l){for(;e.nodeType===1;){var o=a;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!l&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(l){if(!e[ql])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(u=e.getAttribute("rel"),u==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(u!==o.rel||e.getAttribute("href")!==(o.href==null||o.href===""?null:o.href)||e.getAttribute("crossorigin")!==(o.crossOrigin==null?null:o.crossOrigin)||e.getAttribute("title")!==(o.title==null?null:o.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(u=e.getAttribute("src"),(u!==(o.src==null?null:o.src)||e.getAttribute("type")!==(o.type==null?null:o.type)||e.getAttribute("crossorigin")!==(o.crossOrigin==null?null:o.crossOrigin))&&u&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(t==="input"&&e.type==="hidden"){var u=o.name==null?null:""+o.name;if(o.type==="hidden"&&e.getAttribute("name")===u)return e}else return e;if(e=Jt(e.nextSibling),e===null)break}return null}function Ry(e,t,a){if(t==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!a||(e=Jt(e.nextSibling),e===null))return null;return e}function Pf(e,t){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!t||(e=Jt(e.nextSibling),e===null))return null;return e}function Cu(e){return e.data==="$?"||e.data==="$~"}function Du(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function Cy(e,t){var a=e.ownerDocument;if(e.data==="$~")e._reactRetry=t;else if(e.data!=="$?"||a.readyState!=="loading")t();else{var l=function(){t(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),e._reactRetry=l}}function Jt(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?"||t==="$~"||t==="&"||t==="F!"||t==="F")break;if(t==="/$"||t==="/&")return null}}return e}var zu=null;function Wf(e){e=e.nextSibling;for(var t=0;e;){if(e.nodeType===8){var a=e.data;if(a==="/$"||a==="/&"){if(t===0)return Jt(e.nextSibling);t--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||t++}e=e.nextSibling}return null}function Ff(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var a=e.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(t===0)return e;t--}else a!=="/$"&&a!=="/&"||t++}e=e.previousSibling}return null}function em(e,t,a){switch(t=Xs(a),e){case"html":if(e=t.documentElement,!e)throw Error(r(452));return e;case"head":if(e=t.head,!e)throw Error(r(453));return e;case"body":if(e=t.body,!e)throw Error(r(454));return e;default:throw Error(r(451))}}function wi(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);Ur(e)}var Zt=new Map,tm=new Set;function Js(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var Na=L.d;L.d={f:Dy,r:zy,D:Uy,C:My,L:Ly,m:By,X:Hy,S:qy,M:Gy};function Dy(){var e=Na.f(),t=Hs();return e||t}function zy(e){var t=Bn(e);t!==null&&t.tag===5&&t.type==="form"?ph(t):Na.r(e)}var yl=typeof document>"u"?null:document;function am(e,t,a){var l=yl;if(l&&typeof t=="string"&&t){var o=$t(t);o='link[rel="'+e+'"][href="'+o+'"]',typeof a=="string"&&(o+='[crossorigin="'+a+'"]'),tm.has(o)||(tm.add(o),e={rel:e,crossOrigin:a,href:t},l.querySelector(o)===null&&(t=l.createElement("link"),pt(t,"link",e),ct(t),l.head.appendChild(t)))}}function Uy(e){Na.D(e),am("dns-prefetch",e,null)}function My(e,t){Na.C(e,t),am("preconnect",e,t)}function Ly(e,t,a){Na.L(e,t,a);var l=yl;if(l&&e&&t){var o='link[rel="preload"][as="'+$t(t)+'"]';t==="image"&&a&&a.imageSrcSet?(o+='[imagesrcset="'+$t(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(o+='[imagesizes="'+$t(a.imageSizes)+'"]')):o+='[href="'+$t(e)+'"]';var u=o;switch(t){case"style":u=pl(e);break;case"script":u=vl(e)}Zt.has(u)||(e=x({rel:"preload",href:t==="image"&&a&&a.imageSrcSet?void 0:e,as:t},a),Zt.set(u,e),l.querySelector(o)!==null||t==="style"&&l.querySelector(_i(u))||t==="script"&&l.querySelector(Si(u))||(t=l.createElement("link"),pt(t,"link",e),ct(t),l.head.appendChild(t)))}}function By(e,t){Na.m(e,t);var a=yl;if(a&&e){var l=t&&typeof t.as=="string"?t.as:"script",o='link[rel="modulepreload"][as="'+$t(l)+'"][href="'+$t(e)+'"]',u=o;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":u=vl(e)}if(!Zt.has(u)&&(e=x({rel:"modulepreload",href:e},t),Zt.set(u,e),a.querySelector(o)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(Si(u)))return}l=a.createElement("link"),pt(l,"link",e),ct(l),a.head.appendChild(l)}}}function qy(e,t,a){Na.S(e,t,a);var l=yl;if(l&&e){var o=qn(l).hoistableStyles,u=pl(e);t=t||"default";var m=o.get(u);if(!m){var v={loading:0,preload:null};if(m=l.querySelector(_i(u)))v.loading=5;else{e=x({rel:"stylesheet",href:e,"data-precedence":t},a),(a=Zt.get(u))&&Uu(e,a);var w=m=l.createElement("link");ct(w),pt(w,"link",e),w._p=new Promise(function(T,z){w.onload=T,w.onerror=z}),w.addEventListener("load",function(){v.loading|=1}),w.addEventListener("error",function(){v.loading|=2}),v.loading|=4,Zs(m,t,l)}m={type:"stylesheet",instance:m,count:1,state:v},o.set(u,m)}}}function Hy(e,t){Na.X(e,t);var a=yl;if(a&&e){var l=qn(a).hoistableScripts,o=vl(e),u=l.get(o);u||(u=a.querySelector(Si(o)),u||(e=x({src:e,async:!0},t),(t=Zt.get(o))&&Mu(e,t),u=a.createElement("script"),ct(u),pt(u,"link",e),a.head.appendChild(u)),u={type:"script",instance:u,count:1,state:null},l.set(o,u))}}function Gy(e,t){Na.M(e,t);var a=yl;if(a&&e){var l=qn(a).hoistableScripts,o=vl(e),u=l.get(o);u||(u=a.querySelector(Si(o)),u||(e=x({src:e,async:!0,type:"module"},t),(t=Zt.get(o))&&Mu(e,t),u=a.createElement("script"),ct(u),pt(u,"link",e),a.head.appendChild(u)),u={type:"script",instance:u,count:1,state:null},l.set(o,u))}}function nm(e,t,a,l){var o=(o=ue.current)?Js(o):null;if(!o)throw Error(r(446));switch(e){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(t=pl(a.href),a=qn(o).hoistableStyles,l=a.get(t),l||(l={type:"style",instance:null,count:0,state:null},a.set(t,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){e=pl(a.href);var u=qn(o).hoistableStyles,m=u.get(e);if(m||(o=o.ownerDocument||o,m={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},u.set(e,m),(u=o.querySelector(_i(e)))&&!u._p&&(m.instance=u,m.state.loading=5),Zt.has(e)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Zt.set(e,a),u||$y(o,e,a,m.state))),t&&l===null)throw Error(r(528,""));return m}if(t&&l!==null)throw Error(r(529,""));return null;case"script":return t=a.async,a=a.src,typeof a=="string"&&t&&typeof t!="function"&&typeof t!="symbol"?(t=vl(a),a=qn(o).hoistableScripts,l=a.get(t),l||(l={type:"script",instance:null,count:0,state:null},a.set(t,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,e))}}function pl(e){return'href="'+$t(e)+'"'}function _i(e){return'link[rel="stylesheet"]['+e+"]"}function lm(e){return x({},e,{"data-precedence":e.precedence,precedence:null})}function $y(e,t,a,l){e.querySelector('link[rel="preload"][as="style"]['+t+"]")?l.loading=1:(t=e.createElement("link"),l.preload=t,t.addEventListener("load",function(){return l.loading|=1}),t.addEventListener("error",function(){return l.loading|=2}),pt(t,"link",a),ct(t),e.head.appendChild(t))}function vl(e){return'[src="'+$t(e)+'"]'}function Si(e){return"script[async]"+e}function im(e,t,a){if(t.count++,t.instance===null)switch(t.type){case"style":var l=e.querySelector('style[data-href~="'+$t(a.href)+'"]');if(l)return t.instance=l,ct(l),l;var o=x({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(e.ownerDocument||e).createElement("style"),ct(l),pt(l,"style",o),Zs(l,a.precedence,e),t.instance=l;case"stylesheet":o=pl(a.href);var u=e.querySelector(_i(o));if(u)return t.state.loading|=4,t.instance=u,ct(u),u;l=lm(a),(o=Zt.get(o))&&Uu(l,o),u=(e.ownerDocument||e).createElement("link"),ct(u);var m=u;return m._p=new Promise(function(v,w){m.onload=v,m.onerror=w}),pt(u,"link",l),t.state.loading|=4,Zs(u,a.precedence,e),t.instance=u;case"script":return u=vl(a.src),(o=e.querySelector(Si(u)))?(t.instance=o,ct(o),o):(l=a,(o=Zt.get(u))&&(l=x({},a),Mu(l,o)),e=e.ownerDocument||e,o=e.createElement("script"),ct(o),pt(o,"link",l),e.head.appendChild(o),t.instance=o);case"void":return null;default:throw Error(r(443,t.type))}else t.type==="stylesheet"&&(t.state.loading&4)===0&&(l=t.instance,t.state.loading|=4,Zs(l,a.precedence,e));return t.instance}function Zs(e,t,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),o=l.length?l[l.length-1]:null,u=o,m=0;m<l.length;m++){var v=l[m];if(v.dataset.precedence===t)u=v;else if(u!==o)break}u?u.parentNode.insertBefore(e,u.nextSibling):(t=a.nodeType===9?a.head:a,t.insertBefore(e,t.firstChild))}function Uu(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.title==null&&(e.title=t.title)}function Mu(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.integrity==null&&(e.integrity=t.integrity)}var Ps=null;function sm(e,t,a){if(Ps===null){var l=new Map,o=Ps=new Map;o.set(a,l)}else o=Ps,l=o.get(a),l||(l=new Map,o.set(a,l));if(l.has(e))return l;for(l.set(e,null),a=a.getElementsByTagName(e),o=0;o<a.length;o++){var u=a[o];if(!(u[ql]||u[ft]||e==="link"&&u.getAttribute("rel")==="stylesheet")&&u.namespaceURI!=="http://www.w3.org/2000/svg"){var m=u.getAttribute(t)||"";m=e+m;var v=l.get(m);v?v.push(u):l.set(m,[u])}}return l}function rm(e,t,a){e=e.ownerDocument||e,e.head.insertBefore(a,t==="title"?e.querySelector("head > title"):null)}function Ky(e,t,a){if(a===1||t.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof t.precedence!="string"||typeof t.href!="string"||t.href==="")break;return!0;case"link":if(typeof t.rel!="string"||typeof t.href!="string"||t.href===""||t.onLoad||t.onError)break;switch(t.rel){case"stylesheet":return e=t.disabled,typeof t.precedence=="string"&&e==null;default:return!0}case"script":if(t.async&&typeof t.async!="function"&&typeof t.async!="symbol"&&!t.onLoad&&!t.onError&&t.src&&typeof t.src=="string")return!0}return!1}function om(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function Vy(e,t,a,l){if(a.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var o=pl(l.href),u=t.querySelector(_i(o));if(u){t=u._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(e.count++,e=Ws.bind(e),t.then(e,e)),a.state.loading|=4,a.instance=u,ct(u);return}u=t.ownerDocument||t,l=lm(l),(o=Zt.get(o))&&Uu(l,o),u=u.createElement("link"),ct(u);var m=u;m._p=new Promise(function(v,w){m.onload=v,m.onerror=w}),pt(u,"link",l),a.instance=u}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(a,t),(t=a.state.preload)&&(a.state.loading&3)===0&&(e.count++,a=Ws.bind(e),t.addEventListener("load",a),t.addEventListener("error",a))}}var Lu=0;function Yy(e,t){return e.stylesheets&&e.count===0&&er(e,e.stylesheets),0<e.count||0<e.imgCount?function(a){var l=setTimeout(function(){if(e.stylesheets&&er(e,e.stylesheets),e.unsuspend){var u=e.unsuspend;e.unsuspend=null,u()}},6e4+t);0<e.imgBytes&&Lu===0&&(Lu=62500*Ey());var o=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&er(e,e.stylesheets),e.unsuspend)){var u=e.unsuspend;e.unsuspend=null,u()}},(e.imgBytes>Lu?50:800)+t);return e.unsuspend=a,function(){e.unsuspend=null,clearTimeout(l),clearTimeout(o)}}:null}function Ws(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)er(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var Fs=null;function er(e,t){e.stylesheets=null,e.unsuspend!==null&&(e.count++,Fs=new Map,t.forEach(Iy,e),Fs=null,Ws.call(e))}function Iy(e,t){if(!(t.state.loading&4)){var a=Fs.get(e);if(a)var l=a.get(null);else{a=new Map,Fs.set(e,a);for(var o=e.querySelectorAll("link[data-precedence],style[data-precedence]"),u=0;u<o.length;u++){var m=o[u];(m.nodeName==="LINK"||m.getAttribute("media")!=="not all")&&(a.set(m.dataset.precedence,m),l=m)}l&&a.set(null,l)}o=t.instance,m=o.getAttribute("data-precedence"),u=a.get(m)||l,u===l&&a.set(null,o),a.set(m,o),this.count++,l=Ws.bind(this),o.addEventListener("load",l),o.addEventListener("error",l),u?u.parentNode.insertBefore(o,u.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(o,e.firstChild)),t.state.loading|=4}}var ji={$$typeof:M,Provider:null,Consumer:null,_currentValue:W,_currentValue2:W,_threadCount:0};function Qy(e,t,a,l,o,u,m,v,w){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Rr(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Rr(0),this.hiddenUpdates=Rr(null),this.identifierPrefix=l,this.onUncaughtError=o,this.onCaughtError=u,this.onRecoverableError=m,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=w,this.incompleteTransitions=new Map}function um(e,t,a,l,o,u,m,v,w,T,z,$){return e=new Qy(e,t,a,m,w,T,z,$,v),t=1,u===!0&&(t|=24),u=Dt(3,null,null,t),e.current=u,u.stateNode=e,t=yo(),t.refCount++,e.pooledCache=t,t.refCount++,u.memoizedState={element:l,isDehydrated:a,cache:t},xo(u),e}function cm(e){return e?(e=Jn,e):Jn}function dm(e,t,a,l,o,u){o=cm(o),l.context===null?l.context=o:l.pendingContext=o,l=Ha(t),l.payload={element:a},u=u===void 0?null:u,u!==null&&(l.callback=u),a=Ga(e,l,t),a!==null&&(kt(a,e,t),ai(a,e,t))}function hm(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var a=e.retryLane;e.retryLane=a!==0&&a<t?a:t}}function Bu(e,t){hm(e,t),(e=e.alternate)&&hm(e,t)}function fm(e){if(e.tag===13||e.tag===31){var t=gn(e,67108864);t!==null&&kt(t,e,67108864),Bu(e,67108864)}}function mm(e){if(e.tag===13||e.tag===31){var t=Bt();t=Cr(t);var a=gn(e,t);a!==null&&kt(a,e,t),Bu(e,t)}}var tr=!0;function Xy(e,t,a,l){var o=R.T;R.T=null;var u=L.p;try{L.p=2,qu(e,t,a,l)}finally{L.p=u,R.T=o}}function Jy(e,t,a,l){var o=R.T;R.T=null;var u=L.p;try{L.p=8,qu(e,t,a,l)}finally{L.p=u,R.T=o}}function qu(e,t,a,l){if(tr){var o=Hu(l);if(o===null)Eu(e,t,l,ar,a),ym(e,l);else if(Py(o,e,t,a,l))l.stopPropagation();else if(ym(e,l),t&4&&-1<Zy.indexOf(e)){for(;o!==null;){var u=Bn(o);if(u!==null)switch(u.tag){case 3:if(u=u.stateNode,u.current.memoizedState.isDehydrated){var m=cn(u.pendingLanes);if(m!==0){var v=u;for(v.pendingLanes|=2,v.entangledLanes|=2;m;){var w=1<<31-Rt(m);v.entanglements[1]|=w,m&=~w}ra(u),(Oe&6)===0&&(Bs=$e()+500,vi(0))}}break;case 31:case 13:v=gn(u,2),v!==null&&kt(v,u,2),Hs(),Bu(u,2)}if(u=Hu(l),u===null&&Eu(e,t,l,ar,a),u===o)break;o=u}o!==null&&l.stopPropagation()}else Eu(e,t,l,null,a)}}function Hu(e){return e=Gr(e),Gu(e)}var ar=null;function Gu(e){if(ar=null,e=Ln(e),e!==null){var t=d(e);if(t===null)e=null;else{var a=t.tag;if(a===13){if(e=f(t),e!==null)return e;e=null}else if(a===31){if(e=g(t),e!==null)return e;e=null}else if(a===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return ar=e,null}function gm(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(_t()){case Ke:return 2;case Ul:return 8;case un:case Mg:return 32;case jc:return 268435456;default:return 32}default:return 32}}var $u=!1,Wa=null,Fa=null,en=null,Ei=new Map,Ni=new Map,tn=[],Zy="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function ym(e,t){switch(e){case"focusin":case"focusout":Wa=null;break;case"dragenter":case"dragleave":Fa=null;break;case"mouseover":case"mouseout":en=null;break;case"pointerover":case"pointerout":Ei.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ni.delete(t.pointerId)}}function Ai(e,t,a,l,o,u){return e===null||e.nativeEvent!==u?(e={blockedOn:t,domEventName:a,eventSystemFlags:l,nativeEvent:u,targetContainers:[o]},t!==null&&(t=Bn(t),t!==null&&fm(t)),e):(e.eventSystemFlags|=l,t=e.targetContainers,o!==null&&t.indexOf(o)===-1&&t.push(o),e)}function Py(e,t,a,l,o){switch(t){case"focusin":return Wa=Ai(Wa,e,t,a,l,o),!0;case"dragenter":return Fa=Ai(Fa,e,t,a,l,o),!0;case"mouseover":return en=Ai(en,e,t,a,l,o),!0;case"pointerover":var u=o.pointerId;return Ei.set(u,Ai(Ei.get(u)||null,e,t,a,l,o)),!0;case"gotpointercapture":return u=o.pointerId,Ni.set(u,Ai(Ni.get(u)||null,e,t,a,l,o)),!0}return!1}function pm(e){var t=Ln(e.target);if(t!==null){var a=d(t);if(a!==null){if(t=a.tag,t===13){if(t=f(a),t!==null){e.blockedOn=t,Oc(e.priority,function(){mm(a)});return}}else if(t===31){if(t=g(a),t!==null){e.blockedOn=t,Oc(e.priority,function(){mm(a)});return}}else if(t===3&&a.stateNode.current.memoizedState.isDehydrated){e.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}e.blockedOn=null}function nr(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var a=Hu(e.nativeEvent);if(a===null){a=e.nativeEvent;var l=new a.constructor(a.type,a);Hr=l,a.target.dispatchEvent(l),Hr=null}else return t=Bn(a),t!==null&&fm(t),e.blockedOn=a,!1;t.shift()}return!0}function vm(e,t,a){nr(e)&&a.delete(t)}function Wy(){$u=!1,Wa!==null&&nr(Wa)&&(Wa=null),Fa!==null&&nr(Fa)&&(Fa=null),en!==null&&nr(en)&&(en=null),Ei.forEach(vm),Ni.forEach(vm)}function lr(e,t){e.blockedOn===t&&(e.blockedOn=null,$u||($u=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,Wy)))}var ir=null;function bm(e){ir!==e&&(ir=e,i.unstable_scheduleCallback(i.unstable_NormalPriority,function(){ir===e&&(ir=null);for(var t=0;t<e.length;t+=3){var a=e[t],l=e[t+1],o=e[t+2];if(typeof l!="function"){if(Gu(l||a)===null)continue;break}var u=Bn(a);u!==null&&(e.splice(t,3),t-=3,Ho(u,{pending:!0,data:o,method:a.method,action:l},l,o))}}))}function bl(e){function t(w){return lr(w,e)}Wa!==null&&lr(Wa,e),Fa!==null&&lr(Fa,e),en!==null&&lr(en,e),Ei.forEach(t),Ni.forEach(t);for(var a=0;a<tn.length;a++){var l=tn[a];l.blockedOn===e&&(l.blockedOn=null)}for(;0<tn.length&&(a=tn[0],a.blockedOn===null);)pm(a),a.blockedOn===null&&tn.shift();if(a=(e.ownerDocument||e).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var o=a[l],u=a[l+1],m=o[St]||null;if(typeof u=="function")m||bm(a);else if(m){var v=null;if(u&&u.hasAttribute("formAction")){if(o=u,m=u[St]||null)v=m.formAction;else if(Gu(o)!==null)continue}else v=m.action;typeof v=="function"?a[l+1]=v:(a.splice(l,3),l-=3),bm(a)}}}function xm(){function e(u){u.canIntercept&&u.info==="react-transition"&&u.intercept({handler:function(){return new Promise(function(m){return o=m})},focusReset:"manual",scroll:"manual"})}function t(){o!==null&&(o(),o=null),l||setTimeout(a,20)}function a(){if(!l&&!navigation.transition){var u=navigation.currentEntry;u&&u.url!=null&&navigation.navigate(u.url,{state:u.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var l=!1,o=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",t),navigation.addEventListener("navigateerror",t),setTimeout(a,100),function(){l=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",t),navigation.removeEventListener("navigateerror",t),o!==null&&(o(),o=null)}}}function Ku(e){this._internalRoot=e}sr.prototype.render=Ku.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(r(409));var a=t.current,l=Bt();dm(a,l,e,t,null,null)},sr.prototype.unmount=Ku.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;dm(e.current,2,null,e,null,null),Hs(),t[Mn]=null}};function sr(e){this._internalRoot=e}sr.prototype.unstable_scheduleHydration=function(e){if(e){var t=kc();e={blockedOn:null,target:e,priority:t};for(var a=0;a<tn.length&&t!==0&&t<tn[a].priority;a++);tn.splice(a,0,e),a===0&&pm(e)}};var wm=n.version;if(wm!=="19.2.4")throw Error(r(527,wm,"19.2.4"));L.findDOMNode=function(e){var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(r(188)):(e=Object.keys(e).join(","),Error(r(268,e)));return e=p(t),e=e!==null?b(e):null,e=e===null?null:e.stateNode,e};var Fy={bundleType:0,version:"19.2.4",rendererPackageName:"react-dom",currentDispatcherRef:R,reconcilerVersion:"19.2.4"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var rr=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!rr.isDisabled&&rr.supportsFiber)try{Ml=rr.inject(Fy),Ot=rr}catch{}}return ki.createRoot=function(e,t){if(!c(e))throw Error(r(299));var a=!1,l="",o=Ah,u=Th,m=kh;return t!=null&&(t.unstable_strictMode===!0&&(a=!0),t.identifierPrefix!==void 0&&(l=t.identifierPrefix),t.onUncaughtError!==void 0&&(o=t.onUncaughtError),t.onCaughtError!==void 0&&(u=t.onCaughtError),t.onRecoverableError!==void 0&&(m=t.onRecoverableError)),t=um(e,1,!1,null,null,a,l,null,o,u,m,xm),e[Mn]=t.current,ju(e),new Ku(t)},ki.hydrateRoot=function(e,t,a){if(!c(e))throw Error(r(299));var l=!1,o="",u=Ah,m=Th,v=kh,w=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(o=a.identifierPrefix),a.onUncaughtError!==void 0&&(u=a.onUncaughtError),a.onCaughtError!==void 0&&(m=a.onCaughtError),a.onRecoverableError!==void 0&&(v=a.onRecoverableError),a.formState!==void 0&&(w=a.formState)),t=um(e,1,!0,t,a??null,l,o,w,u,m,v,xm),t.context=cm(null),a=t.current,l=Bt(),l=Cr(l),o=Ha(l),o.callback=null,Ga(a,o,l),a=l,t.current.lanes=a,Bl(t,a),ra(t),e[Mn]=t.current,ju(e),new sr(t)},ki.version="19.2.4",ki}var Rm;function up(){if(Rm)return Iu.exports;Rm=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(n){console.error(n)}}return i(),Iu.exports=op(),Iu.exports}var cp=up();const dp=ug(cp);var ve=(i=>(i.GUEST="GUEST",i.VILLAGER="VILLAGER",i.ADMIN="ADMIN",i))(ve||{});/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hp=i=>i.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),fp=i=>i.replace(/^([A-Z])|[\s-_]+(\w)/g,(n,s,r)=>r?r.toUpperCase():s.toLowerCase()),Cm=i=>{const n=fp(i);return n.charAt(0).toUpperCase()+n.slice(1)},dg=(...i)=>i.filter((n,s,r)=>!!n&&n.trim()!==""&&r.indexOf(n)===s).join(" ").trim(),mp=i=>{for(const n in i)if(n.startsWith("aria-")||n==="role"||n==="title")return!0};/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var gp={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yp=U.forwardRef(({color:i="currentColor",size:n=24,strokeWidth:s=2,absoluteStrokeWidth:r,className:c="",children:d,iconNode:f,...g},y)=>U.createElement("svg",{ref:y,...gp,width:n,height:n,stroke:i,strokeWidth:r?Number(s)*24/Number(n):s,className:dg("lucide",c),...!d&&!mp(g)&&{"aria-hidden":"true"},...g},[...f.map(([p,b])=>U.createElement(p,b)),...Array.isArray(d)?d:[d]]));/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Re=(i,n)=>{const s=U.forwardRef(({className:r,...c},d)=>U.createElement(yp,{ref:d,iconNode:n,className:dg(`lucide-${hp(Cm(i))}`,`lucide-${i}`,r),...c}));return s.displayName=Cm(i),s};/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pp=[["path",{d:"M3.85 8.62a4 4 0 0 1 4.78-4.77 4 4 0 0 1 6.74 0 4 4 0 0 1 4.78 4.78 4 4 0 0 1 0 6.74 4 4 0 0 1-4.77 4.78 4 4 0 0 1-6.75 0 4 4 0 0 1-4.78-4.77 4 4 0 0 1 0-6.76Z",key:"3c2336"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],vp=Re("badge-check",pp);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bp=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],Ol=Re("calendar",bp);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xp=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],or=Re("circle-check",xp);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wp=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}],["path",{d:"M7 20.662V19a2 2 0 0 1 2-2h6a2 2 0 0 1 2 2v1.662",key:"154egf"}]],vr=Re("circle-user",wp);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _p=[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]],Sp=Re("credit-card",_p);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jp=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],Ep=Re("download",jp);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Np=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]],nc=Re("image",Np);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ap=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],Tp=Re("info",Ap);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kp=[["path",{d:"M10 18v-7",key:"wt116b"}],["path",{d:"M11.12 2.198a2 2 0 0 1 1.76.006l7.866 3.847c.476.233.31.949-.22.949H3.474c-.53 0-.695-.716-.22-.949z",key:"1m329m"}],["path",{d:"M14 18v-7",key:"vav6t3"}],["path",{d:"M18 18v-7",key:"aexdmj"}],["path",{d:"M3 22h18",key:"8prr45"}],["path",{d:"M6 18v-7",key:"1ivflk"}]],Op=Re("landmark",kp);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rp=[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]],zi=Re("link",Rp);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cp=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],Dm=Re("log-out",Cp);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dp=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],zp=Re("map-pin",Dp);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Up=[["path",{d:"M14.106 5.553a2 2 0 0 0 1.788 0l3.659-1.83A1 1 0 0 1 21 4.619v12.764a1 1 0 0 1-.553.894l-4.553 2.277a2 2 0 0 1-1.788 0l-4.212-2.106a2 2 0 0 0-1.788 0l-3.659 1.83A1 1 0 0 1 3 19.381V6.618a1 1 0 0 1 .553-.894l4.553-2.277a2 2 0 0 1 1.788 0z",key:"169xi5"}],["path",{d:"M15 5.764v15",key:"1pn4in"}],["path",{d:"M9 3.236v15",key:"1uimfh"}]],Mp=Re("map",Up);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lp=[["path",{d:"M11 6a13 13 0 0 0 8.4-2.8A1 1 0 0 1 21 4v12a1 1 0 0 1-1.6.8A13 13 0 0 0 11 14H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2z",key:"q8bfy3"}],["path",{d:"M6 14a12 12 0 0 0 2.4 7.2 2 2 0 0 0 3.2-2.4A8 8 0 0 1 10 14",key:"1853fq"}],["path",{d:"M8 6v8",key:"15ugcq"}]],Bp=Re("megaphone",Lp);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qp=[["path",{d:"M4 5h16",key:"1tepv9"}],["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 19h16",key:"1djgab"}]],Hp=Re("menu",qp);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gp=[["path",{d:"M12 13V7",key:"h0r20n"}],["path",{d:"m15 10-3 3-3-3",key:"lzhmyn"}],["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2",key:"48i651"}],["path",{d:"M12 17v4",key:"1riwvh"}],["path",{d:"M8 21h8",key:"1ev6f3"}]],$p=Re("monitor-down",Gp);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kp=[["polygon",{points:"3 11 22 2 13 21 11 13 3 11",key:"1ltx0t"}]],Vp=Re("navigation",Kp);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yp=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M9 21V9",key:"1oto5p"}]],Ip=Re("panels-top-left",Yp);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qp=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]],vc=Re("pencil",Qp);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xp=[["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]],zm=Re("phone",Xp);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jp=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],bc=Re("plus",Jp);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zp=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],xc=Re("save",Zp);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pp=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],Wp=Re("search",Pp);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fp=[["path",{d:"M12 2v13",key:"1km8f5"}],["path",{d:"m16 6-4-4-4 4",key:"13yo43"}],["path",{d:"M4 12v8a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8",key:"1b2hhj"}]],ev=Re("share",Fp);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tv=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]],av=Re("square-plus",tv);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nv=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],lv=Re("star",nv);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iv=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],$i=Re("trash-2",iv);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sv=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],Sr=Re("upload",sv);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rv=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],lc=Re("user",rv);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ov=[["path",{d:"m16 13 5.223 3.482a.5.5 0 0 0 .777-.416V7.87a.5.5 0 0 0-.752-.432L16 10.5",key:"ftymec"}],["rect",{x:"2",y:"6",width:"14",height:"12",rx:"2",key:"158x01"}]],uv=Re("video",ov);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cv=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Oa=Re("x",cv),dv=({currentUser:i,onLogout:n,onOpenAuth:s,scrollToSection:r,onLogoClick:c})=>{const[d,f]=U.useState(!1),g=y=>{r(y),f(!1)};return h.jsxs("nav",{className:"sticky top-0 z-50 bg-green-800/95 backdrop-blur-sm text-white shadow-lg transition-all duration-300",children:[h.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:h.jsxs("div",{className:"flex items-center justify-between h-16",children:[h.jsxs("div",{className:"flex-shrink-0 flex items-center gap-2 cursor-pointer group",onClick:()=>{c&&c(),r("hero")},children:[h.jsx("div",{className:"bg-white p-1 rounded-full group-hover:scale-110 transition-transform shadow-sm",children:h.jsx("img",{src:"/logo.png",alt:"Balclar Ky",className:"w-10 h-10 object-cover rounded-full"})}),h.jsx("span",{className:"font-bold text-xl tracking-tight",children:"Balclar Ky"})]}),h.jsx("div",{className:"hidden md:block flex-1 mx-4",children:h.jsxs("div",{className:"flex items-center justify-center space-x-1 lg:space-x-4",children:[h.jsx("button",{onClick:()=>r("workers"),className:"whitespace-nowrap hover:bg-green-700 px-2 lg:px-3 py-2 rounded-md text-sm font-medium transition-colors",children:"Ky Rehberi"}),h.jsx("button",{onClick:()=>r("news"),className:"whitespace-nowrap hover:bg-green-700 px-2 lg:px-3 py-2 rounded-md text-sm font-medium transition-colors",children:"Haberler"}),h.jsx("button",{onClick:()=>r("events"),className:"whitespace-nowrap hover:bg-green-700 px-2 lg:px-3 py-2 rounded-md text-sm font-medium transition-colors",children:"Etkinlikler"}),h.jsx("button",{onClick:()=>r("gallery"),className:"whitespace-nowrap hover:bg-green-700 px-2 lg:px-3 py-2 rounded-md text-sm font-medium transition-colors",children:"Galeri"}),h.jsx("button",{onClick:()=>r("donations"),className:"whitespace-nowrap hover:bg-green-700 px-2 lg:px-3 py-2 rounded-md text-sm font-medium transition-colors",children:"Ba"}),h.jsx("button",{onClick:()=>r("about"),className:"whitespace-nowrap hover:bg-green-700 px-2 lg:px-3 py-2 rounded-md text-sm font-medium transition-colors",children:"Hakknda"})]})}),h.jsx("div",{className:"hidden md:block flex-shrink-0",children:i?h.jsxs("div",{className:"flex items-center gap-4",children:[h.jsxs("div",{className:"text-right",children:[h.jsx("p",{className:"text-sm font-semibold",children:i.role===ve.ADMIN||i.role==="admin"?"Hogeldin Ynetici":`${i.name} ${i.surname}`}),h.jsx("p",{className:"text-xs text-green-200",children:i.role===ve.ADMIN||i.role==="admin"?"Ynetici":i.role===ve.VILLAGER||i.role==="villager"?"Ky Sakini":"Misafir"})]}),h.jsx("button",{onClick:n,className:"bg-red-500 hover:bg-red-600 p-2 rounded-full transition-colors flex items-center justify-center",title:"k Yap",children:h.jsx(Dm,{size:18})})]}):h.jsxs("button",{onClick:s,className:"bg-white text-green-800 hover:bg-green-100 px-4 py-2 rounded-full text-sm font-bold flex items-center gap-2 transition-all shadow-md whitespace-nowrap",children:[h.jsx(lc,{size:18}),h.jsx("span",{children:"Giri / Kayt"})]})}),h.jsx("div",{className:"md:hidden flex items-center",children:h.jsx("button",{onClick:()=>f(!d),className:"text-white hover:text-green-200 focus:outline-none p-2",children:d?h.jsx(Oa,{size:28}):h.jsx(Hp,{size:28})})})]})}),d&&h.jsx("div",{className:"md:hidden bg-green-900 border-t border-green-700 absolute w-full left-0 animate-fade-in-up shadow-2xl",children:h.jsxs("div",{className:"px-4 pt-2 pb-6 space-y-1",children:[h.jsx("button",{onClick:()=>g("workers"),className:"block w-full text-left px-3 py-3 rounded-md text-base font-medium hover:bg-green-800",children:"Ky Rehberi"}),h.jsx("button",{onClick:()=>g("news"),className:"block w-full text-left px-3 py-3 rounded-md text-base font-medium hover:bg-green-800",children:"Haberler"}),h.jsx("button",{onClick:()=>g("events"),className:"block w-full text-left px-3 py-3 rounded-md text-base font-medium hover:bg-green-800",children:"Etkinlikler"}),h.jsx("button",{onClick:()=>g("gallery"),className:"block w-full text-left px-3 py-3 rounded-md text-base font-medium hover:bg-green-800",children:"Galeri"}),h.jsx("button",{onClick:()=>g("donations"),className:"block w-full text-left px-3 py-3 rounded-md text-base font-medium hover:bg-green-800",children:"Ba"}),h.jsx("button",{onClick:()=>g("about"),className:"block w-full text-left px-3 py-3 rounded-md text-base font-medium hover:bg-green-800",children:"Hakknda"}),h.jsx("div",{className:"border-t border-green-800 my-2 pt-2",children:i?h.jsxs("div",{className:"flex items-center justify-between px-3 py-2",children:[h.jsxs("div",{children:[h.jsx("p",{className:"text-sm font-semibold",children:i.role===ve.ADMIN||i.role==="admin"?"Hogeldin Ynetici":`${i.name} ${i.surname}`}),h.jsx("p",{className:"text-xs text-green-300",children:i.role===ve.ADMIN||i.role==="admin"?"Ynetici":i.role===ve.VILLAGER||i.role==="villager"?"Ky Sakini":"Misafir"})]}),h.jsxs("button",{onClick:()=>{n(),f(!1)},className:"bg-red-500 hover:bg-red-600 p-2 rounded-lg flex items-center gap-2 text-sm",children:[h.jsx(Dm,{size:16})," k"]})]}):h.jsxs("button",{onClick:()=>{s(),f(!1)},className:"w-full bg-white text-green-800 px-4 py-3 rounded-lg font-bold flex items-center justify-center gap-2 mt-2",children:[h.jsx(lc,{size:20}),h.jsx("span",{children:"Giri / Kayt"})]})})]})})]})},hv=({heroAd:i,heroAdLink:n})=>h.jsxs("div",{id:"hero",className:"relative h-[50vh] flex items-center justify-center text-white overflow-hidden bg-green-800",children:[h.jsxs("div",{className:"absolute inset-0 z-0",children:[h.jsx("img",{src:"https://picsum.photos/1920/1080?grayscale",alt:"Background",className:"w-full h-full object-cover opacity-20"}),h.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-green-900/90 via-green-700/80 to-stone-50"})]}),h.jsxs("div",{className:"relative z-10 text-center px-4 max-w-4xl mx-auto -mt-4",children:[h.jsx("h1",{className:"text-4xl md:text-5xl font-bold mb-4 drop-shadow-2xl animate-fade-in-up text-white",children:"Balclar'a Hogeldiniz"}),h.jsx("p",{className:"text-lg md:text-xl font-light mb-6 max-w-2xl mx-auto drop-shadow-lg text-green-50 animate-fade-in-up animate-delay-100",children:"Doann kalbinde, huzurun adresinde buluuyoruz. Kymzn dijital meydanna adm atn."}),h.jsx("div",{className:"mt-4 animate-fade-in-up animate-delay-200 px-4",children:i?h.jsxs("div",{className:"bg-white/10 backdrop-blur-sm p-2 rounded-xl inline-block border border-white/20 shadow-xl max-w-full",children:[n?h.jsx("a",{href:n,target:"_blank",rel:"noopener noreferrer",className:"block cursor-pointer",children:h.jsx("img",{src:i,alt:"Giri Reklam",className:"max-h-[120px] md:max-h-[160px] rounded-lg object-contain"})}):h.jsx("img",{src:i,alt:"Giri Reklam",className:"max-h-[120px] md:max-h-[160px] rounded-lg object-contain"}),h.jsx("span",{className:"block text-[10px] text-white/60 mt-1 uppercase tracking-widest",children:"Sponsorlu Balant"})]}):null})]}),h.jsx("div",{className:"absolute bottom-0 left-0 w-full overflow-hidden leading-none z-20",children:h.jsx("svg",{className:"relative block w-full h-[60px] text-stone-50",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1440 320",preserveAspectRatio:"none",children:h.jsx("path",{fill:"currentColor",fillOpacity:"1",d:"M0,160L48,176C96,192,192,224,288,229.3C384,235,480,213,576,181.3C672,149,768,107,864,101.3C960,96,1056,128,1152,154.7C1248,181,1344,203,1392,213.3L1440,224L1440,320L1392,320C1344,320,1248,320,1152,320C1056,320,960,320,864,320C768,320,672,320,576,320C480,320,384,320,288,320C192,320,96,320,48,320L0,320Z"})})})]}),jr=({isOpen:i,onClose:n,onConfirm:s,title:r="Silinsin mi?",description:c="Bu geyi silmek istediinizden emin misiniz? Bu ilem geri alnamaz."})=>i?h.jsxs("div",{className:"fixed inset-0 z-[100] flex items-center justify-center p-4",children:[h.jsx("div",{className:"absolute inset-0 bg-black/60 backdrop-blur-[2px] animate-fade-in",onClick:n}),h.jsxs("div",{className:"relative bg-white w-full max-w-[320px] rounded-[14px] overflow-hidden shadow-2xl animate-fade-in-up scale-100",children:[h.jsxs("div",{className:"p-6 text-center",children:[h.jsx("h3",{className:"text-[18px] font-semibold text-gray-900 mb-2",children:r}),h.jsx("p",{className:"text-[14px] text-gray-500 leading-tight",children:c})]}),h.jsxs("div",{className:"flex flex-col border-t border-gray-100",children:[h.jsx("button",{onClick:()=>{s(),console.log("ge baaryla silindi."),n()},className:"w-full py-3.5 text-[14px] font-bold text-red-500 hover:bg-gray-50 active:bg-gray-100 transition-colors border-b border-gray-100",children:"Sil"}),h.jsx("button",{onClick:n,className:"w-full py-3.5 text-[14px] font-normal text-gray-900 hover:bg-gray-50 active:bg-gray-100 transition-colors",children:"ptal"})]})]})]}):null;let fv={data:""},mv=i=>{if(typeof window=="object"){let n=(i?i.querySelector("#_goober"):window._goober)||Object.assign(document.createElement("style"),{innerHTML:" ",id:"_goober"});return n.nonce=window.__nonce__,n.parentNode||(i||document.head).appendChild(n),n.firstChild}return i||fv},gv=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,yv=/\/\*[^]*?\*\/|  +/g,Um=/\n+/g,ln=(i,n)=>{let s="",r="",c="";for(let d in i){let f=i[d];d[0]=="@"?d[1]=="i"?s=d+" "+f+";":r+=d[1]=="f"?ln(f,d):d+"{"+ln(f,d[1]=="k"?"":n)+"}":typeof f=="object"?r+=ln(f,n?n.replace(/([^,])+/g,g=>d.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,y=>/&/.test(y)?y.replace(/&/g,g):g?g+" "+y:y)):d):f!=null&&(d=/^--/.test(d)?d:d.replace(/[A-Z]/g,"-$&").toLowerCase(),c+=ln.p?ln.p(d,f):d+":"+f+";")}return s+(n&&c?n+"{"+c+"}":c)+r},Aa={},hg=i=>{if(typeof i=="object"){let n="";for(let s in i)n+=s+hg(i[s]);return n}return i},pv=(i,n,s,r,c)=>{let d=hg(i),f=Aa[d]||(Aa[d]=(y=>{let p=0,b=11;for(;p<y.length;)b=101*b+y.charCodeAt(p++)>>>0;return"go"+b})(d));if(!Aa[f]){let y=d!==i?i:(p=>{let b,x,j=[{}];for(;b=gv.exec(p.replace(yv,""));)b[4]?j.shift():b[3]?(x=b[3].replace(Um," ").trim(),j.unshift(j[0][x]=j[0][x]||{})):j[0][b[1]]=b[2].replace(Um," ").trim();return j[0]})(i);Aa[f]=ln(c?{["@keyframes "+f]:y}:y,s?"":"."+f)}let g=s&&Aa.g?Aa.g:null;return s&&(Aa.g=Aa[f]),((y,p,b,x)=>{x?p.data=p.data.replace(x,y):p.data.indexOf(y)===-1&&(p.data=b?y+p.data:p.data+y)})(Aa[f],n,r,g),f},vv=(i,n,s)=>i.reduce((r,c,d)=>{let f=n[d];if(f&&f.call){let g=f(s),y=g&&g.props&&g.props.className||/^go/.test(g)&&g;f=y?"."+y:g&&typeof g=="object"?g.props?"":ln(g,""):g===!1?"":g}return r+c+(f??"")},"");function Er(i){let n=this||{},s=i.call?i(n.p):i;return pv(s.unshift?s.raw?vv(s,[].slice.call(arguments,1),n.p):s.reduce((r,c)=>Object.assign(r,c&&c.call?c(n.p):c),{}):s,mv(n.target),n.g,n.o,n.k)}let fg,ic,sc;Er.bind({g:1});let ka=Er.bind({k:1});function bv(i,n,s,r){ln.p=n,fg=i,ic=s,sc=r}function rn(i,n){let s=this||{};return function(){let r=arguments;function c(d,f){let g=Object.assign({},d),y=g.className||c.className;s.p=Object.assign({theme:ic&&ic()},g),s.o=/ *go\d+/.test(y),g.className=Er.apply(s,r)+(y?" "+y:"");let p=i;return i[0]&&(p=g.as||i,delete g.as),sc&&p[0]&&sc(g),fg(p,g)}return c}}var xv=i=>typeof i=="function",br=(i,n)=>xv(i)?i(n):i,wv=(()=>{let i=0;return()=>(++i).toString()})(),mg=(()=>{let i;return()=>{if(i===void 0&&typeof window<"u"){let n=matchMedia("(prefers-reduced-motion: reduce)");i=!n||n.matches}return i}})(),_v=20,wc="default",gg=(i,n)=>{let{toastLimit:s}=i.settings;switch(n.type){case 0:return{...i,toasts:[n.toast,...i.toasts].slice(0,s)};case 1:return{...i,toasts:i.toasts.map(f=>f.id===n.toast.id?{...f,...n.toast}:f)};case 2:let{toast:r}=n;return gg(i,{type:i.toasts.find(f=>f.id===r.id)?1:0,toast:r});case 3:let{toastId:c}=n;return{...i,toasts:i.toasts.map(f=>f.id===c||c===void 0?{...f,dismissed:!0,visible:!1}:f)};case 4:return n.toastId===void 0?{...i,toasts:[]}:{...i,toasts:i.toasts.filter(f=>f.id!==n.toastId)};case 5:return{...i,pausedAt:n.time};case 6:let d=n.time-(i.pausedAt||0);return{...i,pausedAt:void 0,toasts:i.toasts.map(f=>({...f,pauseDuration:f.pauseDuration+d}))}}},pr=[],yg={toasts:[],pausedAt:void 0,settings:{toastLimit:_v}},oa={},pg=(i,n=wc)=>{oa[n]=gg(oa[n]||yg,i),pr.forEach(([s,r])=>{s===n&&r(oa[n])})},vg=i=>Object.keys(oa).forEach(n=>pg(i,n)),Sv=i=>Object.keys(oa).find(n=>oa[n].toasts.some(s=>s.id===i)),Nr=(i=wc)=>n=>{pg(n,i)},jv={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},Ev=(i={},n=wc)=>{let[s,r]=U.useState(oa[n]||yg),c=U.useRef(oa[n]);U.useEffect(()=>(c.current!==oa[n]&&r(oa[n]),pr.push([n,r]),()=>{let f=pr.findIndex(([g])=>g===n);f>-1&&pr.splice(f,1)}),[n]);let d=s.toasts.map(f=>{var g,y,p;return{...i,...i[f.type],...f,removeDelay:f.removeDelay||((g=i[f.type])==null?void 0:g.removeDelay)||(i==null?void 0:i.removeDelay),duration:f.duration||((y=i[f.type])==null?void 0:y.duration)||(i==null?void 0:i.duration)||jv[f.type],style:{...i.style,...(p=i[f.type])==null?void 0:p.style,...f.style}}});return{...s,toasts:d}},Nv=(i,n="blank",s)=>({createdAt:Date.now(),visible:!0,dismissed:!1,type:n,ariaProps:{role:"status","aria-live":"polite"},message:i,pauseDuration:0,...s,id:(s==null?void 0:s.id)||wv()}),Ki=i=>(n,s)=>{let r=Nv(n,i,s);return Nr(r.toasterId||Sv(r.id))({type:2,toast:r}),r.id},ee=(i,n)=>Ki("blank")(i,n);ee.error=Ki("error");ee.success=Ki("success");ee.loading=Ki("loading");ee.custom=Ki("custom");ee.dismiss=(i,n)=>{let s={type:3,toastId:i};n?Nr(n)(s):vg(s)};ee.dismissAll=i=>ee.dismiss(void 0,i);ee.remove=(i,n)=>{let s={type:4,toastId:i};n?Nr(n)(s):vg(s)};ee.removeAll=i=>ee.remove(void 0,i);ee.promise=(i,n,s)=>{let r=ee.loading(n.loading,{...s,...s==null?void 0:s.loading});return typeof i=="function"&&(i=i()),i.then(c=>{let d=n.success?br(n.success,c):void 0;return d?ee.success(d,{id:r,...s,...s==null?void 0:s.success}):ee.dismiss(r),c}).catch(c=>{let d=n.error?br(n.error,c):void 0;d?ee.error(d,{id:r,...s,...s==null?void 0:s.error}):ee.dismiss(r)}),i};var Av=1e3,Tv=(i,n="default")=>{let{toasts:s,pausedAt:r}=Ev(i,n),c=U.useRef(new Map).current,d=U.useCallback((x,j=Av)=>{if(c.has(x))return;let _=setTimeout(()=>{c.delete(x),f({type:4,toastId:x})},j);c.set(x,_)},[]);U.useEffect(()=>{if(r)return;let x=Date.now(),j=s.map(_=>{if(_.duration===1/0)return;let k=(_.duration||0)+_.pauseDuration-(x-_.createdAt);if(k<0){_.visible&&ee.dismiss(_.id);return}return setTimeout(()=>ee.dismiss(_.id,n),k)});return()=>{j.forEach(_=>_&&clearTimeout(_))}},[s,r,n]);let f=U.useCallback(Nr(n),[n]),g=U.useCallback(()=>{f({type:5,time:Date.now()})},[f]),y=U.useCallback((x,j)=>{f({type:1,toast:{id:x,height:j}})},[f]),p=U.useCallback(()=>{r&&f({type:6,time:Date.now()})},[r,f]),b=U.useCallback((x,j)=>{let{reverseOrder:_=!1,gutter:k=8,defaultPosition:D}=j||{},H=s.filter(M=>(M.position||D)===(x.position||D)&&M.height),B=H.findIndex(M=>M.id===x.id),V=H.filter((M,X)=>X<B&&M.visible).length;return H.filter(M=>M.visible).slice(..._?[V+1]:[0,V]).reduce((M,X)=>M+(X.height||0)+k,0)},[s]);return U.useEffect(()=>{s.forEach(x=>{if(x.dismissed)d(x.id,x.removeDelay);else{let j=c.get(x.id);j&&(clearTimeout(j),c.delete(x.id))}})},[s,d]),{toasts:s,handlers:{updateHeight:y,startPause:g,endPause:p,calculateOffset:b}}},kv=ka`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,Ov=ka`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,Rv=ka`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,Cv=rn("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${i=>i.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${kv} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${Ov} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${i=>i.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${Rv} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,Dv=ka`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,zv=rn("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${i=>i.secondary||"#e0e0e0"};
  border-right-color: ${i=>i.primary||"#616161"};
  animation: ${Dv} 1s linear infinite;
`,Uv=ka`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,Mv=ka`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,Lv=rn("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${i=>i.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${Uv} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${Mv} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${i=>i.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,Bv=rn("div")`
  position: absolute;
`,qv=rn("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,Hv=ka`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,Gv=rn("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${Hv} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,$v=({toast:i})=>{let{icon:n,type:s,iconTheme:r}=i;return n!==void 0?typeof n=="string"?U.createElement(Gv,null,n):n:s==="blank"?null:U.createElement(qv,null,U.createElement(zv,{...r}),s!=="loading"&&U.createElement(Bv,null,s==="error"?U.createElement(Cv,{...r}):U.createElement(Lv,{...r})))},Kv=i=>`
0% {transform: translate3d(0,${i*-200}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`,Vv=i=>`
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${i*-150}%,-1px) scale(.6); opacity:0;}
`,Yv="0%{opacity:0;} 100%{opacity:1;}",Iv="0%{opacity:1;} 100%{opacity:0;}",Qv=rn("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,Xv=rn("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,Jv=(i,n)=>{let s=i.includes("top")?1:-1,[r,c]=mg()?[Yv,Iv]:[Kv(s),Vv(s)];return{animation:n?`${ka(r)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${ka(c)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}},Zv=U.memo(({toast:i,position:n,style:s,children:r})=>{let c=i.height?Jv(i.position||n||"top-center",i.visible):{opacity:0},d=U.createElement($v,{toast:i}),f=U.createElement(Xv,{...i.ariaProps},br(i.message,i));return U.createElement(Qv,{className:i.className,style:{...c,...s,...i.style}},typeof r=="function"?r({icon:d,message:f}):U.createElement(U.Fragment,null,d,f))});bv(U.createElement);var Pv=({id:i,className:n,style:s,onHeightUpdate:r,children:c})=>{let d=U.useCallback(f=>{if(f){let g=()=>{let y=f.getBoundingClientRect().height;r(i,y)};g(),new MutationObserver(g).observe(f,{subtree:!0,childList:!0,characterData:!0})}},[i,r]);return U.createElement("div",{ref:d,className:n,style:s},c)},Wv=(i,n)=>{let s=i.includes("top"),r=s?{top:0}:{bottom:0},c=i.includes("center")?{justifyContent:"center"}:i.includes("right")?{justifyContent:"flex-end"}:{};return{left:0,right:0,display:"flex",position:"absolute",transition:mg()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:`translateY(${n*(s?1:-1)}px)`,...r,...c}},Fv=Er`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`,ur=16,eb=({reverseOrder:i,position:n="top-center",toastOptions:s,gutter:r,children:c,toasterId:d,containerStyle:f,containerClassName:g})=>{let{toasts:y,handlers:p}=Tv(s,d);return U.createElement("div",{"data-rht-toaster":d||"",style:{position:"fixed",zIndex:9999,top:ur,left:ur,right:ur,bottom:ur,pointerEvents:"none",...f},className:g,onMouseEnter:p.startPause,onMouseLeave:p.endPause},y.map(b=>{let x=b.position||n,j=p.calculateOffset(b,{reverseOrder:i,gutter:r,defaultPosition:n}),_=Wv(x,j);return U.createElement(Pv,{id:b.id,key:b.id,onHeightUpdate:p.updateHeight,className:b.visible?Fv:"",style:_},b.type==="custom"?br(b.message,b):c?c(b):U.createElement(Zv,{toast:b,position:x}))}))};const tb=({isOpen:i,onClose:n,onSave:s,villager:r})=>{const[c,d]=U.useState(""),[f,g]=U.useState(""),[y,p]=U.useState(""),[b,x]=U.useState(""),[j,_]=U.useState(""),[k,D]=U.useState("");if(U.useEffect(()=>{r&&(d(r.name),g(r.surname),p(r.nickname||""),x(r.profession),_(r.address||""),D(r.contact||""))},[r]),!i||!r)return null;const H=B=>{if(B.preventDefault(),!c.trim()||!f.trim()||!b.trim()){ee.error("sim, Soyisim ve Meslek alanlar zorunludur.");return}const V={...r,name:c,surname:f,nickname:y||void 0,profession:b,address:j,contact:k};s(V),n(),ee.success("Kii bilgileri gncellendi.")};return h.jsxs("div",{className:"fixed inset-0 z-[70] flex items-center justify-center p-4",children:[h.jsx("div",{className:"absolute inset-0 bg-black/50 backdrop-blur-sm",onClick:n}),h.jsxs("div",{className:"relative bg-white rounded-2xl shadow-2xl w-full max-w-lg overflow-hidden animate-fade-in-up",children:[h.jsxs("div",{className:"bg-green-600 px-6 py-4 flex justify-between items-center text-white",children:[h.jsx("h3",{className:"text-xl font-bold",children:"Kii Dzenle"}),h.jsx("button",{onClick:n,className:"hover:bg-green-700 p-1 rounded-full transition-colors",children:h.jsx(Oa,{size:24})})]}),h.jsxs("form",{onSubmit:H,className:"p-6 space-y-4",children:[h.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[h.jsxs("div",{children:[h.jsx("label",{className:"block text-xs font-bold text-gray-500 uppercase mb-1",children:"sim"}),h.jsx("input",{type:"text",value:c,onChange:B=>d(B.target.value),className:"w-full border-b-2 border-gray-200 focus:border-green-500 outline-none py-2 bg-transparent text-black transition-colors"})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-xs font-bold text-gray-500 uppercase mb-1",children:"Soyisim"}),h.jsx("input",{type:"text",value:f,onChange:B=>g(B.target.value),className:"w-full border-b-2 border-gray-200 focus:border-green-500 outline-none py-2 bg-transparent text-black transition-colors"})]})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-xs font-bold text-gray-500 uppercase mb-1",children:"Lakap"}),h.jsx("input",{type:"text",value:y,onChange:B=>p(B.target.value),placeholder:"Varsa...",className:"w-full border-b-2 border-gray-200 focus:border-green-500 outline-none py-2 bg-transparent text-black transition-colors"})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-xs font-bold text-gray-500 uppercase mb-1",children:"Meslek"}),h.jsx("input",{type:"text",value:b,onChange:B=>x(B.target.value),className:"w-full border-b-2 border-gray-200 focus:border-green-500 outline-none py-2 bg-transparent text-black transition-colors"})]}),h.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:h.jsxs("div",{children:[h.jsx("label",{className:"block text-xs font-bold text-gray-500 uppercase mb-1",children:"letiim"}),h.jsx("input",{type:"tel",value:k,onChange:B=>D(B.target.value),className:"w-full border-b-2 border-gray-200 focus:border-green-500 outline-none py-2 bg-transparent text-black transition-colors"})]})}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-xs font-bold text-gray-500 uppercase mb-1",children:"Adres"}),h.jsx("textarea",{value:j,onChange:B=>_(B.target.value),rows:3,className:"w-full border rounded-lg border-gray-200 focus:border-green-500 outline-none p-3 bg-transparent text-black transition-colors resize-none"})]}),h.jsxs("button",{type:"submit",className:"w-full bg-green-600 hover:bg-green-700 text-white font-bold py-3 rounded-lg transition-colors shadow-md flex items-center justify-center gap-2 mt-4",children:[h.jsx(xc,{size:20}),"Kaydet"]})]})]})]})},ab=({villagers:i,onRateVillager:n,topAd:s,topAdLink:r,currentUser:c,onDeleteVillager:d,onUpdateVillager:f})=>{const[g,y]=U.useState(""),[p,b]=U.useState(!1),[x,j]=U.useState(null),[_,k]=U.useState(!1),[D,H]=U.useState(null),B=U.useMemo(()=>{let P=i;if(g){const Z=g.toLocaleLowerCase("tr-TR");P=i.filter(I=>I.profession.toLocaleLowerCase("tr-TR").includes(Z)||I.name.toLocaleLowerCase("tr-TR").includes(Z)||I.surname.toLocaleLowerCase("tr-TR").includes(Z))}return P.sort((Z,I)=>I.rating-Z.rating)},[g,i]),V=P=>{j(P),b(!0)},M=P=>{H(P),k(!0)},X=()=>{x&&(d(x),j(null))};return h.jsxs("section",{id:"workers",className:"py-16 px-4 max-w-7xl mx-auto",children:[h.jsxs("div",{className:"text-center mb-12",children:[h.jsx("h2",{className:"text-3xl font-bold text-green-900 mb-4",children:"Ky Rehberi &  lanlar"}),h.jsxs("p",{className:"text-stone-600 max-w-xl mx-auto",children:["Kymzde yaplacak bir iiniz mi var? Aradnz ustay veya yardmcy buradan kolayca bulabilirsiniz.",h.jsx("br",{}),h.jsx("span",{className:"text-xs text-green-600 font-medium",children:"Not: En yksek puanl yeler en stte listelenir."})]})]}),h.jsx("div",{className:"max-w-2xl mx-auto mb-12",children:h.jsxs("div",{className:"relative group",children:[h.jsx("div",{className:"absolute inset-y-0 left-0 pl-4 flex items-center pointer-events-none",children:h.jsx(Wp,{className:"text-gray-400 group-focus-within:text-green-600 transition-colors"})}),h.jsx("input",{type:"text",className:"w-full pl-12 pr-4 py-4 rounded-xl border-2 border-gray-100 bg-white shadow-sm focus:border-green-500 focus:ring-4 focus:ring-green-100 transition-all outline-none text-lg text-black",placeholder:"Ne aramtnz? (rn: Tesisat, Elektriki...)",value:g,onChange:P=>y(P.target.value)})]})}),g&&h.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 animate-fade-in-up",children:B.length>0?B.map(P=>h.jsxs("div",{className:"relative bg-white rounded-xl p-6 shadow-md hover:shadow-xl transition-shadow border-t-4 border-green-500 flex flex-col h-full group",children:[(c==null?void 0:c.role)===ve.ADMIN&&h.jsxs("div",{className:"absolute top-4 right-4 z-[5] flex gap-2",children:[h.jsx("button",{onClick:()=>M(P),className:"bg-blue-600 hover:bg-blue-700 text-white p-2 rounded-full shadow-lg border-2 border-white transition-transform hover:scale-110 cursor-pointer pointer-events-auto",title:"Kiiyi Dzenle",children:h.jsx(vc,{size:18})}),h.jsx("button",{onClick:()=>V(P.id),className:"bg-red-600 hover:bg-red-700 text-white p-2 rounded-full shadow-lg border-2 border-white transition-transform hover:scale-110 cursor-pointer pointer-events-auto",title:"Kiiyi Sil",children:h.jsx($i,{size:18})})]}),h.jsxs("div",{className:"flex justify-between items-start mb-2",children:[h.jsxs("div",{children:[h.jsxs("h3",{className:"text-xl font-bold text-gray-900",children:[P.name," ",P.surname]}),P.nickname&&h.jsxs("p",{className:"text-sm text-gray-500 italic",children:['"',P.nickname,'"']})]}),h.jsx(vp,{className:"text-green-500"})]}),h.jsxs("div",{className:"flex items-center mb-4",children:[[1,2,3,4,5].map(Z=>h.jsx("button",{onClick:()=>n(P.id,Z),className:"focus:outline-none transition-transform hover:scale-110",children:h.jsx(lv,{size:18,className:`${Z<=P.rating?"fill-yellow-400 text-yellow-400":"text-gray-300"}`})},Z)),h.jsxs("span",{className:"ml-2 text-xs text-gray-500",children:["(",P.rating,"/5)"]})]}),h.jsxs("div",{className:"space-y-4 mt-auto",children:[h.jsx("div",{className:"inline-block bg-green-100 text-green-800 px-3 py-1 rounded-full text-sm font-semibold",children:P.profession}),h.jsxs("div",{className:"flex items-start gap-3",children:[h.jsx(zp,{size:20,className:"shrink-0 text-green-600 mt-1"}),h.jsxs("div",{className:"flex-grow",children:[h.jsx("span",{className:"text-gray-600 text-sm block mb-2",children:P.address}),h.jsxs("a",{href:`https://www.google.com/maps/search/?api=1&query=${encodeURIComponent(P.address+" Balclar Ky")}`,target:"_blank",rel:"noreferrer",className:"inline-flex items-center gap-1 text-xs bg-blue-50 text-blue-600 px-2 py-1 rounded hover:bg-blue-100 transition-colors",children:[h.jsx(Vp,{size:12})," Yol Tarifi"]})]})]}),h.jsx("div",{className:"w-full h-32 rounded-lg overflow-hidden border border-gray-200 mt-2 shadow-inner",children:h.jsx("iframe",{width:"100%",height:"100%",frameBorder:"0",scrolling:"no",marginHeight:0,marginWidth:0,src:`https://maps.google.com/maps?q=${encodeURIComponent(P.address+" Balclar Ky Konya")}&t=&z=14&ie=UTF8&iwloc=&output=embed`,title:`Harita: ${P.name}`})}),h.jsxs("div",{className:"flex items-center justify-between gap-3 pt-2 border-t border-gray-100",children:[h.jsxs("div",{className:"flex items-center gap-2 text-gray-600",children:[h.jsx(zm,{size:18,className:"text-green-600"}),h.jsx("span",{className:"font-mono text-sm",children:P.contact})]}),h.jsxs("a",{href:`tel:${P.contact}`,className:"bg-green-600 hover:bg-green-700 text-white px-4 py-1.5 rounded-lg text-sm font-medium transition-colors flex items-center gap-2",children:[h.jsx(zm,{size:14})," Ara"]})]})]})]},P.id)):h.jsx("div",{className:"col-span-full text-center py-10 text-gray-500",children:h.jsx("p",{children:"Aradnz kriterlere uygun ky sakini bulunamad."})})}),!g&&h.jsx("div",{className:"w-full h-80 bg-stone-200 rounded-2xl border-4 border-dashed border-stone-300 flex items-center justify-center animate-fade-in-up overflow-hidden group",children:s?r?h.jsx("a",{href:r,target:"_blank",rel:"noopener noreferrer",className:"w-full h-full block",children:h.jsx("img",{src:s,className:"w-full h-full object-cover group-hover:scale-105 transition-transform duration-700",alt:"st Reklam"})}):h.jsx("img",{src:s,className:"w-full h-full object-cover group-hover:scale-105 transition-transform duration-700",alt:"st Reklam"}):h.jsxs("div",{className:"text-center",children:[h.jsx("h3",{className:"text-3xl font-extrabold text-stone-400 mb-2 tracking-widest uppercase",children:"REKLAM ALANI 1"}),h.jsx("p",{className:"text-stone-500 font-medium italic",children:"Kymzn en deerli alannda yerinizi aln."})]})}),h.jsx(jr,{isOpen:p,onClose:()=>b(!1),onConfirm:X,title:"Ky Sakinini Sil",description:"Bu kiiyi ky rehberinden silmek istediinize emin misiniz? Bu ilem geri alnamaz."}),h.jsx(tb,{isOpen:_,onClose:()=>k(!1),onSave:f,villager:D})]})},nb=({isOpen:i,onClose:n,onSave:s,newsItem:r})=>{const[c,d]=U.useState(""),[f,g]=U.useState(""),[y,p]=U.useState("");if(U.useEffect(()=>{r&&(d(r.title),g(r.content),p(r.date))},[r]),!i||!r)return null;const b=x=>{if(x.preventDefault(),!c.trim()||!f.trim()){ee.error("Balk ve ierik alanlar zorunludur.");return}s(r.id,c,f,y),n()};return h.jsxs("div",{className:"fixed inset-0 z-[70] flex items-center justify-center p-4",children:[h.jsx("div",{className:"absolute inset-0 bg-black/50 backdrop-blur-sm",onClick:n}),h.jsxs("div",{className:"relative bg-white rounded-2xl shadow-2xl w-full max-w-lg overflow-hidden animate-fade-in-up",children:[h.jsxs("div",{className:"bg-green-600 px-6 py-4 flex justify-between items-center text-white",children:[h.jsx("h3",{className:"text-xl font-bold",children:"Haberi Dzenle"}),h.jsx("button",{onClick:n,className:"hover:bg-green-700 p-1 rounded-full transition-colors",children:h.jsx(Oa,{size:24})})]}),h.jsxs("form",{onSubmit:b,className:"p-6 space-y-4",children:[h.jsxs("div",{children:[h.jsx("label",{className:"block text-xs font-bold text-gray-500 uppercase mb-1",children:"Balk"}),h.jsx("input",{type:"text",value:c,onChange:x=>d(x.target.value),className:"w-full border-b-2 border-gray-200 focus:border-green-500 outline-none py-2 bg-transparent text-black transition-colors"})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-xs font-bold text-gray-500 uppercase mb-1",children:"Tarih"}),h.jsxs("div",{className:"relative",children:[h.jsx("input",{type:"text",value:y,onChange:x=>p(x.target.value),placeholder:"GG.AA.YYYY",className:"w-full border-b-2 border-gray-200 focus:border-green-500 outline-none py-2 bg-transparent text-black transition-colors pl-8"}),h.jsx(Ol,{size:16,className:"absolute left-0 top-3 text-gray-400"})]}),h.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"Format: GG.AA.YYYY (rn: 24.05.2024)"})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-xs font-bold text-gray-500 uppercase mb-1",children:"erik"}),h.jsx("textarea",{value:f,onChange:x=>g(x.target.value),rows:6,className:"w-full border rounded-lg border-gray-200 focus:border-green-500 outline-none p-3 bg-transparent text-black transition-colors resize-none"})]}),h.jsx("div",{className:"bg-blue-50 p-3 rounded-lg border border-blue-100",children:h.jsx("p",{className:"text-xs text-blue-800",children:"Not: Grsel dzenleme bu alandan yaplamaz. Grseli deitirmek iin haberi silip yeniden eklemeniz gerekmektedir."})}),h.jsxs("button",{type:"submit",className:"w-full bg-green-600 hover:bg-green-700 text-white font-bold py-3 rounded-lg transition-colors shadow-md flex items-center justify-center gap-2 mt-4",children:[h.jsx(xc,{size:20}),"Deiiklikleri Kaydet"]})]})]})]})},Mm=({news:i,currentUser:n,onAddNews:s,onDeleteNews:r,onUpdateNews:c,limit:d,onShowAll:f})=>{const g=(n==null?void 0:n.role)===ve.ADMIN,[y,p]=U.useState(!1),[b,x]=U.useState(""),[j,_]=U.useState(""),[k,D]=U.useState(null),[H,B]=U.useState(null),[V,M]=U.useState("URL"),[X,P]=U.useState(""),[Z,I]=U.useState(null),[ge,Ne]=U.useState(1),Je=6,Xe=d?i.slice(0,d):i.slice((ge-1)*Je,ge*Je),ze=Math.ceil(i.length/Je),J=L=>{var se;const W=(se=L.target.files)==null?void 0:se[0];if(W){const je=new FileReader;je.onloadend=()=>{P(je.result)},je.readAsDataURL(W)}},be=L=>{L.preventDefault(),b&&j&&(s(b,j,X),x(""),_(""),P(""),p(!1))},Ue=(L,W)=>{L.preventDefault(),L.stopPropagation(),D(W)},R=(L,W)=>{L.preventDefault(),L.stopPropagation(),B(W)};return h.jsxs("section",{id:"news",className:"bg-stone-100 py-16 px-4",children:[h.jsxs("div",{className:"max-w-7xl mx-auto",children:[h.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-center mb-10",children:[h.jsxs("div",{children:[h.jsxs("h2",{className:"text-3xl font-bold text-green-900 mb-2 flex items-center gap-2",children:[h.jsx(Bp,{className:"text-green-600"}),"Kyden Haberler"]}),h.jsx("p",{className:"text-stone-600",children:"Kymzdeki son gelimeler ve duyurular."})]}),g&&h.jsxs("button",{onClick:()=>p(!y),className:"mt-4 md:mt-0 bg-green-700 hover:bg-green-800 text-white px-5 py-2.5 rounded-lg flex items-center gap-2 transition-all shadow-md",children:[h.jsx(bc,{size:20}),y?"Paneli Kapat":"Haber Ekle"]})]}),g&&y&&h.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-lg mb-10 animate-fade-in-up border border-green-200",children:[h.jsx("h3",{className:"text-lg font-bold mb-4 text-green-800",children:"Yeni Duyuru Yaynla"}),h.jsxs("form",{onSubmit:be,className:"space-y-4",children:[h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Balk"}),h.jsx("input",{type:"text",value:b,onChange:L=>x(L.target.value),className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent bg-white text-black",placeholder:"Duyuru bal...",required:!0})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Fotoraf (Opsiyonel)"}),h.jsxs("div",{className:"flex gap-4 mb-2",children:[h.jsxs("button",{type:"button",onClick:()=>M("URL"),className:`flex items-center gap-2 px-3 py-1.5 rounded text-xs font-medium transition-colors ${V==="URL"?"bg-green-600 text-white":"bg-gray-100 text-gray-700"}`,children:[h.jsx(zi,{size:14})," Link"]}),h.jsxs("button",{type:"button",onClick:()=>M("FILE"),className:`flex items-center gap-2 px-3 py-1.5 rounded text-xs font-medium transition-colors ${V==="FILE"?"bg-green-600 text-white":"bg-gray-100 text-gray-700"}`,children:[h.jsx(Sr,{size:14})," Cihazdan"]})]}),V==="URL"?h.jsx("input",{type:"url",value:X,onChange:L=>P(L.target.value),className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent bg-white text-black",placeholder:"https://..."}):h.jsxs("div",{className:"relative",children:[h.jsx("input",{type:"file",accept:"image/*",onChange:J,className:"w-full p-2 border border-gray-300 rounded-lg bg-white text-black file:mr-4 file:py-2 file:px-4 file:rounded-full file:border-0 file:text-sm file:font-semibold file:bg-green-50 file:text-green-700 hover:file:bg-green-100"}),X&&h.jsx("p",{className:"text-xs text-green-600 mt-1",children:"Grsel seildi."})]}),h.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"* Eklenen fotoraf otomatik olarak galeriye de decektir."})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"erik"}),h.jsx("textarea",{value:j,onChange:L=>_(L.target.value),rows:4,className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent bg-white text-black",placeholder:"Duyuru detaylar...",required:!0})]}),h.jsx("div",{className:"flex justify-end",children:h.jsx("button",{type:"submit",className:"bg-green-600 hover:bg-green-700 text-white px-6 py-2 rounded-lg font-medium transition-colors",children:"Yaynla"})})]})]}),h.jsx("div",{className:"grid gap-6 md:grid-cols-2",children:Xe.length>0?Xe.map(L=>h.jsxs("div",{className:"bg-white rounded-xl shadow-sm hover:shadow-lg transition-all border-l-4 border-green-600 flex flex-col h-full relative group",children:[h.jsxs("div",{onClick:()=>I(L),className:"flex flex-col h-full w-full cursor-pointer",children:[L.imageUrl&&h.jsx("div",{className:"h-48 w-full overflow-hidden bg-gray-100 relative rounded-tr-xl",children:h.jsx("img",{src:L.imageUrl,alt:L.title,className:"w-full h-full object-cover group-hover:scale-105 transition-transform duration-500"})}),h.jsxs("div",{className:"p-6 flex flex-col flex-grow",children:[h.jsxs("div",{className:"mb-4",children:[h.jsx("h3",{className:"text-xl font-bold text-gray-800 mb-2 group-hover:text-green-700 transition-colors",children:L.title}),h.jsxs("div",{className:"flex items-center text-xs text-gray-400 gap-4",children:[h.jsxs("span",{className:"flex items-center gap-1",children:[h.jsx(Ol,{size:14})," ",L.date]}),h.jsxs("span",{className:"flex items-center gap-1",children:[h.jsx(vr,{size:14})," ",L.author]})]})]}),h.jsx("p",{className:"text-gray-600 leading-relaxed line-clamp-3 mb-4",children:L.content}),h.jsx("div",{className:"mt-auto text-green-600 text-sm font-medium",children:"Detaylar Grntle "})]})]}),g&&h.jsxs("div",{className:"absolute top-4 right-4 z-[5] flex gap-2",children:[h.jsx("button",{onClick:W=>R(W,L),className:"bg-blue-600 hover:bg-blue-700 text-white p-2 rounded-full shadow-lg border-2 border-white transition-transform hover:scale-110 cursor-pointer pointer-events-auto",title:"Haberi Dzenle",children:h.jsx(vc,{size:18})}),h.jsx("button",{type:"button",onClick:W=>Ue(W,L.id),className:"bg-red-600 hover:bg-red-700 text-white p-2 rounded-full shadow-lg border-2 border-white transition-transform hover:scale-110 cursor-pointer pointer-events-auto",title:"Haberi Sil",children:h.jsx($i,{size:18})})]})]},L.id)):h.jsx("div",{className:"col-span-full text-center py-10 bg-white rounded-lg shadow-sm",children:h.jsx("p",{className:"text-gray-500",children:"Henz yaynlanm bir haber bulunmuyor."})})}),!d&&ze>1&&h.jsx("div",{className:"flex justify-center mt-12 gap-2",children:Array.from({length:ze},(L,W)=>W+1).map(L=>h.jsx("button",{onClick:()=>Ne(L),className:`w-10 h-10 rounded-full flex items-center justify-center font-bold transition-all ${ge===L?"bg-green-700 text-white shadow-lg scale-110":"bg-white text-gray-600 hover:bg-green-50 border border-gray-200"}`,children:L},L))}),d&&i.length>d&&f&&h.jsx("div",{className:"flex justify-center mt-10",children:h.jsxs("button",{onClick:f,className:"bg-green-100 hover:bg-green-200 text-green-800 px-8 py-3 rounded-full font-bold transition-colors shadow-sm flex items-center gap-2",children:["Tm Haberleri Gr (",i.length,")"]})})]}),h.jsx(jr,{isOpen:k!==null,onClose:()=>D(null),onConfirm:()=>{k&&r(k)},title:"Haber silinsin mi?",description:"Bu haberi sildiinizde bu ilem geri alnamaz ve haber listeden kaldrlr."}),h.jsx(nb,{isOpen:H!==null,onClose:()=>B(null),onSave:c,newsItem:H}),Z&&h.jsxs("div",{className:"fixed inset-0 z-[70] flex items-center justify-center p-4",children:[h.jsx("div",{className:"absolute inset-0 bg-black/70 backdrop-blur-sm",onClick:()=>I(null)}),h.jsxs("div",{className:"relative bg-white rounded-2xl shadow-2xl w-full max-w-2xl max-h-[90vh] overflow-y-auto animate-fade-in-up",children:[h.jsx("button",{onClick:()=>I(null),className:"absolute top-4 right-4 z-10 bg-black/50 hover:bg-black/70 text-white p-2 rounded-full transition-colors",children:h.jsx(Oa,{size:24})}),Z.imageUrl&&h.jsx("div",{className:"w-full h-64 sm:h-80",children:h.jsx("img",{src:Z.imageUrl,alt:Z.title,className:"w-full h-full object-cover"})}),h.jsxs("div",{className:"p-8",children:[h.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-3",children:Z.title}),h.jsxs("div",{className:"flex items-center text-sm text-gray-500 gap-4 mb-6 pb-6 border-b border-gray-100",children:[h.jsxs("span",{className:"flex items-center gap-1",children:[h.jsx(Ol,{size:16})," ",Z.date]}),h.jsxs("span",{className:"flex items-center gap-1",children:[h.jsx(vr,{size:16})," ",Z.author]})]}),h.jsx("div",{className:"prose prose-stone max-w-none text-gray-700 leading-relaxed whitespace-pre-line",children:Z.content})]})]})]})]})},Lm=({items:i,currentUser:n,onAddItem:s,onDeleteItem:r,limit:c,onShowAll:d})=>{const f=(n==null?void 0:n.role)===ve.ADMIN,[g,y]=U.useState(!1),[p,b]=U.useState("URL"),[x,j]=U.useState("image"),[_,k]=U.useState(""),[D,H]=U.useState(""),[B,V]=U.useState(null),[M,X]=U.useState(1),P=8,Z=c?i.slice(0,c):i.slice((M-1)*P,M*P),I=Math.ceil(i.length/P),[ge,Ne]=U.useState(null),Je=J=>{var Ue;const be=(Ue=J.target.files)==null?void 0:Ue[0];if(be){be.type.startsWith("video")?j("video"):j("image");const R=new FileReader;R.onloadend=()=>{k(R.result)},R.readAsDataURL(be)}},Xe=J=>{J.preventDefault(),_&&(s(x,_,D),k(""),H(""),y(!1))},ze=(J,be)=>{J.preventDefault(),J.stopPropagation(),Ne(be)};return h.jsx("section",{id:"gallery",className:"py-16 px-4 bg-white",children:h.jsxs("div",{className:"max-w-7xl mx-auto",children:[h.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-center mb-10",children:[h.jsxs("div",{children:[h.jsxs("h2",{className:"text-3xl font-bold text-green-900 mb-2 flex items-center gap-2",children:[h.jsx(nc,{className:"text-green-600"}),"Fotoraf ve Video Galerisi"]}),h.jsx("p",{className:"text-stone-600",children:"Kymzden manzaralar ve anlar."})]}),f&&h.jsxs("button",{onClick:()=>y(!g),className:"mt-4 md:mt-0 bg-green-700 hover:bg-green-800 text-white px-5 py-2.5 rounded-lg flex items-center gap-2 transition-all shadow-md",children:[h.jsx(bc,{size:20}),g?"Paneli Kapat":"Medya Ekle"]})]}),f&&g&&h.jsxs("div",{className:"bg-stone-50 p-6 rounded-xl shadow-inner mb-10 animate-fade-in-up border border-stone-200",children:[h.jsx("h3",{className:"text-lg font-bold mb-4 text-green-800",children:"Galeriye Ekle"}),h.jsxs("form",{onSubmit:Xe,className:"space-y-4",children:[h.jsxs("div",{className:"flex gap-4 mb-4",children:[h.jsxs("button",{type:"button",onClick:()=>b("URL"),className:`flex items-center gap-2 px-4 py-2 rounded-lg text-sm font-medium transition-colors ${p==="URL"?"bg-green-600 text-white":"bg-gray-200 text-gray-700"}`,children:[h.jsx(zi,{size:16})," Link ile Ekle"]}),h.jsxs("button",{type:"button",onClick:()=>b("FILE"),className:`flex items-center gap-2 px-4 py-2 rounded-lg text-sm font-medium transition-colors ${p==="FILE"?"bg-green-600 text-white":"bg-gray-200 text-gray-700"}`,children:[h.jsx(Sr,{size:16})," Cihazdan Ykle"]})]}),h.jsxs("div",{className:"grid md:grid-cols-3 gap-4",children:[h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Tr"}),h.jsxs("select",{value:x,onChange:J=>j(J.target.value),className:"w-full p-3 border border-gray-300 rounded-lg bg-white text-black focus:ring-2 focus:ring-green-500",disabled:p==="FILE",children:[h.jsx("option",{value:"image",children:"Fotoraf"}),h.jsx("option",{value:"video",children:"Video"})]})]}),h.jsxs("div",{className:"md:col-span-2",children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:p==="URL"?"Medya URL":"Dosya Se"}),p==="URL"?h.jsx("input",{type:"url",value:_,onChange:J=>k(J.target.value),className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 bg-white text-black",placeholder:"https://...",required:!0}):h.jsxs("div",{className:"relative",children:[h.jsx("input",{type:"file",accept:"image/*,video/*",onChange:Je,className:"w-full p-2 border border-gray-300 rounded-lg bg-white text-black file:mr-4 file:py-2 file:px-4 file:rounded-full file:border-0 file:text-sm file:font-semibold file:bg-green-50 file:text-green-700 hover:file:bg-green-100",required:!0}),_&&h.jsx("p",{className:"text-xs text-green-600 mt-1",children:"Dosya seildi."})]})]})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Aklama (Opsiyonel)"}),h.jsx("input",{type:"text",value:D,onChange:J=>H(J.target.value),className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 bg-white text-black",placeholder:"Ky meydan..."})]}),h.jsx("div",{className:"flex justify-end",children:h.jsx("button",{type:"submit",className:"bg-green-600 hover:bg-green-700 text-white px-6 py-2 rounded-lg font-medium transition-colors",children:"Ekle"})})]})]}),h.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4",children:Z.map(J=>h.jsxs("div",{className:"group relative aspect-square rounded-xl overflow-hidden shadow-md hover:shadow-xl transition-all",children:[h.jsxs("div",{className:"w-full h-full cursor-pointer",onClick:()=>V(J),children:[J.type==="image"?h.jsx("img",{src:J.url,alt:J.caption,className:"w-full h-full object-cover group-hover:scale-110 transition-transform duration-700"}):h.jsxs("div",{className:"w-full h-full bg-black flex items-center justify-center relative group-hover:scale-110 transition-transform duration-700",children:[h.jsx("video",{src:J.url,className:"w-full h-full object-cover opacity-80"}),h.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:h.jsx("div",{className:"bg-white/20 backdrop-blur-sm p-3 rounded-full",children:h.jsx(uv,{className:"text-white w-8 h-8"})})})]}),h.jsxs("div",{className:"absolute inset-0 bg-gradient-to-t from-black/70 via-transparent to-transparent opacity-0 group-hover:opacity-100 transition-opacity flex flex-col justify-end p-4 pointer-events-none",children:[h.jsx("p",{className:"text-white font-medium truncate",children:J.caption||"Balksz"}),h.jsx("p",{className:"text-gray-300 text-xs",children:J.date})]})]}),f&&h.jsx("button",{type:"button",onClick:be=>ze(be,J.id),className:"absolute top-2 right-2 z-[5] bg-red-600 hover:bg-red-700 text-white p-2 rounded-full shadow-lg border-2 border-white transition-transform hover:scale-110 cursor-pointer pointer-events-auto",title:"eyi Sil",children:h.jsx($i,{size:16})})]},J.id))}),!c&&I>1&&h.jsx("div",{className:"flex justify-center mt-12 gap-2",children:Array.from({length:I},(J,be)=>be+1).map(J=>h.jsx("button",{onClick:()=>X(J),className:`w-10 h-10 rounded-full flex items-center justify-center font-bold transition-all ${M===J?"bg-green-700 text-white shadow-lg scale-110":"bg-white text-gray-600 hover:bg-green-50 border border-gray-200"}`,children:J},J))}),c&&i.length>c&&d&&h.jsx("div",{className:"flex justify-center mt-10",children:h.jsxs("button",{onClick:d,className:"bg-green-100 hover:bg-green-200 text-green-800 px-8 py-3 rounded-full font-bold transition-colors shadow-sm flex items-center gap-2",children:["Tm Galeriye Bak (",i.length,")"]})}),h.jsx(jr,{isOpen:ge!==null,onClose:()=>Ne(null),onConfirm:()=>{ge&&r(ge)},title:"Medya silinsin mi?",description:"Bu fotoraf veya videoyu sildiinizde galeriden kalc olarak kaldrlacaktr."}),B&&h.jsxs("div",{className:"fixed inset-0 z-[80] flex items-center justify-center p-4 bg-black/90 backdrop-blur-sm",onClick:()=>V(null),children:[h.jsx("button",{className:"absolute top-4 right-4 text-white hover:text-gray-300 p-2",onClick:()=>V(null),children:h.jsx(Oa,{size:32})}),h.jsxs("div",{className:"max-w-4xl max-h-[80vh] w-full flex flex-col items-center",children:[B.type==="image"?h.jsx("img",{src:B.url,alt:B.caption,className:"max-w-full max-h-[70vh] object-contain rounded-lg shadow-2xl"}):h.jsx("video",{controls:!0,autoPlay:!0,src:B.url,className:"max-w-full max-h-[70vh] rounded-lg shadow-2xl bg-black"}),B.caption&&h.jsxs("div",{className:"mt-4 text-center",children:[h.jsx("p",{className:"text-white text-lg font-medium",children:B.caption}),h.jsx("p",{className:"text-gray-400 text-sm",children:B.date})]})]})]})]})})},lb=({bottomAAd:i,bottomAAdLink:n})=>h.jsx("section",{id:"donations",className:"py-16 px-4 bg-stone-50",children:h.jsxs("div",{className:"max-w-7xl mx-auto",children:[h.jsxs("div",{className:"text-center mb-10",children:[h.jsxs("h2",{className:"text-3xl font-bold text-green-900 mb-2 flex items-center justify-center gap-2",children:[h.jsx(Op,{className:"text-green-600"}),"Ba Bilgileri"]}),h.jsx("p",{className:"text-stone-600",children:"Kymzn ihtiyalar ve geliimi iin desteklerinizi bekleriz."})]}),h.jsx("div",{className:"max-w-4xl mx-auto bg-gradient-to-r from-yellow-50 to-orange-50 border-l-4 border-yellow-400 p-6 rounded-lg shadow-sm mb-10",children:h.jsxs("div",{className:"flex items-start gap-4",children:[h.jsx("div",{className:"bg-yellow-100 p-3 rounded-full text-yellow-700 shrink-0",children:h.jsx(Sp,{size:32})}),h.jsxs("div",{className:"w-full",children:[h.jsx("h3",{className:"text-lg font-bold text-gray-800 mb-1",children:"Ba Hesab Bilgileri"}),h.jsxs("div",{className:"bg-white/60 p-3 rounded-md mb-2 font-mono text-gray-700 border border-yellow-100",children:[h.jsx("p",{className:"font-bold",children:"Alc: Alata-Balclar Yardmlama ve Dayanma Dernei"}),h.jsx("p",{children:"IBAN: TR12 0000 0000 0000 0000 0000 00"})]})]})]})}),i&&h.jsx("div",{className:"mt-8 flex justify-center animate-fade-in-up",children:h.jsxs("div",{className:"w-full max-w-3xl h-32 md:h-40 bg-stone-100 rounded-xl overflow-hidden shadow-sm border border-stone-200 relative group",children:[n?h.jsx("a",{href:n,target:"_blank",rel:"noopener noreferrer",className:"block w-full h-full",children:h.jsx("img",{src:i,alt:"Ba Blm Reklam",className:"w-full h-full object-cover"})}):h.jsx("img",{src:i,alt:"Ba Blm Reklam",className:"w-full h-full object-cover"}),h.jsx("span",{className:"absolute top-2 right-2 bg-black/50 text-white text-[10px] px-2 py-1 rounded backdrop-blur-sm",children:"SPONSOR"})]})})]})}),ib=()=>h.jsx("section",{id:"about",className:"py-16 px-4 bg-white",children:h.jsx("div",{className:"max-w-7xl mx-auto",children:h.jsxs("div",{className:"grid md:grid-cols-2 gap-12 items-center",children:[h.jsxs("div",{className:"order-2 md:order-1",children:[h.jsxs("h2",{className:"text-3xl font-bold text-green-900 mb-6 flex items-center gap-2",children:[h.jsx("span",{className:"text-green-600",children:h.jsx(Tp,{})}),"Kymz Hakknda"]}),h.jsxs("div",{className:"space-y-6 text-lg text-gray-600 leading-relaxed",children:[h.jsx("p",{children:"Balclar, doann tm renklerini barndran, tarihi dokusu ve misafirperver halkyla blgenin incisi konumundadr. Tarm ve hayvancln modern yntemlerle yapld kymzde, geleneksel yaam kltr de yaatlmaya devam etmektedir."}),h.jsxs("div",{className:"bg-green-50 p-6 rounded-xl border border-green-100",children:[h.jsxs("div",{className:"flex items-start gap-4 mb-4",children:[h.jsx("div",{className:"bg-white p-2 rounded-full shadow-sm text-green-700",children:h.jsx(lc,{size:24})}),h.jsxs("div",{children:[h.jsx("h4",{className:"font-bold text-gray-900",children:"Ky Muhtar"}),h.jsx("p",{className:"text-gray-600",children:"Ahmet Ylmaz"})]})]}),h.jsxs("div",{className:"flex items-start gap-4",children:[h.jsx("div",{className:"bg-white p-2 rounded-full shadow-sm text-green-700",children:h.jsx(Mp,{size:24})}),h.jsxs("div",{children:[h.jsx("h4",{className:"font-bold text-gray-900",children:"Konum"}),h.jsx("a",{href:"https://www.google.com/maps/search/?api=1&query=Balclar+Ky+Takent+Konya",target:"_blank",rel:"noopener noreferrer",className:"text-gray-600 hover:text-green-700 hover:underline transition-colors block",children:"Takent/Konya"})]})]})]})]})]}),h.jsx("div",{className:"order-1 md:order-2 h-80 md:h-full min-h-[400px] rounded-2xl overflow-hidden shadow-2xl",children:h.jsx("img",{src:"https://picsum.photos/id/10/1200/800",className:"w-full h-full object-cover hover:scale-105 transition-transform duration-700",alt:"Balclar Ky"})})]})})}),sb=()=>h.jsx("footer",{className:"bg-green-900 text-white py-12",children:h.jsxs("div",{className:"max-w-7xl mx-auto px-4 text-center md:text-left md:flex justify-between items-center",children:[h.jsxs("div",{className:"mb-6 md:mb-0",children:[h.jsxs("div",{className:"flex items-center justify-center md:justify-start gap-3 mb-2",children:[h.jsx("div",{className:"bg-white/10 p-1.5 rounded-full",children:h.jsx("img",{src:"/logo.png",alt:"Balclar Ky",className:"w-8 h-8 object-cover rounded-full"})}),h.jsx("span",{className:"text-xl font-bold",children:"Balclar Ky"})]}),h.jsx("p",{className:"text-green-200 text-sm",children:" 2026 Tm Haklar Sakldr."})]}),h.jsxs("div",{className:"text-sm text-green-200",children:[h.jsx("p",{children:"Acil Durumlar in: 112"}),h.jsx("p",{children:"Muhtarlk: 0555 000 00 00"})]})]})});function Ar(i,n){var s={};for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&n.indexOf(r)<0&&(s[r]=i[r]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function")for(var c=0,r=Object.getOwnPropertySymbols(i);c<r.length;c++)n.indexOf(r[c])<0&&Object.prototype.propertyIsEnumerable.call(i,r[c])&&(s[r[c]]=i[r[c]]);return s}function rb(i,n,s,r){function c(d){return d instanceof s?d:new s(function(f){f(d)})}return new(s||(s=Promise))(function(d,f){function g(b){try{p(r.next(b))}catch(x){f(x)}}function y(b){try{p(r.throw(b))}catch(x){f(x)}}function p(b){b.done?d(b.value):c(b.value).then(g,y)}p((r=r.apply(i,n||[])).next())})}const ob=i=>i?(...n)=>i(...n):(...n)=>fetch(...n);class _c extends Error{constructor(n,s="FunctionsError",r){super(n),this.name=s,this.context=r}}class ub extends _c{constructor(n){super("Failed to send a request to the Edge Function","FunctionsFetchError",n)}}class Bm extends _c{constructor(n){super("Relay Error invoking the Edge Function","FunctionsRelayError",n)}}class qm extends _c{constructor(n){super("Edge Function returned a non-2xx status code","FunctionsHttpError",n)}}var rc;(function(i){i.Any="any",i.ApNortheast1="ap-northeast-1",i.ApNortheast2="ap-northeast-2",i.ApSouth1="ap-south-1",i.ApSoutheast1="ap-southeast-1",i.ApSoutheast2="ap-southeast-2",i.CaCentral1="ca-central-1",i.EuCentral1="eu-central-1",i.EuWest1="eu-west-1",i.EuWest2="eu-west-2",i.EuWest3="eu-west-3",i.SaEast1="sa-east-1",i.UsEast1="us-east-1",i.UsWest1="us-west-1",i.UsWest2="us-west-2"})(rc||(rc={}));class cb{constructor(n,{headers:s={},customFetch:r,region:c=rc.Any}={}){this.url=n,this.headers=s,this.region=c,this.fetch=ob(r)}setAuth(n){this.headers.Authorization=`Bearer ${n}`}invoke(n){return rb(this,arguments,void 0,function*(s,r={}){var c;let d,f;try{const{headers:g,method:y,body:p,signal:b,timeout:x}=r;let j={},{region:_}=r;_||(_=this.region);const k=new URL(`${this.url}/${s}`);_&&_!=="any"&&(j["x-region"]=_,k.searchParams.set("forceFunctionRegion",_));let D;p&&(g&&!Object.prototype.hasOwnProperty.call(g,"Content-Type")||!g)?typeof Blob<"u"&&p instanceof Blob||p instanceof ArrayBuffer?(j["Content-Type"]="application/octet-stream",D=p):typeof p=="string"?(j["Content-Type"]="text/plain",D=p):typeof FormData<"u"&&p instanceof FormData?D=p:(j["Content-Type"]="application/json",D=JSON.stringify(p)):p&&typeof p!="string"&&!(typeof Blob<"u"&&p instanceof Blob)&&!(p instanceof ArrayBuffer)&&!(typeof FormData<"u"&&p instanceof FormData)?D=JSON.stringify(p):D=p;let H=b;x&&(f=new AbortController,d=setTimeout(()=>f.abort(),x),b?(H=f.signal,b.addEventListener("abort",()=>f.abort())):H=f.signal);const B=yield this.fetch(k.toString(),{method:y||"POST",headers:Object.assign(Object.assign(Object.assign({},j),this.headers),g),body:D,signal:H}).catch(P=>{throw new ub(P)}),V=B.headers.get("x-relay-error");if(V&&V==="true")throw new Bm(B);if(!B.ok)throw new qm(B);let M=((c=B.headers.get("Content-Type"))!==null&&c!==void 0?c:"text/plain").split(";")[0].trim(),X;return M==="application/json"?X=yield B.json():M==="application/octet-stream"||M==="application/pdf"?X=yield B.blob():M==="text/event-stream"?X=B:M==="multipart/form-data"?X=yield B.formData():X=yield B.text(),{data:X,error:null,response:B}}catch(g){return{data:null,error:g,response:g instanceof qm||g instanceof Bm?g.context:void 0}}finally{d&&clearTimeout(d)}})}}var db=class extends Error{constructor(i){super(i.message),this.name="PostgrestError",this.details=i.details,this.hint=i.hint,this.code=i.code}},hb=class{constructor(i){var n,s,r;this.shouldThrowOnError=!1,this.method=i.method,this.url=i.url,this.headers=new Headers(i.headers),this.schema=i.schema,this.body=i.body,this.shouldThrowOnError=(n=i.shouldThrowOnError)!==null&&n!==void 0?n:!1,this.signal=i.signal,this.isMaybeSingle=(s=i.isMaybeSingle)!==null&&s!==void 0?s:!1,this.urlLengthLimit=(r=i.urlLengthLimit)!==null&&r!==void 0?r:8e3,i.fetch?this.fetch=i.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(i,n){return this.headers=new Headers(this.headers),this.headers.set(i,n),this}then(i,n){var s=this;this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const r=this.fetch;let c=r(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async d=>{let f=null,g=null,y=null,p=d.status,b=d.statusText;if(d.ok){var x,j;if(s.method!=="HEAD"){var _;const B=await d.text();B===""||(s.headers.get("Accept")==="text/csv"||s.headers.get("Accept")&&(!((_=s.headers.get("Accept"))===null||_===void 0)&&_.includes("application/vnd.pgrst.plan+text"))?g=B:g=JSON.parse(B))}const D=(x=s.headers.get("Prefer"))===null||x===void 0?void 0:x.match(/count=(exact|planned|estimated)/),H=(j=d.headers.get("content-range"))===null||j===void 0?void 0:j.split("/");D&&H&&H.length>1&&(y=parseInt(H[1])),s.isMaybeSingle&&s.method==="GET"&&Array.isArray(g)&&(g.length>1?(f={code:"PGRST116",details:`Results contain ${g.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},g=null,y=null,p=406,b="Not Acceptable"):g.length===1?g=g[0]:g=null)}else{var k;const D=await d.text();try{f=JSON.parse(D),Array.isArray(f)&&d.status===404&&(g=[],f=null,p=200,b="OK")}catch{d.status===404&&D===""?(p=204,b="No Content"):f={message:D}}if(f&&s.isMaybeSingle&&(!(f==null||(k=f.details)===null||k===void 0)&&k.includes("0 rows"))&&(f=null,p=200,b="OK"),f&&s.shouldThrowOnError)throw new db(f)}return{error:f,data:g,count:y,status:p,statusText:b}});return this.shouldThrowOnError||(c=c.catch(d=>{var f;let g="",y="",p="";const b=d==null?void 0:d.cause;if(b){var x,j,_,k;const B=(x=b==null?void 0:b.message)!==null&&x!==void 0?x:"",V=(j=b==null?void 0:b.code)!==null&&j!==void 0?j:"";g=`${(_=d==null?void 0:d.name)!==null&&_!==void 0?_:"FetchError"}: ${d==null?void 0:d.message}`,g+=`

Caused by: ${(k=b==null?void 0:b.name)!==null&&k!==void 0?k:"Error"}: ${B}`,V&&(g+=` (${V})`),b!=null&&b.stack&&(g+=`
${b.stack}`)}else{var D;g=(D=d==null?void 0:d.stack)!==null&&D!==void 0?D:""}const H=this.url.toString().length;return(d==null?void 0:d.name)==="AbortError"||(d==null?void 0:d.code)==="ABORT_ERR"?(p="",y="Request was aborted (timeout or manual cancellation)",H>this.urlLengthLimit&&(y+=`. Note: Your request URL is ${H} characters, which may exceed server limits. If selecting many fields, consider using views. If filtering with large arrays (e.g., .in('id', [many IDs])), consider using an RPC function to pass values server-side.`)):((b==null?void 0:b.name)==="HeadersOverflowError"||(b==null?void 0:b.code)==="UND_ERR_HEADERS_OVERFLOW")&&(p="",y="HTTP headers exceeded server limits (typically 16KB)",H>this.urlLengthLimit&&(y+=`. Your request URL is ${H} characters. If selecting many fields, consider using views. If filtering with large arrays (e.g., .in('id', [200+ IDs])), consider using an RPC function instead.`)),{error:{message:`${(f=d==null?void 0:d.name)!==null&&f!==void 0?f:"FetchError"}: ${d==null?void 0:d.message}`,details:g,hint:y,code:p},data:null,count:null,status:0,statusText:""}})),c.then(i,n)}returns(){return this}overrideTypes(){return this}},fb=class extends hb{select(i){let n=!1;const s=(i??"*").split("").map(r=>/\s/.test(r)&&!n?"":(r==='"'&&(n=!n),r)).join("");return this.url.searchParams.set("select",s),this.headers.append("Prefer","return=representation"),this}order(i,{ascending:n=!0,nullsFirst:s,foreignTable:r,referencedTable:c=r}={}){const d=c?`${c}.order`:"order",f=this.url.searchParams.get(d);return this.url.searchParams.set(d,`${f?`${f},`:""}${i}.${n?"asc":"desc"}${s===void 0?"":s?".nullsfirst":".nullslast"}`),this}limit(i,{foreignTable:n,referencedTable:s=n}={}){const r=typeof s>"u"?"limit":`${s}.limit`;return this.url.searchParams.set(r,`${i}`),this}range(i,n,{foreignTable:s,referencedTable:r=s}={}){const c=typeof r>"u"?"offset":`${r}.offset`,d=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(c,`${i}`),this.url.searchParams.set(d,`${n-i+1}`),this}abortSignal(i){return this.signal=i,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:i=!1,verbose:n=!1,settings:s=!1,buffers:r=!1,wal:c=!1,format:d="text"}={}){var f;const g=[i?"analyze":null,n?"verbose":null,s?"settings":null,r?"buffers":null,c?"wal":null].filter(Boolean).join("|"),y=(f=this.headers.get("Accept"))!==null&&f!==void 0?f:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${d}; for="${y}"; options=${g};`),d==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(i){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${i}`),this}};const Hm=new RegExp("[,()]");var Nl=class extends fb{eq(i,n){return this.url.searchParams.append(i,`eq.${n}`),this}neq(i,n){return this.url.searchParams.append(i,`neq.${n}`),this}gt(i,n){return this.url.searchParams.append(i,`gt.${n}`),this}gte(i,n){return this.url.searchParams.append(i,`gte.${n}`),this}lt(i,n){return this.url.searchParams.append(i,`lt.${n}`),this}lte(i,n){return this.url.searchParams.append(i,`lte.${n}`),this}like(i,n){return this.url.searchParams.append(i,`like.${n}`),this}likeAllOf(i,n){return this.url.searchParams.append(i,`like(all).{${n.join(",")}}`),this}likeAnyOf(i,n){return this.url.searchParams.append(i,`like(any).{${n.join(",")}}`),this}ilike(i,n){return this.url.searchParams.append(i,`ilike.${n}`),this}ilikeAllOf(i,n){return this.url.searchParams.append(i,`ilike(all).{${n.join(",")}}`),this}ilikeAnyOf(i,n){return this.url.searchParams.append(i,`ilike(any).{${n.join(",")}}`),this}regexMatch(i,n){return this.url.searchParams.append(i,`match.${n}`),this}regexIMatch(i,n){return this.url.searchParams.append(i,`imatch.${n}`),this}is(i,n){return this.url.searchParams.append(i,`is.${n}`),this}isDistinct(i,n){return this.url.searchParams.append(i,`isdistinct.${n}`),this}in(i,n){const s=Array.from(new Set(n)).map(r=>typeof r=="string"&&Hm.test(r)?`"${r}"`:`${r}`).join(",");return this.url.searchParams.append(i,`in.(${s})`),this}notIn(i,n){const s=Array.from(new Set(n)).map(r=>typeof r=="string"&&Hm.test(r)?`"${r}"`:`${r}`).join(",");return this.url.searchParams.append(i,`not.in.(${s})`),this}contains(i,n){return typeof n=="string"?this.url.searchParams.append(i,`cs.${n}`):Array.isArray(n)?this.url.searchParams.append(i,`cs.{${n.join(",")}}`):this.url.searchParams.append(i,`cs.${JSON.stringify(n)}`),this}containedBy(i,n){return typeof n=="string"?this.url.searchParams.append(i,`cd.${n}`):Array.isArray(n)?this.url.searchParams.append(i,`cd.{${n.join(",")}}`):this.url.searchParams.append(i,`cd.${JSON.stringify(n)}`),this}rangeGt(i,n){return this.url.searchParams.append(i,`sr.${n}`),this}rangeGte(i,n){return this.url.searchParams.append(i,`nxl.${n}`),this}rangeLt(i,n){return this.url.searchParams.append(i,`sl.${n}`),this}rangeLte(i,n){return this.url.searchParams.append(i,`nxr.${n}`),this}rangeAdjacent(i,n){return this.url.searchParams.append(i,`adj.${n}`),this}overlaps(i,n){return typeof n=="string"?this.url.searchParams.append(i,`ov.${n}`):this.url.searchParams.append(i,`ov.{${n.join(",")}}`),this}textSearch(i,n,{config:s,type:r}={}){let c="";r==="plain"?c="pl":r==="phrase"?c="ph":r==="websearch"&&(c="w");const d=s===void 0?"":`(${s})`;return this.url.searchParams.append(i,`${c}fts${d}.${n}`),this}match(i){return Object.entries(i).forEach(([n,s])=>{this.url.searchParams.append(n,`eq.${s}`)}),this}not(i,n,s){return this.url.searchParams.append(i,`not.${n}.${s}`),this}or(i,{foreignTable:n,referencedTable:s=n}={}){const r=s?`${s}.or`:"or";return this.url.searchParams.append(r,`(${i})`),this}filter(i,n,s){return this.url.searchParams.append(i,`${n}.${s}`),this}},mb=class{constructor(i,{headers:n={},schema:s,fetch:r,urlLengthLimit:c=8e3}){this.url=i,this.headers=new Headers(n),this.schema=s,this.fetch=r,this.urlLengthLimit=c}cloneRequestState(){return{url:new URL(this.url.toString()),headers:new Headers(this.headers)}}select(i,n){const{head:s=!1,count:r}=n??{},c=s?"HEAD":"GET";let d=!1;const f=(i??"*").split("").map(p=>/\s/.test(p)&&!d?"":(p==='"'&&(d=!d),p)).join(""),{url:g,headers:y}=this.cloneRequestState();return g.searchParams.set("select",f),r&&y.append("Prefer",`count=${r}`),new Nl({method:c,url:g,headers:y,schema:this.schema,fetch:this.fetch,urlLengthLimit:this.urlLengthLimit})}insert(i,{count:n,defaultToNull:s=!0}={}){var r;const c="POST",{url:d,headers:f}=this.cloneRequestState();if(n&&f.append("Prefer",`count=${n}`),s||f.append("Prefer","missing=default"),Array.isArray(i)){const g=i.reduce((y,p)=>y.concat(Object.keys(p)),[]);if(g.length>0){const y=[...new Set(g)].map(p=>`"${p}"`);d.searchParams.set("columns",y.join(","))}}return new Nl({method:c,url:d,headers:f,schema:this.schema,body:i,fetch:(r=this.fetch)!==null&&r!==void 0?r:fetch,urlLengthLimit:this.urlLengthLimit})}upsert(i,{onConflict:n,ignoreDuplicates:s=!1,count:r,defaultToNull:c=!0}={}){var d;const f="POST",{url:g,headers:y}=this.cloneRequestState();if(y.append("Prefer",`resolution=${s?"ignore":"merge"}-duplicates`),n!==void 0&&g.searchParams.set("on_conflict",n),r&&y.append("Prefer",`count=${r}`),c||y.append("Prefer","missing=default"),Array.isArray(i)){const p=i.reduce((b,x)=>b.concat(Object.keys(x)),[]);if(p.length>0){const b=[...new Set(p)].map(x=>`"${x}"`);g.searchParams.set("columns",b.join(","))}}return new Nl({method:f,url:g,headers:y,schema:this.schema,body:i,fetch:(d=this.fetch)!==null&&d!==void 0?d:fetch,urlLengthLimit:this.urlLengthLimit})}update(i,{count:n}={}){var s;const r="PATCH",{url:c,headers:d}=this.cloneRequestState();return n&&d.append("Prefer",`count=${n}`),new Nl({method:r,url:c,headers:d,schema:this.schema,body:i,fetch:(s=this.fetch)!==null&&s!==void 0?s:fetch,urlLengthLimit:this.urlLengthLimit})}delete({count:i}={}){var n;const s="DELETE",{url:r,headers:c}=this.cloneRequestState();return i&&c.append("Prefer",`count=${i}`),new Nl({method:s,url:r,headers:c,schema:this.schema,fetch:(n=this.fetch)!==null&&n!==void 0?n:fetch,urlLengthLimit:this.urlLengthLimit})}};function Ui(i){"@babel/helpers - typeof";return Ui=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(n){return typeof n}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},Ui(i)}function gb(i,n){if(Ui(i)!="object"||!i)return i;var s=i[Symbol.toPrimitive];if(s!==void 0){var r=s.call(i,n);if(Ui(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(n==="string"?String:Number)(i)}function yb(i){var n=gb(i,"string");return Ui(n)=="symbol"?n:n+""}function pb(i,n,s){return(n=yb(n))in i?Object.defineProperty(i,n,{value:s,enumerable:!0,configurable:!0,writable:!0}):i[n]=s,i}function Gm(i,n){var s=Object.keys(i);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(i);n&&(r=r.filter(function(c){return Object.getOwnPropertyDescriptor(i,c).enumerable})),s.push.apply(s,r)}return s}function cr(i){for(var n=1;n<arguments.length;n++){var s=arguments[n]!=null?arguments[n]:{};n%2?Gm(Object(s),!0).forEach(function(r){pb(i,r,s[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(s)):Gm(Object(s)).forEach(function(r){Object.defineProperty(i,r,Object.getOwnPropertyDescriptor(s,r))})}return i}var vb=class bg{constructor(n,{headers:s={},schema:r,fetch:c,timeout:d,urlLengthLimit:f=8e3}={}){this.url=n,this.headers=new Headers(s),this.schemaName=r,this.urlLengthLimit=f;const g=c??globalThis.fetch;d!==void 0&&d>0?this.fetch=(y,p)=>{const b=new AbortController,x=setTimeout(()=>b.abort(),d),j=p==null?void 0:p.signal;if(j){if(j.aborted)return clearTimeout(x),g(y,p);const _=()=>{clearTimeout(x),b.abort()};return j.addEventListener("abort",_,{once:!0}),g(y,cr(cr({},p),{},{signal:b.signal})).finally(()=>{clearTimeout(x),j.removeEventListener("abort",_)})}return g(y,cr(cr({},p),{},{signal:b.signal})).finally(()=>clearTimeout(x))}:this.fetch=g}from(n){if(!n||typeof n!="string"||n.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");return new mb(new URL(`${this.url}/${n}`),{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch,urlLengthLimit:this.urlLengthLimit})}schema(n){return new bg(this.url,{headers:this.headers,schema:n,fetch:this.fetch,urlLengthLimit:this.urlLengthLimit})}rpc(n,s={},{head:r=!1,get:c=!1,count:d}={}){var f;let g;const y=new URL(`${this.url}/rpc/${n}`);let p;const b=_=>_!==null&&typeof _=="object"&&(!Array.isArray(_)||_.some(b)),x=r&&Object.values(s).some(b);x?(g="POST",p=s):r||c?(g=r?"HEAD":"GET",Object.entries(s).filter(([_,k])=>k!==void 0).map(([_,k])=>[_,Array.isArray(k)?`{${k.join(",")}}`:`${k}`]).forEach(([_,k])=>{y.searchParams.append(_,k)})):(g="POST",p=s);const j=new Headers(this.headers);return x?j.set("Prefer",d?`count=${d},return=minimal`:"return=minimal"):d&&j.set("Prefer",`count=${d}`),new Nl({method:g,url:y,headers:j,schema:this.schemaName,body:p,fetch:(f=this.fetch)!==null&&f!==void 0?f:fetch,urlLengthLimit:this.urlLengthLimit})}};class bb{constructor(){}static detectEnvironment(){var n;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((n=navigator.userAgent)===null||n===void 0)&&n.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};const s=globalThis.process;if(s){const r=s.versions;if(r&&r.node){const c=r.node,d=parseInt(c.replace(/^v/,"").split(".")[0]);return d>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${d} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${d} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const n=this.detectEnvironment();if(n.constructor)return n.constructor;let s=n.error||"WebSocket not supported in this environment.";throw n.workaround&&(s+=`

Suggested solution: ${n.workaround}`),new Error(s)}static createWebSocket(n,s){const r=this.getWebSocketConstructor();return new r(n,s)}static isWebSocketSupported(){try{const n=this.detectEnvironment();return n.type==="native"||n.type==="ws"}catch{return!1}}}const xb="2.95.3",wb=`realtime-js/${xb}`,_b="1.0.0",xg="2.0.0",$m=xg,oc=1e4,Sb=1e3,jb=100;var nn;(function(i){i[i.connecting=0]="connecting",i[i.open=1]="open",i[i.closing=2]="closing",i[i.closed=3]="closed"})(nn||(nn={}));var ot;(function(i){i.closed="closed",i.errored="errored",i.joined="joined",i.joining="joining",i.leaving="leaving"})(ot||(ot={}));var aa;(function(i){i.close="phx_close",i.error="phx_error",i.join="phx_join",i.reply="phx_reply",i.leave="phx_leave",i.access_token="access_token"})(aa||(aa={}));var uc;(function(i){i.websocket="websocket"})(uc||(uc={}));var Rn;(function(i){i.Connecting="connecting",i.Open="open",i.Closing="closing",i.Closed="closed"})(Rn||(Rn={}));class Eb{constructor(n){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=n??[]}encode(n,s){if(n.event===this.BROADCAST_EVENT&&!(n.payload instanceof ArrayBuffer)&&typeof n.payload.event=="string")return s(this._binaryEncodeUserBroadcastPush(n));let r=[n.join_ref,n.ref,n.topic,n.event,n.payload];return s(JSON.stringify(r))}_binaryEncodeUserBroadcastPush(n){var s;return this._isArrayBuffer((s=n.payload)===null||s===void 0?void 0:s.payload)?this._encodeBinaryUserBroadcastPush(n):this._encodeJsonUserBroadcastPush(n)}_encodeBinaryUserBroadcastPush(n){var s,r;const c=(r=(s=n.payload)===null||s===void 0?void 0:s.payload)!==null&&r!==void 0?r:new ArrayBuffer(0);return this._encodeUserBroadcastPush(n,this.BINARY_ENCODING,c)}_encodeJsonUserBroadcastPush(n){var s,r;const c=(r=(s=n.payload)===null||s===void 0?void 0:s.payload)!==null&&r!==void 0?r:{},f=new TextEncoder().encode(JSON.stringify(c)).buffer;return this._encodeUserBroadcastPush(n,this.JSON_ENCODING,f)}_encodeUserBroadcastPush(n,s,r){var c,d;const f=n.topic,g=(c=n.ref)!==null&&c!==void 0?c:"",y=(d=n.join_ref)!==null&&d!==void 0?d:"",p=n.payload.event,b=this.allowedMetadataKeys?this._pick(n.payload,this.allowedMetadataKeys):{},x=Object.keys(b).length===0?"":JSON.stringify(b);if(y.length>255)throw new Error(`joinRef length ${y.length} exceeds maximum of 255`);if(g.length>255)throw new Error(`ref length ${g.length} exceeds maximum of 255`);if(f.length>255)throw new Error(`topic length ${f.length} exceeds maximum of 255`);if(p.length>255)throw new Error(`userEvent length ${p.length} exceeds maximum of 255`);if(x.length>255)throw new Error(`metadata length ${x.length} exceeds maximum of 255`);const j=this.USER_BROADCAST_PUSH_META_LENGTH+y.length+g.length+f.length+p.length+x.length,_=new ArrayBuffer(this.HEADER_LENGTH+j);let k=new DataView(_),D=0;k.setUint8(D++,this.KINDS.userBroadcastPush),k.setUint8(D++,y.length),k.setUint8(D++,g.length),k.setUint8(D++,f.length),k.setUint8(D++,p.length),k.setUint8(D++,x.length),k.setUint8(D++,s),Array.from(y,B=>k.setUint8(D++,B.charCodeAt(0))),Array.from(g,B=>k.setUint8(D++,B.charCodeAt(0))),Array.from(f,B=>k.setUint8(D++,B.charCodeAt(0))),Array.from(p,B=>k.setUint8(D++,B.charCodeAt(0))),Array.from(x,B=>k.setUint8(D++,B.charCodeAt(0)));var H=new Uint8Array(_.byteLength+r.byteLength);return H.set(new Uint8Array(_),0),H.set(new Uint8Array(r),_.byteLength),H.buffer}decode(n,s){if(this._isArrayBuffer(n)){let r=this._binaryDecode(n);return s(r)}if(typeof n=="string"){const r=JSON.parse(n),[c,d,f,g,y]=r;return s({join_ref:c,ref:d,topic:f,event:g,payload:y})}return s({})}_binaryDecode(n){const s=new DataView(n),r=s.getUint8(0),c=new TextDecoder;switch(r){case this.KINDS.userBroadcast:return this._decodeUserBroadcast(n,s,c)}}_decodeUserBroadcast(n,s,r){const c=s.getUint8(1),d=s.getUint8(2),f=s.getUint8(3),g=s.getUint8(4);let y=this.HEADER_LENGTH+4;const p=r.decode(n.slice(y,y+c));y=y+c;const b=r.decode(n.slice(y,y+d));y=y+d;const x=r.decode(n.slice(y,y+f));y=y+f;const j=n.slice(y,n.byteLength),_=g===this.JSON_ENCODING?JSON.parse(r.decode(j)):j,k={type:this.BROADCAST_EVENT,event:b,payload:_};return f>0&&(k.meta=JSON.parse(x)),{join_ref:null,ref:null,topic:p,event:this.BROADCAST_EVENT,payload:k}}_isArrayBuffer(n){var s;return n instanceof ArrayBuffer||((s=n==null?void 0:n.constructor)===null||s===void 0?void 0:s.name)==="ArrayBuffer"}_pick(n,s){return!n||typeof n!="object"?{}:Object.fromEntries(Object.entries(n).filter(([r])=>s.includes(r)))}}class wg{constructor(n,s){this.callback=n,this.timerCalc=s,this.timer=void 0,this.tries=0,this.callback=n,this.timerCalc=s}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Ge;(function(i){i.abstime="abstime",i.bool="bool",i.date="date",i.daterange="daterange",i.float4="float4",i.float8="float8",i.int2="int2",i.int4="int4",i.int4range="int4range",i.int8="int8",i.int8range="int8range",i.json="json",i.jsonb="jsonb",i.money="money",i.numeric="numeric",i.oid="oid",i.reltime="reltime",i.text="text",i.time="time",i.timestamp="timestamp",i.timestamptz="timestamptz",i.timetz="timetz",i.tsrange="tsrange",i.tstzrange="tstzrange"})(Ge||(Ge={}));const Km=(i,n,s={})=>{var r;const c=(r=s.skipTypes)!==null&&r!==void 0?r:[];return n?Object.keys(n).reduce((d,f)=>(d[f]=Nb(f,i,n,c),d),{}):{}},Nb=(i,n,s,r)=>{const c=n.find(g=>g.name===i),d=c==null?void 0:c.type,f=s[i];return d&&!r.includes(d)?_g(d,f):cc(f)},_g=(i,n)=>{if(i.charAt(0)==="_"){const s=i.slice(1,i.length);return Ob(n,s)}switch(i){case Ge.bool:return Ab(n);case Ge.float4:case Ge.float8:case Ge.int2:case Ge.int4:case Ge.int8:case Ge.numeric:case Ge.oid:return Tb(n);case Ge.json:case Ge.jsonb:return kb(n);case Ge.timestamp:return Rb(n);case Ge.abstime:case Ge.date:case Ge.daterange:case Ge.int4range:case Ge.int8range:case Ge.money:case Ge.reltime:case Ge.text:case Ge.time:case Ge.timestamptz:case Ge.timetz:case Ge.tsrange:case Ge.tstzrange:return cc(n);default:return cc(n)}},cc=i=>i,Ab=i=>{switch(i){case"t":return!0;case"f":return!1;default:return i}},Tb=i=>{if(typeof i=="string"){const n=parseFloat(i);if(!Number.isNaN(n))return n}return i},kb=i=>{if(typeof i=="string")try{return JSON.parse(i)}catch{return i}return i},Ob=(i,n)=>{if(typeof i!="string")return i;const s=i.length-1,r=i[s];if(i[0]==="{"&&r==="}"){let d;const f=i.slice(1,s);try{d=JSON.parse("["+f+"]")}catch{d=f?f.split(","):[]}return d.map(g=>_g(n,g))}return i},Rb=i=>typeof i=="string"?i.replace(" ","T"):i,Sg=i=>{const n=new URL(i);return n.protocol=n.protocol.replace(/^ws/i,"http"),n.pathname=n.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),n.pathname===""||n.pathname==="/"?n.pathname="/api/broadcast":n.pathname=n.pathname+"/api/broadcast",n.href};class Zu{constructor(n,s,r={},c=oc){this.channel=n,this.event=s,this.payload=r,this.timeout=c,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(n){this.timeout=n,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(n){this.payload=Object.assign(Object.assign({},this.payload),n)}receive(n,s){var r;return this._hasReceived(n)&&s((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:n,callback:s}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const n=s=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=s,this._matchReceive(s)};this.channel._on(this.refEvent,{},n),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(n,s){this.refEvent&&this.channel._trigger(this.refEvent,{status:n,response:s})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:n,response:s}){this.recHooks.filter(r=>r.status===n).forEach(r=>r.callback(s))}_hasReceived(n){return this.receivedResp&&this.receivedResp.status===n}}var Vm;(function(i){i.SYNC="sync",i.JOIN="join",i.LEAVE="leave"})(Vm||(Vm={}));class Ci{constructor(n,s){this.channel=n,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=(s==null?void 0:s.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},c=>{const{onJoin:d,onLeave:f,onSync:g}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Ci.syncState(this.state,c,d,f),this.pendingDiffs.forEach(y=>{this.state=Ci.syncDiff(this.state,y,d,f)}),this.pendingDiffs=[],g()}),this.channel._on(r.diff,{},c=>{const{onJoin:d,onLeave:f,onSync:g}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(c):(this.state=Ci.syncDiff(this.state,c,d,f),g())}),this.onJoin((c,d,f)=>{this.channel._trigger("presence",{event:"join",key:c,currentPresences:d,newPresences:f})}),this.onLeave((c,d,f)=>{this.channel._trigger("presence",{event:"leave",key:c,currentPresences:d,leftPresences:f})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(n,s,r,c){const d=this.cloneDeep(n),f=this.transformState(s),g={},y={};return this.map(d,(p,b)=>{f[p]||(y[p]=b)}),this.map(f,(p,b)=>{const x=d[p];if(x){const j=b.map(H=>H.presence_ref),_=x.map(H=>H.presence_ref),k=b.filter(H=>_.indexOf(H.presence_ref)<0),D=x.filter(H=>j.indexOf(H.presence_ref)<0);k.length>0&&(g[p]=k),D.length>0&&(y[p]=D)}else g[p]=b}),this.syncDiff(d,{joins:g,leaves:y},r,c)}static syncDiff(n,s,r,c){const{joins:d,leaves:f}={joins:this.transformState(s.joins),leaves:this.transformState(s.leaves)};return r||(r=()=>{}),c||(c=()=>{}),this.map(d,(g,y)=>{var p;const b=(p=n[g])!==null&&p!==void 0?p:[];if(n[g]=this.cloneDeep(y),b.length>0){const x=n[g].map(_=>_.presence_ref),j=b.filter(_=>x.indexOf(_.presence_ref)<0);n[g].unshift(...j)}r(g,b,y)}),this.map(f,(g,y)=>{let p=n[g];if(!p)return;const b=y.map(x=>x.presence_ref);p=p.filter(x=>b.indexOf(x.presence_ref)<0),n[g]=p,c(g,p,y),p.length===0&&delete n[g]}),n}static map(n,s){return Object.getOwnPropertyNames(n).map(r=>s(r,n[r]))}static transformState(n){return n=this.cloneDeep(n),Object.getOwnPropertyNames(n).reduce((s,r)=>{const c=n[r];return"metas"in c?s[r]=c.metas.map(d=>(d.presence_ref=d.phx_ref,delete d.phx_ref,delete d.phx_ref_prev,d)):s[r]=c,s},{})}static cloneDeep(n){return JSON.parse(JSON.stringify(n))}onJoin(n){this.caller.onJoin=n}onLeave(n){this.caller.onLeave=n}onSync(n){this.caller.onSync=n}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var Ym;(function(i){i.ALL="*",i.INSERT="INSERT",i.UPDATE="UPDATE",i.DELETE="DELETE"})(Ym||(Ym={}));var Di;(function(i){i.BROADCAST="broadcast",i.PRESENCE="presence",i.POSTGRES_CHANGES="postgres_changes",i.SYSTEM="system"})(Di||(Di={}));var Ta;(function(i){i.SUBSCRIBED="SUBSCRIBED",i.TIMED_OUT="TIMED_OUT",i.CLOSED="CLOSED",i.CHANNEL_ERROR="CHANNEL_ERROR"})(Ta||(Ta={}));class kl{constructor(n,s={config:{}},r){var c,d;if(this.topic=n,this.params=s,this.socket=r,this.bindings={},this.state=ot.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=n.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},s.config),this.timeout=this.socket.timeout,this.joinPush=new Zu(this,aa.join,this.params,this.timeout),this.rejoinTimer=new wg(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=ot.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(f=>f.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=ot.closed,this.socket._remove(this)}),this._onError(f=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,f),this.state=ot.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=ot.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",f=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,f),this.state=ot.errored,this.rejoinTimer.scheduleTimeout())}),this._on(aa.reply,{},(f,g)=>{this._trigger(this._replyEventName(g),f)}),this.presence=new Ci(this),this.broadcastEndpointURL=Sg(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((d=(c=this.params.config)===null||c===void 0?void 0:c.broadcast)===null||d===void 0)&&d.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(n,s=this.timeout){var r,c,d;if(this.socket.isConnected()||this.socket.connect(),this.state==ot.closed){const{config:{broadcast:f,presence:g,private:y}}=this.params,p=(c=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(_=>_.filter))!==null&&c!==void 0?c:[],b=!!this.bindings[Di.PRESENCE]&&this.bindings[Di.PRESENCE].length>0||((d=this.params.config.presence)===null||d===void 0?void 0:d.enabled)===!0,x={},j={broadcast:f,presence:Object.assign(Object.assign({},g),{enabled:b}),postgres_changes:p,private:y};this.socket.accessTokenValue&&(x.access_token=this.socket.accessTokenValue),this._onError(_=>n==null?void 0:n(Ta.CHANNEL_ERROR,_)),this._onClose(()=>n==null?void 0:n(Ta.CLOSED)),this.updateJoinPayload(Object.assign({config:j},x)),this.joinedOnce=!0,this._rejoin(s),this.joinPush.receive("ok",async({postgres_changes:_})=>{var k;if(this.socket._isManualToken()||this.socket.setAuth(),_===void 0){n==null||n(Ta.SUBSCRIBED);return}else{const D=this.bindings.postgres_changes,H=(k=D==null?void 0:D.length)!==null&&k!==void 0?k:0,B=[];for(let V=0;V<H;V++){const M=D[V],{filter:{event:X,schema:P,table:Z,filter:I}}=M,ge=_&&_[V];if(ge&&ge.event===X&&kl.isFilterValueEqual(ge.schema,P)&&kl.isFilterValueEqual(ge.table,Z)&&kl.isFilterValueEqual(ge.filter,I))B.push(Object.assign(Object.assign({},M),{id:ge.id}));else{this.unsubscribe(),this.state=ot.errored,n==null||n(Ta.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=B,n&&n(Ta.SUBSCRIBED);return}}).receive("error",_=>{this.state=ot.errored,n==null||n(Ta.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(_).join(", ")||"error")))}).receive("timeout",()=>{n==null||n(Ta.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(n,s={}){return await this.send({type:"presence",event:"track",payload:n},s.timeout||this.timeout)}async untrack(n={}){return await this.send({type:"presence",event:"untrack"},n)}on(n,s,r){return this.state===ot.joined&&n===Di.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(async()=>await this.subscribe())),this._on(n,s,r)}async httpSend(n,s,r={}){var c;if(s==null)return Promise.reject("Payload is required for httpSend()");const d={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(d.Authorization=`Bearer ${this.socket.accessTokenValue}`);const f={method:"POST",headers:d,body:JSON.stringify({messages:[{topic:this.subTopic,event:n,payload:s,private:this.private}]})},g=await this._fetchWithTimeout(this.broadcastEndpointURL,f,(c=r.timeout)!==null&&c!==void 0?c:this.timeout);if(g.status===202)return{success:!0};let y=g.statusText;try{const p=await g.json();y=p.error||p.message||y}catch{}return Promise.reject(new Error(y))}async send(n,s={}){var r,c;if(!this._canPush()&&n.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:d,payload:f}=n,g={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(g.Authorization=`Bearer ${this.socket.accessTokenValue}`);const y={method:"POST",headers:g,body:JSON.stringify({messages:[{topic:this.subTopic,event:d,payload:f,private:this.private}]})};try{const p=await this._fetchWithTimeout(this.broadcastEndpointURL,y,(r=s.timeout)!==null&&r!==void 0?r:this.timeout);return await((c=p.body)===null||c===void 0?void 0:c.cancel()),p.ok?"ok":"error"}catch(p){return p.name==="AbortError"?"timed out":"error"}}else return new Promise(d=>{var f,g,y;const p=this._push(n.type,n,s.timeout||this.timeout);n.type==="broadcast"&&!(!((y=(g=(f=this.params)===null||f===void 0?void 0:f.config)===null||g===void 0?void 0:g.broadcast)===null||y===void 0)&&y.ack)&&d("ok"),p.receive("ok",()=>d("ok")),p.receive("error",()=>d("error")),p.receive("timeout",()=>d("timed out"))})}updateJoinPayload(n){this.joinPush.updatePayload(n)}unsubscribe(n=this.timeout){this.state=ot.leaving;const s=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(aa.close,"leave",this._joinRef())};this.joinPush.destroy();let r=null;return new Promise(c=>{r=new Zu(this,aa.leave,{},n),r.receive("ok",()=>{s(),c("ok")}).receive("timeout",()=>{s(),c("timed out")}).receive("error",()=>{c("error")}),r.send(),this._canPush()||r.trigger("ok",{})}).finally(()=>{r==null||r.destroy()})}teardown(){this.pushBuffer.forEach(n=>n.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=ot.closed,this.bindings={}}async _fetchWithTimeout(n,s,r){const c=new AbortController,d=setTimeout(()=>c.abort(),r),f=await this.socket.fetch(n,Object.assign(Object.assign({},s),{signal:c.signal}));return clearTimeout(d),f}_push(n,s,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${n}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let c=new Zu(this,n,s,r);return this._canPush()?c.send():this._addToPushBuffer(c),c}_addToPushBuffer(n){if(n.startTimeout(),this.pushBuffer.push(n),this.pushBuffer.length>jb){const s=this.pushBuffer.shift();s&&(s.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${s.event}`,s.payload))}}_onMessage(n,s,r){return s}_isMember(n){return this.topic===n}_joinRef(){return this.joinPush.ref}_trigger(n,s,r){var c,d;const f=n.toLocaleLowerCase(),{close:g,error:y,leave:p,join:b}=aa;if(r&&[g,y,p,b].indexOf(f)>=0&&r!==this._joinRef())return;let j=this._onMessage(f,s,r);if(s&&!j)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(f)?(c=this.bindings.postgres_changes)===null||c===void 0||c.filter(_=>{var k,D,H;return((k=_.filter)===null||k===void 0?void 0:k.event)==="*"||((H=(D=_.filter)===null||D===void 0?void 0:D.event)===null||H===void 0?void 0:H.toLocaleLowerCase())===f}).map(_=>_.callback(j,r)):(d=this.bindings[f])===null||d===void 0||d.filter(_=>{var k,D,H,B,V,M;if(["broadcast","presence","postgres_changes"].includes(f))if("id"in _){const X=_.id,P=(k=_.filter)===null||k===void 0?void 0:k.event;return X&&((D=s.ids)===null||D===void 0?void 0:D.includes(X))&&(P==="*"||(P==null?void 0:P.toLocaleLowerCase())===((H=s.data)===null||H===void 0?void 0:H.type.toLocaleLowerCase()))}else{const X=(V=(B=_==null?void 0:_.filter)===null||B===void 0?void 0:B.event)===null||V===void 0?void 0:V.toLocaleLowerCase();return X==="*"||X===((M=s==null?void 0:s.event)===null||M===void 0?void 0:M.toLocaleLowerCase())}else return _.type.toLocaleLowerCase()===f}).map(_=>{if(typeof j=="object"&&"ids"in j){const k=j.data,{schema:D,table:H,commit_timestamp:B,type:V,errors:M}=k;j=Object.assign(Object.assign({},{schema:D,table:H,commit_timestamp:B,eventType:V,new:{},old:{},errors:M}),this._getPayloadRecords(k))}_.callback(j,r)})}_isClosed(){return this.state===ot.closed}_isJoined(){return this.state===ot.joined}_isJoining(){return this.state===ot.joining}_isLeaving(){return this.state===ot.leaving}_replyEventName(n){return`chan_reply_${n}`}_on(n,s,r){const c=n.toLocaleLowerCase(),d={type:c,filter:s,callback:r};return this.bindings[c]?this.bindings[c].push(d):this.bindings[c]=[d],this}_off(n,s){const r=n.toLocaleLowerCase();return this.bindings[r]&&(this.bindings[r]=this.bindings[r].filter(c=>{var d;return!(((d=c.type)===null||d===void 0?void 0:d.toLocaleLowerCase())===r&&kl.isEqual(c.filter,s))})),this}static isEqual(n,s){if(Object.keys(n).length!==Object.keys(s).length)return!1;for(const r in n)if(n[r]!==s[r])return!1;return!0}static isFilterValueEqual(n,s){return(n??void 0)===(s??void 0)}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(n){this._on(aa.close,{},n)}_onError(n){this._on(aa.error,{},s=>n(s))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(n=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=ot.joining,this.joinPush.resend(n))}_getPayloadRecords(n){const s={new:{},old:{}};return(n.type==="INSERT"||n.type==="UPDATE")&&(s.new=Km(n.columns,n.record)),(n.type==="UPDATE"||n.type==="DELETE")&&(s.old=Km(n.columns,n.old_record)),s}}const Pu=()=>{},dr={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},Cb=[1e3,2e3,5e3,1e4],Db=1e4,zb=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class Ub{constructor(n,s){var r;if(this.accessTokenValue=null,this.apiKey=null,this._manuallySetToken=!1,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=oc,this.transport=null,this.heartbeatIntervalMs=dr.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Pu,this.ref=0,this.reconnectTimer=null,this.vsn=$m,this.logger=Pu,this.conn=null,this.sendBuffer=[],this.serializer=new Eb,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._heartbeatSentAt=null,this._resolveFetch=c=>c?(...d)=>c(...d):(...d)=>fetch(...d),!(!((r=s==null?void 0:s.params)===null||r===void 0)&&r.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=s.params.apikey,this.endPoint=`${n}/${uc.websocket}`,this.httpEndpoint=Sg(n),this._initializeOptions(s),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(s==null?void 0:s.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=bb.createWebSocket(this.endpointURL())}catch(n){this._setConnectionState("disconnected");const s=n.message;throw s.includes("Node.js")?new Error(`${s}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${s}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(n,s){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const r=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(r),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(n?this.conn.close(n,s??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(n){const s=await n.unsubscribe();return s==="ok"&&this._remove(n),this.channels.length===0&&this.disconnect(),s}async removeAllChannels(){const n=await Promise.all(this.channels.map(s=>s.unsubscribe()));return this.channels=[],this.disconnect(),n}log(n,s,r){this.logger(n,s,r)}connectionState(){switch(this.conn&&this.conn.readyState){case nn.connecting:return Rn.Connecting;case nn.open:return Rn.Open;case nn.closing:return Rn.Closing;default:return Rn.Closed}}isConnected(){return this.connectionState()===Rn.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(n,s={config:{}}){const r=`realtime:${n}`,c=this.getChannels().find(d=>d.topic===r);if(c)return c;{const d=new kl(`realtime:${n}`,s,this);return this.channels.push(d),d}}push(n){const{topic:s,event:r,payload:c,ref:d}=n,f=()=>{this.encode(n,g=>{var y;(y=this.conn)===null||y===void 0||y.send(g)})};this.log("push",`${s} ${r} (${d})`,c),this.isConnected()?f():this.sendBuffer.push(f)}async setAuth(n=null){this._authPromise=this._performAuth(n);try{await this._authPromise}finally{this._authPromise=null}}_isManualToken(){return this._manuallySetToken}async sendHeartbeat(){var n;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(s){this.log("error","error in heartbeat callback",s)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this._heartbeatSentAt=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(s){this.log("error","error in heartbeat callback",s)}this._wasManualDisconnect=!1,(n=this.conn)===null||n===void 0||n.close(Sb,"heartbeat timeout"),setTimeout(()=>{var s;this.isConnected()||(s=this.reconnectTimer)===null||s===void 0||s.scheduleTimeout()},dr.HEARTBEAT_TIMEOUT_FALLBACK);return}this._heartbeatSentAt=Date.now(),this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(s){this.log("error","error in heartbeat callback",s)}this._setAuthSafely("heartbeat")}onHeartbeat(n){this.heartbeatCallback=n}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(n=>n()),this.sendBuffer=[])}_makeRef(){let n=this.ref+1;return n===this.ref?this.ref=0:this.ref=n,this.ref.toString()}_leaveOpenTopic(n){let s=this.channels.find(r=>r.topic===n&&(r._isJoined()||r._isJoining()));s&&(this.log("transport",`leaving duplicate topic "${n}"`),s.unsubscribe())}_remove(n){this.channels=this.channels.filter(s=>s.topic!==n.topic)}_onConnMessage(n){this.decode(n.data,s=>{if(s.topic==="phoenix"&&s.event==="phx_reply"&&s.ref&&s.ref===this.pendingHeartbeatRef){const p=this._heartbeatSentAt?Date.now()-this._heartbeatSentAt:void 0;try{this.heartbeatCallback(s.payload.status==="ok"?"ok":"error",p)}catch(b){this.log("error","error in heartbeat callback",b)}this._heartbeatSentAt=null,this.pendingHeartbeatRef=null}const{topic:r,event:c,payload:d,ref:f}=s,g=f?`(${f})`:"",y=d.status||"";this.log("receive",`${y} ${r} ${c} ${g}`.trim(),d),this.channels.filter(p=>p._isMember(r)).forEach(p=>p._trigger(c,d,f)),this._triggerStateCallbacks("message",s)})}_clearTimer(n){var s;n==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):n==="reconnect"&&((s=this.reconnectTimer)===null||s===void 0||s.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=n=>this._onConnError(n),this.conn.onmessage=n=>this._onConnMessage(n),this.conn.onclose=n=>this._onConnClose(n),this.conn.readyState===nn.open&&this._onConnOpen())}_teardownConnection(){if(this.conn){if(this.conn.readyState===nn.open||this.conn.readyState===nn.connecting)try{this.conn.close()}catch(n){this.log("error","Error closing connection",n)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this._terminateWorker(),this.channels.forEach(n=>n.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(s=>{this.log("error","error waiting for auth on connect",s),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const n=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(n),this.workerRef.onerror=s=>{this.log("worker","worker error",s.message),this._terminateWorker()},this.workerRef.onmessage=s=>{s.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_terminateWorker(){this.workerRef&&(this.log("worker","terminating worker"),this.workerRef.terminate(),this.workerRef=void 0)}_onConnClose(n){var s;this._setConnectionState("disconnected"),this.log("transport","close",n),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(s=this.reconnectTimer)===null||s===void 0||s.scheduleTimeout(),this._triggerStateCallbacks("close",n)}_onConnError(n){this._setConnectionState("disconnected"),this.log("transport",`${n}`),this._triggerChanError(),this._triggerStateCallbacks("error",n);try{this.heartbeatCallback("error")}catch(s){this.log("error","error in heartbeat callback",s)}}_triggerChanError(){this.channels.forEach(n=>n._trigger(aa.error))}_appendParams(n,s){if(Object.keys(s).length===0)return n;const r=n.match(/\?/)?"&":"?",c=new URLSearchParams(s);return`${n}${r}${c}`}_workerObjectUrl(n){let s;if(n)s=n;else{const r=new Blob([zb],{type:"application/javascript"});s=URL.createObjectURL(r)}return s}_setConnectionState(n,s=!1){this._connectionState=n,n==="connecting"?this._wasManualDisconnect=!1:n==="disconnecting"&&(this._wasManualDisconnect=s)}async _performAuth(n=null){let s,r=!1;if(n)s=n,r=!0;else if(this.accessToken)try{s=await this.accessToken()}catch(c){this.log("error","Error fetching access token from callback",c),s=this.accessTokenValue}else s=this.accessTokenValue;r?this._manuallySetToken=!0:this.accessToken&&(this._manuallySetToken=!1),this.accessTokenValue!=s&&(this.accessTokenValue=s,this.channels.forEach(c=>{const d={access_token:s,version:wb};s&&c.updateJoinPayload(d),c.joinedOnce&&c._isJoined()&&c._push(aa.access_token,{access_token:s})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(n="general"){this._isManualToken()||this.setAuth().catch(s=>{this.log("error",`Error setting auth in ${n}`,s)})}_triggerStateCallbacks(n,s){try{this.stateChangeCallbacks[n].forEach(r=>{try{r(s)}catch(c){this.log("error",`error in ${n} callback`,c)}})}catch(r){this.log("error",`error triggering ${n} callbacks`,r)}}_setupReconnectionTimer(){this.reconnectTimer=new wg(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},dr.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(n){var s,r,c,d,f,g,y,p,b,x,j,_;switch(this.transport=(s=n==null?void 0:n.transport)!==null&&s!==void 0?s:null,this.timeout=(r=n==null?void 0:n.timeout)!==null&&r!==void 0?r:oc,this.heartbeatIntervalMs=(c=n==null?void 0:n.heartbeatIntervalMs)!==null&&c!==void 0?c:dr.HEARTBEAT_INTERVAL,this.worker=(d=n==null?void 0:n.worker)!==null&&d!==void 0?d:!1,this.accessToken=(f=n==null?void 0:n.accessToken)!==null&&f!==void 0?f:null,this.heartbeatCallback=(g=n==null?void 0:n.heartbeatCallback)!==null&&g!==void 0?g:Pu,this.vsn=(y=n==null?void 0:n.vsn)!==null&&y!==void 0?y:$m,n!=null&&n.params&&(this.params=n.params),n!=null&&n.logger&&(this.logger=n.logger),(n!=null&&n.logLevel||n!=null&&n.log_level)&&(this.logLevel=n.logLevel||n.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(p=n==null?void 0:n.reconnectAfterMs)!==null&&p!==void 0?p:(k=>Cb[k-1]||Db),this.vsn){case _b:this.encode=(b=n==null?void 0:n.encode)!==null&&b!==void 0?b:((k,D)=>D(JSON.stringify(k))),this.decode=(x=n==null?void 0:n.decode)!==null&&x!==void 0?x:((k,D)=>D(JSON.parse(k)));break;case xg:this.encode=(j=n==null?void 0:n.encode)!==null&&j!==void 0?j:this.serializer.encode.bind(this.serializer),this.decode=(_=n==null?void 0:n.decode)!==null&&_!==void 0?_:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=n==null?void 0:n.workerUrl}}}var Mi=class extends Error{constructor(i,n){var s;super(i),this.name="IcebergError",this.status=n.status,this.icebergType=n.icebergType,this.icebergCode=n.icebergCode,this.details=n.details,this.isCommitStateUnknown=n.icebergType==="CommitStateUnknownException"||[500,502,504].includes(n.status)&&((s=n.icebergType)==null?void 0:s.includes("CommitState"))===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function Mb(i,n,s){const r=new URL(n,i);if(s)for(const[c,d]of Object.entries(s))d!==void 0&&r.searchParams.set(c,d);return r.toString()}async function Lb(i){return!i||i.type==="none"?{}:i.type==="bearer"?{Authorization:`Bearer ${i.token}`}:i.type==="header"?{[i.name]:i.value}:i.type==="custom"?await i.getHeaders():{}}function Bb(i){const n=i.fetchImpl??globalThis.fetch;return{async request({method:s,path:r,query:c,body:d,headers:f}){const g=Mb(i.baseUrl,r,c),y=await Lb(i.auth),p=await n(g,{method:s,headers:{...d?{"Content-Type":"application/json"}:{},...y,...f},body:d?JSON.stringify(d):void 0}),b=await p.text(),x=(p.headers.get("content-type")||"").includes("application/json"),j=x&&b?JSON.parse(b):b;if(!p.ok){const _=x?j:void 0,k=_==null?void 0:_.error;throw new Mi((k==null?void 0:k.message)??`Request failed with status ${p.status}`,{status:p.status,icebergType:k==null?void 0:k.type,icebergCode:k==null?void 0:k.code,details:_})}return{status:p.status,headers:p.headers,data:j}}}}function hr(i){return i.join("")}var qb=class{constructor(i,n=""){this.client=i,this.prefix=n}async listNamespaces(i){const n=i?{parent:hr(i.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:n})).data.namespaces.map(r=>({namespace:r}))}async createNamespace(i,n){const s={namespace:i.namespace,properties:n==null?void 0:n.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:s})).data}async dropNamespace(i){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${hr(i.namespace)}`})}async loadNamespaceMetadata(i){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${hr(i.namespace)}`})).data.properties}}async namespaceExists(i){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${hr(i.namespace)}`}),!0}catch(n){if(n instanceof Mi&&n.status===404)return!1;throw n}}async createNamespaceIfNotExists(i,n){try{return await this.createNamespace(i,n)}catch(s){if(s instanceof Mi&&s.status===409)return;throw s}}};function xl(i){return i.join("")}var Hb=class{constructor(i,n="",s){this.client=i,this.prefix=n,this.accessDelegation=s}async listTables(i){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${xl(i.namespace)}/tables`})).data.identifiers}async createTable(i,n){const s={};return this.accessDelegation&&(s["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${xl(i.namespace)}/tables`,body:n,headers:s})).data.metadata}async updateTable(i,n){const s=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${xl(i.namespace)}/tables/${i.name}`,body:n});return{"metadata-location":s.data["metadata-location"],metadata:s.data.metadata}}async dropTable(i,n){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${xl(i.namespace)}/tables/${i.name}`,query:{purgeRequested:String((n==null?void 0:n.purge)??!1)}})}async loadTable(i){const n={};return this.accessDelegation&&(n["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${xl(i.namespace)}/tables/${i.name}`,headers:n})).data.metadata}async tableExists(i){const n={};this.accessDelegation&&(n["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${xl(i.namespace)}/tables/${i.name}`,headers:n}),!0}catch(s){if(s instanceof Mi&&s.status===404)return!1;throw s}}async createTableIfNotExists(i,n){try{return await this.createTable(i,n)}catch(s){if(s instanceof Mi&&s.status===409)return await this.loadTable({namespace:i.namespace,name:n.name});throw s}}},Gb=class{constructor(i){var r;let n="v1";i.catalogName&&(n+=`/${i.catalogName}`);const s=i.baseUrl.endsWith("/")?i.baseUrl:`${i.baseUrl}/`;this.client=Bb({baseUrl:s,auth:i.auth,fetchImpl:i.fetch}),this.accessDelegation=(r=i.accessDelegation)==null?void 0:r.join(","),this.namespaceOps=new qb(this.client,n),this.tableOps=new Hb(this.client,n,this.accessDelegation)}async listNamespaces(i){return this.namespaceOps.listNamespaces(i)}async createNamespace(i,n){return this.namespaceOps.createNamespace(i,n)}async dropNamespace(i){await this.namespaceOps.dropNamespace(i)}async loadNamespaceMetadata(i){return this.namespaceOps.loadNamespaceMetadata(i)}async listTables(i){return this.tableOps.listTables(i)}async createTable(i,n){return this.tableOps.createTable(i,n)}async updateTable(i,n){return this.tableOps.updateTable(i,n)}async dropTable(i,n){await this.tableOps.dropTable(i,n)}async loadTable(i){return this.tableOps.loadTable(i)}async namespaceExists(i){return this.namespaceOps.namespaceExists(i)}async tableExists(i){return this.tableOps.tableExists(i)}async createNamespaceIfNotExists(i,n){return this.namespaceOps.createNamespaceIfNotExists(i,n)}async createTableIfNotExists(i,n){return this.tableOps.createTableIfNotExists(i,n)}},Tr=class extends Error{constructor(i,n="storage",s,r){super(i),this.__isStorageError=!0,this.namespace=n,this.name=n==="vectors"?"StorageVectorsError":"StorageError",this.status=s,this.statusCode=r}};function kr(i){return typeof i=="object"&&i!==null&&"__isStorageError"in i}var fr=class extends Tr{constructor(i,n,s,r="storage"){super(i,r,n,s),this.name=r==="vectors"?"StorageVectorsApiError":"StorageApiError",this.status=n,this.statusCode=s}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},jg=class extends Tr{constructor(i,n,s="storage"){super(i,s),this.name=s==="vectors"?"StorageVectorsUnknownError":"StorageUnknownError",this.originalError=n}};const $b=i=>i?(...n)=>i(...n):(...n)=>fetch(...n),Kb=i=>{if(typeof i!="object"||i===null)return!1;const n=Object.getPrototypeOf(i);return(n===null||n===Object.prototype||Object.getPrototypeOf(n)===null)&&!(Symbol.toStringTag in i)&&!(Symbol.iterator in i)},dc=i=>{if(Array.isArray(i))return i.map(s=>dc(s));if(typeof i=="function"||i!==Object(i))return i;const n={};return Object.entries(i).forEach(([s,r])=>{const c=s.replace(/([-_][a-z])/gi,d=>d.toUpperCase().replace(/[-_]/g,""));n[c]=dc(r)}),n},Vb=i=>!i||typeof i!="string"||i.length===0||i.length>100||i.trim()!==i||i.includes("/")||i.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(i);function Li(i){"@babel/helpers - typeof";return Li=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(n){return typeof n}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},Li(i)}function Yb(i,n){if(Li(i)!="object"||!i)return i;var s=i[Symbol.toPrimitive];if(s!==void 0){var r=s.call(i,n);if(Li(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(n==="string"?String:Number)(i)}function Ib(i){var n=Yb(i,"string");return Li(n)=="symbol"?n:n+""}function Qb(i,n,s){return(n=Ib(n))in i?Object.defineProperty(i,n,{value:s,enumerable:!0,configurable:!0,writable:!0}):i[n]=s,i}function Im(i,n){var s=Object.keys(i);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(i);n&&(r=r.filter(function(c){return Object.getOwnPropertyDescriptor(i,c).enumerable})),s.push.apply(s,r)}return s}function ce(i){for(var n=1;n<arguments.length;n++){var s=arguments[n]!=null?arguments[n]:{};n%2?Im(Object(s),!0).forEach(function(r){Qb(i,r,s[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(s)):Im(Object(s)).forEach(function(r){Object.defineProperty(i,r,Object.getOwnPropertyDescriptor(s,r))})}return i}const Qm=i=>{var n;return i.msg||i.message||i.error_description||(typeof i.error=="string"?i.error:(n=i.error)===null||n===void 0?void 0:n.message)||JSON.stringify(i)},Xb=async(i,n,s,r)=>{if(i&&typeof i=="object"&&"status"in i&&"ok"in i&&typeof i.status=="number"&&!(s!=null&&s.noResolveJson)){const c=i,d=c.status||500;if(typeof c.json=="function")c.json().then(f=>{const g=(f==null?void 0:f.statusCode)||(f==null?void 0:f.code)||d+"";n(new fr(Qm(f),d,g,r))}).catch(()=>{if(r==="vectors"){const f=d+"";n(new fr(c.statusText||`HTTP ${d} error`,d,f,r))}else{const f=d+"";n(new fr(c.statusText||`HTTP ${d} error`,d,f,r))}});else{const f=d+"";n(new fr(c.statusText||`HTTP ${d} error`,d,f,r))}}else n(new jg(Qm(i),i,r))},Jb=(i,n,s,r)=>{const c={method:i,headers:(n==null?void 0:n.headers)||{}};return i==="GET"||i==="HEAD"||!r?ce(ce({},c),s):(Kb(r)?(c.headers=ce({"Content-Type":"application/json"},n==null?void 0:n.headers),c.body=JSON.stringify(r)):c.body=r,n!=null&&n.duplex&&(c.duplex=n.duplex),ce(ce({},c),s))};async function Oi(i,n,s,r,c,d,f){return new Promise((g,y)=>{i(s,Jb(n,r,c,d)).then(p=>{if(!p.ok)throw p;if(r!=null&&r.noResolveJson)return p;if(f==="vectors"){const b=p.headers.get("content-type");if(p.headers.get("content-length")==="0"||p.status===204)return{};if(!b||!b.includes("application/json"))return{}}return p.json()}).then(p=>g(p)).catch(p=>Xb(p,y,r,f))})}function Eg(i="storage"){return{get:async(n,s,r,c)=>Oi(n,"GET",s,r,c,void 0,i),post:async(n,s,r,c,d)=>Oi(n,"POST",s,c,d,r,i),put:async(n,s,r,c,d)=>Oi(n,"PUT",s,c,d,r,i),head:async(n,s,r,c)=>Oi(n,"HEAD",s,ce(ce({},r),{},{noResolveJson:!0}),c,void 0,i),remove:async(n,s,r,c,d)=>Oi(n,"DELETE",s,c,d,r,i)}}const Zb=Eg("storage"),{get:Bi,post:ta,put:hc,head:Pb,remove:Sc}=Zb,Ht=Eg("vectors");var Cl=class{constructor(i,n={},s,r="storage"){this.shouldThrowOnError=!1,this.url=i,this.headers=n,this.fetch=$b(s),this.namespace=r}throwOnError(){return this.shouldThrowOnError=!0,this}async handleOperation(i){var n=this;try{return{data:await i(),error:null}}catch(s){if(n.shouldThrowOnError)throw s;if(kr(s))return{data:null,error:s};throw s}}},Wb=class{constructor(i,n){this.downloadFn=i,this.shouldThrowOnError=n}then(i,n){return this.execute().then(i,n)}async execute(){var i=this;try{return{data:(await i.downloadFn()).body,error:null}}catch(n){if(i.shouldThrowOnError)throw n;if(kr(n))return{data:null,error:n};throw n}}};let Ng;Ng=Symbol.toStringTag;var Fb=class{constructor(i,n){this.downloadFn=i,this.shouldThrowOnError=n,this[Ng]="BlobDownloadBuilder",this.promise=null}asStream(){return new Wb(this.downloadFn,this.shouldThrowOnError)}then(i,n){return this.getPromise().then(i,n)}catch(i){return this.getPromise().catch(i)}finally(i){return this.getPromise().finally(i)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}async execute(){var i=this;try{return{data:await(await i.downloadFn()).blob(),error:null}}catch(n){if(i.shouldThrowOnError)throw n;if(kr(n))return{data:null,error:n};throw n}}};const ex={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Xm={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};var tx=class extends Cl{constructor(i,n={},s,r){super(i,n,r,"storage"),this.bucketId=s}async uploadOrUpdate(i,n,s,r){var c=this;return c.handleOperation(async()=>{let d;const f=ce(ce({},Xm),r);let g=ce(ce({},c.headers),i==="POST"&&{"x-upsert":String(f.upsert)});const y=f.metadata;typeof Blob<"u"&&s instanceof Blob?(d=new FormData,d.append("cacheControl",f.cacheControl),y&&d.append("metadata",c.encodeMetadata(y)),d.append("",s)):typeof FormData<"u"&&s instanceof FormData?(d=s,d.has("cacheControl")||d.append("cacheControl",f.cacheControl),y&&!d.has("metadata")&&d.append("metadata",c.encodeMetadata(y))):(d=s,g["cache-control"]=`max-age=${f.cacheControl}`,g["content-type"]=f.contentType,y&&(g["x-metadata"]=c.toBase64(c.encodeMetadata(y))),(typeof ReadableStream<"u"&&d instanceof ReadableStream||d&&typeof d=="object"&&"pipe"in d&&typeof d.pipe=="function")&&!f.duplex&&(f.duplex="half")),r!=null&&r.headers&&(g=ce(ce({},g),r.headers));const p=c._removeEmptyFolders(n),b=c._getFinalPath(p),x=await(i=="PUT"?hc:ta)(c.fetch,`${c.url}/object/${b}`,d,ce({headers:g},f!=null&&f.duplex?{duplex:f.duplex}:{}));return{path:p,id:x.Id,fullPath:x.Key}})}async upload(i,n,s){return this.uploadOrUpdate("POST",i,n,s)}async uploadToSignedUrl(i,n,s,r){var c=this;const d=c._removeEmptyFolders(i),f=c._getFinalPath(d),g=new URL(c.url+`/object/upload/sign/${f}`);return g.searchParams.set("token",n),c.handleOperation(async()=>{let y;const p=ce({upsert:Xm.upsert},r),b=ce(ce({},c.headers),{"x-upsert":String(p.upsert)});return typeof Blob<"u"&&s instanceof Blob?(y=new FormData,y.append("cacheControl",p.cacheControl),y.append("",s)):typeof FormData<"u"&&s instanceof FormData?(y=s,y.append("cacheControl",p.cacheControl)):(y=s,b["cache-control"]=`max-age=${p.cacheControl}`,b["content-type"]=p.contentType),{path:d,fullPath:(await hc(c.fetch,g.toString(),y,{headers:b})).Key}})}async createSignedUploadUrl(i,n){var s=this;return s.handleOperation(async()=>{let r=s._getFinalPath(i);const c=ce({},s.headers);n!=null&&n.upsert&&(c["x-upsert"]="true");const d=await ta(s.fetch,`${s.url}/object/upload/sign/${r}`,{},{headers:c}),f=new URL(s.url+d.url),g=f.searchParams.get("token");if(!g)throw new Tr("No token returned by API");return{signedUrl:f.toString(),path:i,token:g}})}async update(i,n,s){return this.uploadOrUpdate("PUT",i,n,s)}async move(i,n,s){var r=this;return r.handleOperation(async()=>await ta(r.fetch,`${r.url}/object/move`,{bucketId:r.bucketId,sourceKey:i,destinationKey:n,destinationBucket:s==null?void 0:s.destinationBucket},{headers:r.headers}))}async copy(i,n,s){var r=this;return r.handleOperation(async()=>({path:(await ta(r.fetch,`${r.url}/object/copy`,{bucketId:r.bucketId,sourceKey:i,destinationKey:n,destinationBucket:s==null?void 0:s.destinationBucket},{headers:r.headers})).Key}))}async createSignedUrl(i,n,s){var r=this;return r.handleOperation(async()=>{let c=r._getFinalPath(i),d=await ta(r.fetch,`${r.url}/object/sign/${c}`,ce({expiresIn:n},s!=null&&s.transform?{transform:s.transform}:{}),{headers:r.headers});const f=s!=null&&s.download?`&download=${s.download===!0?"":s.download}`:"";return{signedUrl:encodeURI(`${r.url}${d.signedURL}${f}`)}})}async createSignedUrls(i,n,s){var r=this;return r.handleOperation(async()=>{const c=await ta(r.fetch,`${r.url}/object/sign/${r.bucketId}`,{expiresIn:n,paths:i},{headers:r.headers}),d=s!=null&&s.download?`&download=${s.download===!0?"":s.download}`:"";return c.map(f=>ce(ce({},f),{},{signedUrl:f.signedURL?encodeURI(`${r.url}${f.signedURL}${d}`):null}))})}download(i,n,s){const r=typeof(n==null?void 0:n.transform)<"u"?"render/image/authenticated":"object",c=this.transformOptsToQueryString((n==null?void 0:n.transform)||{}),d=c?`?${c}`:"",f=this._getFinalPath(i),g=()=>Bi(this.fetch,`${this.url}/${r}/${f}${d}`,{headers:this.headers,noResolveJson:!0},s);return new Fb(g,this.shouldThrowOnError)}async info(i){var n=this;const s=n._getFinalPath(i);return n.handleOperation(async()=>dc(await Bi(n.fetch,`${n.url}/object/info/${s}`,{headers:n.headers})))}async exists(i){var n=this;const s=n._getFinalPath(i);try{return await Pb(n.fetch,`${n.url}/object/${s}`,{headers:n.headers}),{data:!0,error:null}}catch(r){if(n.shouldThrowOnError)throw r;if(kr(r)&&r instanceof jg){const c=r.originalError;if([400,404].includes(c==null?void 0:c.status))return{data:!1,error:r}}throw r}}getPublicUrl(i,n){const s=this._getFinalPath(i),r=[],c=n!=null&&n.download?`download=${n.download===!0?"":n.download}`:"";c!==""&&r.push(c);const d=typeof(n==null?void 0:n.transform)<"u"?"render/image":"object",f=this.transformOptsToQueryString((n==null?void 0:n.transform)||{});f!==""&&r.push(f);let g=r.join("&");return g!==""&&(g=`?${g}`),{data:{publicUrl:encodeURI(`${this.url}/${d}/public/${s}${g}`)}}}async remove(i){var n=this;return n.handleOperation(async()=>await Sc(n.fetch,`${n.url}/object/${n.bucketId}`,{prefixes:i},{headers:n.headers}))}async list(i,n,s){var r=this;return r.handleOperation(async()=>{const c=ce(ce(ce({},ex),n),{},{prefix:i||""});return await ta(r.fetch,`${r.url}/object/list/${r.bucketId}`,c,{headers:r.headers},s)})}async listV2(i,n){var s=this;return s.handleOperation(async()=>{const r=ce({},i);return await ta(s.fetch,`${s.url}/object/list-v2/${s.bucketId}`,r,{headers:s.headers},n)})}encodeMetadata(i){return JSON.stringify(i)}toBase64(i){return typeof Buffer<"u"?Buffer.from(i).toString("base64"):btoa(i)}_getFinalPath(i){return`${this.bucketId}/${i.replace(/^\/+/,"")}`}_removeEmptyFolders(i){return i.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(i){const n=[];return i.width&&n.push(`width=${i.width}`),i.height&&n.push(`height=${i.height}`),i.resize&&n.push(`resize=${i.resize}`),i.format&&n.push(`format=${i.format}`),i.quality&&n.push(`quality=${i.quality}`),n.join("&")}};const ax="2.95.3",Vi={"X-Client-Info":`storage-js/${ax}`};var nx=class extends Cl{constructor(i,n={},s,r){const c=new URL(i);r!=null&&r.useNewHostname&&/supabase\.(co|in|red)$/.test(c.hostname)&&!c.hostname.includes("storage.supabase.")&&(c.hostname=c.hostname.replace("supabase.","storage.supabase."));const d=c.href.replace(/\/$/,""),f=ce(ce({},Vi),n);super(d,f,s,"storage")}async listBuckets(i){var n=this;return n.handleOperation(async()=>{const s=n.listBucketOptionsToQueryString(i);return await Bi(n.fetch,`${n.url}/bucket${s}`,{headers:n.headers})})}async getBucket(i){var n=this;return n.handleOperation(async()=>await Bi(n.fetch,`${n.url}/bucket/${i}`,{headers:n.headers}))}async createBucket(i,n={public:!1}){var s=this;return s.handleOperation(async()=>await ta(s.fetch,`${s.url}/bucket`,{id:i,name:i,type:n.type,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:s.headers}))}async updateBucket(i,n){var s=this;return s.handleOperation(async()=>await hc(s.fetch,`${s.url}/bucket/${i}`,{id:i,name:i,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:s.headers}))}async emptyBucket(i){var n=this;return n.handleOperation(async()=>await ta(n.fetch,`${n.url}/bucket/${i}/empty`,{},{headers:n.headers}))}async deleteBucket(i){var n=this;return n.handleOperation(async()=>await Sc(n.fetch,`${n.url}/bucket/${i}`,{},{headers:n.headers}))}listBucketOptionsToQueryString(i){const n={};return i&&("limit"in i&&(n.limit=String(i.limit)),"offset"in i&&(n.offset=String(i.offset)),i.search&&(n.search=i.search),i.sortColumn&&(n.sortColumn=i.sortColumn),i.sortOrder&&(n.sortOrder=i.sortOrder)),Object.keys(n).length>0?"?"+new URLSearchParams(n).toString():""}},lx=class extends Cl{constructor(i,n={},s){const r=i.replace(/\/$/,""),c=ce(ce({},Vi),n);super(r,c,s,"storage")}async createBucket(i){var n=this;return n.handleOperation(async()=>await ta(n.fetch,`${n.url}/bucket`,{name:i},{headers:n.headers}))}async listBuckets(i){var n=this;return n.handleOperation(async()=>{const s=new URLSearchParams;(i==null?void 0:i.limit)!==void 0&&s.set("limit",i.limit.toString()),(i==null?void 0:i.offset)!==void 0&&s.set("offset",i.offset.toString()),i!=null&&i.sortColumn&&s.set("sortColumn",i.sortColumn),i!=null&&i.sortOrder&&s.set("sortOrder",i.sortOrder),i!=null&&i.search&&s.set("search",i.search);const r=s.toString(),c=r?`${n.url}/bucket?${r}`:`${n.url}/bucket`;return await Bi(n.fetch,c,{headers:n.headers})})}async deleteBucket(i){var n=this;return n.handleOperation(async()=>await Sc(n.fetch,`${n.url}/bucket/${i}`,{},{headers:n.headers}))}from(i){var n=this;if(!Vb(i))throw new Tr("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");const s=new Gb({baseUrl:this.url,catalogName:i,auth:{type:"custom",getHeaders:async()=>n.headers},fetch:this.fetch}),r=this.shouldThrowOnError;return new Proxy(s,{get(c,d){const f=c[d];return typeof f!="function"?f:async(...g)=>{try{return{data:await f.apply(c,g),error:null}}catch(y){if(r)throw y;return{data:null,error:y}}}}})}},ix=class extends Cl{constructor(i,n={},s){const r=i.replace(/\/$/,""),c=ce(ce({},Vi),{},{"Content-Type":"application/json"},n);super(r,c,s,"vectors")}async createIndex(i){var n=this;return n.handleOperation(async()=>await Ht.post(n.fetch,`${n.url}/CreateIndex`,i,{headers:n.headers})||{})}async getIndex(i,n){var s=this;return s.handleOperation(async()=>await Ht.post(s.fetch,`${s.url}/GetIndex`,{vectorBucketName:i,indexName:n},{headers:s.headers}))}async listIndexes(i){var n=this;return n.handleOperation(async()=>await Ht.post(n.fetch,`${n.url}/ListIndexes`,i,{headers:n.headers}))}async deleteIndex(i,n){var s=this;return s.handleOperation(async()=>await Ht.post(s.fetch,`${s.url}/DeleteIndex`,{vectorBucketName:i,indexName:n},{headers:s.headers})||{})}},sx=class extends Cl{constructor(i,n={},s){const r=i.replace(/\/$/,""),c=ce(ce({},Vi),{},{"Content-Type":"application/json"},n);super(r,c,s,"vectors")}async putVectors(i){var n=this;if(i.vectors.length<1||i.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return n.handleOperation(async()=>await Ht.post(n.fetch,`${n.url}/PutVectors`,i,{headers:n.headers})||{})}async getVectors(i){var n=this;return n.handleOperation(async()=>await Ht.post(n.fetch,`${n.url}/GetVectors`,i,{headers:n.headers}))}async listVectors(i){var n=this;if(i.segmentCount!==void 0){if(i.segmentCount<1||i.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(i.segmentIndex!==void 0&&(i.segmentIndex<0||i.segmentIndex>=i.segmentCount))throw new Error(`segmentIndex must be between 0 and ${i.segmentCount-1}`)}return n.handleOperation(async()=>await Ht.post(n.fetch,`${n.url}/ListVectors`,i,{headers:n.headers}))}async queryVectors(i){var n=this;return n.handleOperation(async()=>await Ht.post(n.fetch,`${n.url}/QueryVectors`,i,{headers:n.headers}))}async deleteVectors(i){var n=this;if(i.keys.length<1||i.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return n.handleOperation(async()=>await Ht.post(n.fetch,`${n.url}/DeleteVectors`,i,{headers:n.headers})||{})}},rx=class extends Cl{constructor(i,n={},s){const r=i.replace(/\/$/,""),c=ce(ce({},Vi),{},{"Content-Type":"application/json"},n);super(r,c,s,"vectors")}async createBucket(i){var n=this;return n.handleOperation(async()=>await Ht.post(n.fetch,`${n.url}/CreateVectorBucket`,{vectorBucketName:i},{headers:n.headers})||{})}async getBucket(i){var n=this;return n.handleOperation(async()=>await Ht.post(n.fetch,`${n.url}/GetVectorBucket`,{vectorBucketName:i},{headers:n.headers}))}async listBuckets(i={}){var n=this;return n.handleOperation(async()=>await Ht.post(n.fetch,`${n.url}/ListVectorBuckets`,i,{headers:n.headers}))}async deleteBucket(i){var n=this;return n.handleOperation(async()=>await Ht.post(n.fetch,`${n.url}/DeleteVectorBucket`,{vectorBucketName:i},{headers:n.headers})||{})}},ox=class extends rx{constructor(i,n={}){super(i,n.headers||{},n.fetch)}from(i){return new ux(this.url,this.headers,i,this.fetch)}async createBucket(i){var n=()=>super.createBucket,s=this;return n().call(s,i)}async getBucket(i){var n=()=>super.getBucket,s=this;return n().call(s,i)}async listBuckets(i={}){var n=()=>super.listBuckets,s=this;return n().call(s,i)}async deleteBucket(i){var n=()=>super.deleteBucket,s=this;return n().call(s,i)}},ux=class extends ix{constructor(i,n,s,r){super(i,n,r),this.vectorBucketName=s}async createIndex(i){var n=()=>super.createIndex,s=this;return n().call(s,ce(ce({},i),{},{vectorBucketName:s.vectorBucketName}))}async listIndexes(i={}){var n=()=>super.listIndexes,s=this;return n().call(s,ce(ce({},i),{},{vectorBucketName:s.vectorBucketName}))}async getIndex(i){var n=()=>super.getIndex,s=this;return n().call(s,s.vectorBucketName,i)}async deleteIndex(i){var n=()=>super.deleteIndex,s=this;return n().call(s,s.vectorBucketName,i)}index(i){return new cx(this.url,this.headers,this.vectorBucketName,i,this.fetch)}},cx=class extends sx{constructor(i,n,s,r,c){super(i,n,c),this.vectorBucketName=s,this.indexName=r}async putVectors(i){var n=()=>super.putVectors,s=this;return n().call(s,ce(ce({},i),{},{vectorBucketName:s.vectorBucketName,indexName:s.indexName}))}async getVectors(i){var n=()=>super.getVectors,s=this;return n().call(s,ce(ce({},i),{},{vectorBucketName:s.vectorBucketName,indexName:s.indexName}))}async listVectors(i={}){var n=()=>super.listVectors,s=this;return n().call(s,ce(ce({},i),{},{vectorBucketName:s.vectorBucketName,indexName:s.indexName}))}async queryVectors(i){var n=()=>super.queryVectors,s=this;return n().call(s,ce(ce({},i),{},{vectorBucketName:s.vectorBucketName,indexName:s.indexName}))}async deleteVectors(i){var n=()=>super.deleteVectors,s=this;return n().call(s,ce(ce({},i),{},{vectorBucketName:s.vectorBucketName,indexName:s.indexName}))}},dx=class extends nx{constructor(i,n={},s,r){super(i,n,s,r)}from(i){return new tx(this.url,this.headers,i,this.fetch)}get vectors(){return new ox(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new lx(this.url+"/iceberg",this.headers,this.fetch)}};const Ag="2.95.3",Al=30*1e3,fc=3,Wu=fc*Al,hx="http://localhost:9999",fx="supabase.auth.token",mx={"X-Client-Info":`gotrue-js/${Ag}`},mc="X-Supabase-Api-Version",Tg={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},gx=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,yx=600*1e3;class qi extends Error{constructor(n,s,r){super(n),this.__isAuthError=!0,this.name="AuthError",this.status=s,this.code=r}}function le(i){return typeof i=="object"&&i!==null&&"__isAuthError"in i}class px extends qi{constructor(n,s,r){super(n,s,r),this.name="AuthApiError",this.status=s,this.code=r}}function vx(i){return le(i)&&i.name==="AuthApiError"}class Cn extends qi{constructor(n,s){super(n),this.name="AuthUnknownError",this.originalError=s}}class Ra extends qi{constructor(n,s,r,c){super(n,r,c),this.name=s,this.status=r}}class qt extends Ra{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function Fu(i){return le(i)&&i.name==="AuthSessionMissingError"}class wl extends Ra{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class mr extends Ra{constructor(n){super(n,"AuthInvalidCredentialsError",400,void 0)}}class gr extends Ra{constructor(n,s=null){super(n,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=s}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function bx(i){return le(i)&&i.name==="AuthImplicitGrantRedirectError"}class Jm extends Ra{constructor(n,s=null){super(n,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=s}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class xx extends Ra{constructor(){super("PKCE code verifier not found in storage. This can happen if the auth flow was initiated in a different browser or device, or if the storage was cleared. For SSR frameworks (Next.js, SvelteKit, etc.), use @supabase/ssr on both the server and client to store the code verifier in cookies.","AuthPKCECodeVerifierMissingError",400,"pkce_code_verifier_not_found")}}class gc extends Ra{constructor(n,s){super(n,"AuthRetryableFetchError",s,void 0)}}function ec(i){return le(i)&&i.name==="AuthRetryableFetchError"}class Zm extends Ra{constructor(n,s,r){super(n,"AuthWeakPasswordError",s,"weak_password"),this.reasons=r}}class yc extends Ra{constructor(n){super(n,"AuthInvalidJwtError",400,"invalid_jwt")}}const xr="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Pm=` 	
\r=`.split(""),wx=(()=>{const i=new Array(128);for(let n=0;n<i.length;n+=1)i[n]=-1;for(let n=0;n<Pm.length;n+=1)i[Pm[n].charCodeAt(0)]=-2;for(let n=0;n<xr.length;n+=1)i[xr[n].charCodeAt(0)]=n;return i})();function Wm(i,n,s){if(i!==null)for(n.queue=n.queue<<8|i,n.queuedBits+=8;n.queuedBits>=6;){const r=n.queue>>n.queuedBits-6&63;s(xr[r]),n.queuedBits-=6}else if(n.queuedBits>0)for(n.queue=n.queue<<6-n.queuedBits,n.queuedBits=6;n.queuedBits>=6;){const r=n.queue>>n.queuedBits-6&63;s(xr[r]),n.queuedBits-=6}}function kg(i,n,s){const r=wx[i];if(r>-1)for(n.queue=n.queue<<6|r,n.queuedBits+=6;n.queuedBits>=8;)s(n.queue>>n.queuedBits-8&255),n.queuedBits-=8;else{if(r===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(i)}"`)}}function Fm(i){const n=[],s=f=>{n.push(String.fromCodePoint(f))},r={utf8seq:0,codepoint:0},c={queue:0,queuedBits:0},d=f=>{jx(f,r,s)};for(let f=0;f<i.length;f+=1)kg(i.charCodeAt(f),c,d);return n.join("")}function _x(i,n){if(i<=127){n(i);return}else if(i<=2047){n(192|i>>6),n(128|i&63);return}else if(i<=65535){n(224|i>>12),n(128|i>>6&63),n(128|i&63);return}else if(i<=1114111){n(240|i>>18),n(128|i>>12&63),n(128|i>>6&63),n(128|i&63);return}throw new Error(`Unrecognized Unicode codepoint: ${i.toString(16)}`)}function Sx(i,n){for(let s=0;s<i.length;s+=1){let r=i.charCodeAt(s);if(r>55295&&r<=56319){const c=(r-55296)*1024&65535;r=(i.charCodeAt(s+1)-56320&65535|c)+65536,s+=1}_x(r,n)}}function jx(i,n,s){if(n.utf8seq===0){if(i<=127){s(i);return}for(let r=1;r<6;r+=1)if((i>>7-r&1)===0){n.utf8seq=r;break}if(n.utf8seq===2)n.codepoint=i&31;else if(n.utf8seq===3)n.codepoint=i&15;else if(n.utf8seq===4)n.codepoint=i&7;else throw new Error("Invalid UTF-8 sequence");n.utf8seq-=1}else if(n.utf8seq>0){if(i<=127)throw new Error("Invalid UTF-8 sequence");n.codepoint=n.codepoint<<6|i&63,n.utf8seq-=1,n.utf8seq===0&&s(n.codepoint)}}function Rl(i){const n=[],s={queue:0,queuedBits:0},r=c=>{n.push(c)};for(let c=0;c<i.length;c+=1)kg(i.charCodeAt(c),s,r);return new Uint8Array(n)}function Ex(i){const n=[];return Sx(i,s=>n.push(s)),new Uint8Array(n)}function Dn(i){const n=[],s={queue:0,queuedBits:0},r=c=>{n.push(c)};return i.forEach(c=>Wm(c,s,r)),Wm(null,s,r),n.join("")}function Nx(i){return Math.round(Date.now()/1e3)+i}function Ax(){return Symbol("auth-callback")}const bt=()=>typeof window<"u"&&typeof document<"u",Tn={tested:!1,writable:!1},Og=()=>{if(!bt())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Tn.tested)return Tn.writable;const i=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(i,i),globalThis.localStorage.removeItem(i),Tn.tested=!0,Tn.writable=!0}catch{Tn.tested=!0,Tn.writable=!1}return Tn.writable};function Tx(i){const n={},s=new URL(i);if(s.hash&&s.hash[0]==="#")try{new URLSearchParams(s.hash.substring(1)).forEach((c,d)=>{n[d]=c})}catch{}return s.searchParams.forEach((r,c)=>{n[c]=r}),n}const Rg=i=>i?(...n)=>i(...n):(...n)=>fetch(...n),kx=i=>typeof i=="object"&&i!==null&&"status"in i&&"ok"in i&&"json"in i&&typeof i.json=="function",Tl=async(i,n,s)=>{await i.setItem(n,JSON.stringify(s))},kn=async(i,n)=>{const s=await i.getItem(n);if(!s)return null;try{return JSON.parse(s)}catch{return s}},vt=async(i,n)=>{await i.removeItem(n)};class Or{constructor(){this.promise=new Or.promiseConstructor((n,s)=>{this.resolve=n,this.reject=s})}}Or.promiseConstructor=Promise;function yr(i){const n=i.split(".");if(n.length!==3)throw new yc("Invalid JWT structure");for(let r=0;r<n.length;r++)if(!gx.test(n[r]))throw new yc("JWT not in base64url format");return{header:JSON.parse(Fm(n[0])),payload:JSON.parse(Fm(n[1])),signature:Rl(n[2]),raw:{header:n[0],payload:n[1]}}}async function Ox(i){return await new Promise(n=>{setTimeout(()=>n(null),i)})}function Rx(i,n){return new Promise((r,c)=>{(async()=>{for(let d=0;d<1/0;d++)try{const f=await i(d);if(!n(d,null,f)){r(f);return}}catch(f){if(!n(d,f)){c(f);return}}})()})}function Cx(i){return("0"+i.toString(16)).substr(-2)}function Dx(){const n=new Uint32Array(56);if(typeof crypto>"u"){const s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=s.length;let c="";for(let d=0;d<56;d++)c+=s.charAt(Math.floor(Math.random()*r));return c}return crypto.getRandomValues(n),Array.from(n,Cx).join("")}async function zx(i){const s=new TextEncoder().encode(i),r=await crypto.subtle.digest("SHA-256",s),c=new Uint8Array(r);return Array.from(c).map(d=>String.fromCharCode(d)).join("")}async function Ux(i){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),i;const s=await zx(i);return btoa(s).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function _l(i,n,s=!1){const r=Dx();let c=r;s&&(c+="/PASSWORD_RECOVERY"),await Tl(i,`${n}-code-verifier`,c);const d=await Ux(r);return[d,r===d?"plain":"s256"]}const Mx=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function Lx(i){const n=i.headers.get(mc);if(!n||!n.match(Mx))return null;try{return new Date(`${n}T00:00:00.0Z`)}catch{return null}}function Bx(i){if(!i)throw new Error("Missing exp claim");const n=Math.floor(Date.now()/1e3);if(i<=n)throw new Error("JWT has expired")}function qx(i){switch(i){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const Hx=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Sl(i){if(!Hx.test(i))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function tc(){const i={};return new Proxy(i,{get:(n,s)=>{if(s==="__isUserNotAvailableProxy")return!0;if(typeof s=="symbol"){const r=s.toString();if(r==="Symbol(Symbol.toPrimitive)"||r==="Symbol(Symbol.toStringTag)"||r==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${s}" property of the session object is not supported. Please use getUser() instead.`)},set:(n,s)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${s}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(n,s)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${s}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function Gx(i,n){return new Proxy(i,{get:(s,r,c)=>{if(r==="__isInsecureUserWarningProxy")return!0;if(typeof r=="symbol"){const d=r.toString();if(d==="Symbol(Symbol.toPrimitive)"||d==="Symbol(Symbol.toStringTag)"||d==="Symbol(util.inspect.custom)"||d==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(s,r,c)}return!n.value&&typeof r=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),n.value=!0),Reflect.get(s,r,c)}})}function eg(i){return JSON.parse(JSON.stringify(i))}const On=i=>i.msg||i.message||i.error_description||i.error||JSON.stringify(i),$x=[502,503,504];async function tg(i){var n;if(!kx(i))throw new gc(On(i),0);if($x.includes(i.status))throw new gc(On(i),i.status);let s;try{s=await i.json()}catch(d){throw new Cn(On(d),d)}let r;const c=Lx(i);if(c&&c.getTime()>=Tg["2024-01-01"].timestamp&&typeof s=="object"&&s&&typeof s.code=="string"?r=s.code:typeof s=="object"&&s&&typeof s.error_code=="string"&&(r=s.error_code),r){if(r==="weak_password")throw new Zm(On(s),i.status,((n=s.weak_password)===null||n===void 0?void 0:n.reasons)||[]);if(r==="session_not_found")throw new qt}else if(typeof s=="object"&&s&&typeof s.weak_password=="object"&&s.weak_password&&Array.isArray(s.weak_password.reasons)&&s.weak_password.reasons.length&&s.weak_password.reasons.reduce((d,f)=>d&&typeof f=="string",!0))throw new Zm(On(s),i.status,s.weak_password.reasons);throw new px(On(s),i.status||500,r)}const Kx=(i,n,s,r)=>{const c={method:i,headers:(n==null?void 0:n.headers)||{}};return i==="GET"?c:(c.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},n==null?void 0:n.headers),c.body=JSON.stringify(r),Object.assign(Object.assign({},c),s))};async function oe(i,n,s,r){var c;const d=Object.assign({},r==null?void 0:r.headers);d[mc]||(d[mc]=Tg["2024-01-01"].name),r!=null&&r.jwt&&(d.Authorization=`Bearer ${r.jwt}`);const f=(c=r==null?void 0:r.query)!==null&&c!==void 0?c:{};r!=null&&r.redirectTo&&(f.redirect_to=r.redirectTo);const g=Object.keys(f).length?"?"+new URLSearchParams(f).toString():"",y=await Vx(i,n,s+g,{headers:d,noResolveJson:r==null?void 0:r.noResolveJson},{},r==null?void 0:r.body);return r!=null&&r.xform?r==null?void 0:r.xform(y):{data:Object.assign({},y),error:null}}async function Vx(i,n,s,r,c,d){const f=Kx(n,r,c,d);let g;try{g=await i(s,Object.assign({},f))}catch(y){throw console.error(y),new gc(On(y),0)}if(g.ok||await tg(g),r!=null&&r.noResolveJson)return g;try{return await g.json()}catch(y){await tg(y)}}function ea(i){var n;let s=null;Qx(i)&&(s=Object.assign({},i),i.expires_at||(s.expires_at=Nx(i.expires_in)));const r=(n=i.user)!==null&&n!==void 0?n:i;return{data:{session:s,user:r},error:null}}function ag(i){const n=ea(i);return!n.error&&i.weak_password&&typeof i.weak_password=="object"&&Array.isArray(i.weak_password.reasons)&&i.weak_password.reasons.length&&i.weak_password.message&&typeof i.weak_password.message=="string"&&i.weak_password.reasons.reduce((s,r)=>s&&typeof r=="string",!0)&&(n.data.weak_password=i.weak_password),n}function sn(i){var n;return{data:{user:(n=i.user)!==null&&n!==void 0?n:i},error:null}}function Yx(i){return{data:i,error:null}}function Ix(i){const{action_link:n,email_otp:s,hashed_token:r,redirect_to:c,verification_type:d}=i,f=Ar(i,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),g={action_link:n,email_otp:s,hashed_token:r,redirect_to:c,verification_type:d},y=Object.assign({},f);return{data:{properties:g,user:y},error:null}}function ng(i){return i}function Qx(i){return i.access_token&&i.refresh_token&&i.expires_in}const ac=["global","local","others"];class Xx{constructor({url:n="",headers:s={},fetch:r}){this.url=n,this.headers=s,this.fetch=Rg(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(n,s=ac[0]){if(ac.indexOf(s)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${ac.join(", ")}`);try{return await oe(this.fetch,"POST",`${this.url}/logout?scope=${s}`,{headers:this.headers,jwt:n,noResolveJson:!0}),{data:null,error:null}}catch(r){if(le(r))return{data:null,error:r};throw r}}async inviteUserByEmail(n,s={}){try{return await oe(this.fetch,"POST",`${this.url}/invite`,{body:{email:n,data:s.data},headers:this.headers,redirectTo:s.redirectTo,xform:sn})}catch(r){if(le(r))return{data:{user:null},error:r};throw r}}async generateLink(n){try{const{options:s}=n,r=Ar(n,["options"]),c=Object.assign(Object.assign({},r),s);return"newEmail"in r&&(c.new_email=r==null?void 0:r.newEmail,delete c.newEmail),await oe(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:c,headers:this.headers,xform:Ix,redirectTo:s==null?void 0:s.redirectTo})}catch(s){if(le(s))return{data:{properties:null,user:null},error:s};throw s}}async createUser(n){try{return await oe(this.fetch,"POST",`${this.url}/admin/users`,{body:n,headers:this.headers,xform:sn})}catch(s){if(le(s))return{data:{user:null},error:s};throw s}}async listUsers(n){var s,r,c,d,f,g,y;try{const p={nextPage:null,lastPage:0,total:0},b=await oe(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(s=n==null?void 0:n.page)===null||s===void 0?void 0:s.toString())!==null&&r!==void 0?r:"",per_page:(d=(c=n==null?void 0:n.perPage)===null||c===void 0?void 0:c.toString())!==null&&d!==void 0?d:""},xform:ng});if(b.error)throw b.error;const x=await b.json(),j=(f=b.headers.get("x-total-count"))!==null&&f!==void 0?f:0,_=(y=(g=b.headers.get("link"))===null||g===void 0?void 0:g.split(","))!==null&&y!==void 0?y:[];return _.length>0&&(_.forEach(k=>{const D=parseInt(k.split(";")[0].split("=")[1].substring(0,1)),H=JSON.parse(k.split(";")[1].split("=")[1]);p[`${H}Page`]=D}),p.total=parseInt(j)),{data:Object.assign(Object.assign({},x),p),error:null}}catch(p){if(le(p))return{data:{users:[]},error:p};throw p}}async getUserById(n){Sl(n);try{return await oe(this.fetch,"GET",`${this.url}/admin/users/${n}`,{headers:this.headers,xform:sn})}catch(s){if(le(s))return{data:{user:null},error:s};throw s}}async updateUserById(n,s){Sl(n);try{return await oe(this.fetch,"PUT",`${this.url}/admin/users/${n}`,{body:s,headers:this.headers,xform:sn})}catch(r){if(le(r))return{data:{user:null},error:r};throw r}}async deleteUser(n,s=!1){Sl(n);try{return await oe(this.fetch,"DELETE",`${this.url}/admin/users/${n}`,{headers:this.headers,body:{should_soft_delete:s},xform:sn})}catch(r){if(le(r))return{data:{user:null},error:r};throw r}}async _listFactors(n){Sl(n.userId);try{const{data:s,error:r}=await oe(this.fetch,"GET",`${this.url}/admin/users/${n.userId}/factors`,{headers:this.headers,xform:c=>({data:{factors:c},error:null})});return{data:s,error:r}}catch(s){if(le(s))return{data:null,error:s};throw s}}async _deleteFactor(n){Sl(n.userId),Sl(n.id);try{return{data:await oe(this.fetch,"DELETE",`${this.url}/admin/users/${n.userId}/factors/${n.id}`,{headers:this.headers}),error:null}}catch(s){if(le(s))return{data:null,error:s};throw s}}async _listOAuthClients(n){var s,r,c,d,f,g,y;try{const p={nextPage:null,lastPage:0,total:0},b=await oe(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(s=n==null?void 0:n.page)===null||s===void 0?void 0:s.toString())!==null&&r!==void 0?r:"",per_page:(d=(c=n==null?void 0:n.perPage)===null||c===void 0?void 0:c.toString())!==null&&d!==void 0?d:""},xform:ng});if(b.error)throw b.error;const x=await b.json(),j=(f=b.headers.get("x-total-count"))!==null&&f!==void 0?f:0,_=(y=(g=b.headers.get("link"))===null||g===void 0?void 0:g.split(","))!==null&&y!==void 0?y:[];return _.length>0&&(_.forEach(k=>{const D=parseInt(k.split(";")[0].split("=")[1].substring(0,1)),H=JSON.parse(k.split(";")[1].split("=")[1]);p[`${H}Page`]=D}),p.total=parseInt(j)),{data:Object.assign(Object.assign({},x),p),error:null}}catch(p){if(le(p))return{data:{clients:[]},error:p};throw p}}async _createOAuthClient(n){try{return await oe(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:n,headers:this.headers,xform:s=>({data:s,error:null})})}catch(s){if(le(s))return{data:null,error:s};throw s}}async _getOAuthClient(n){try{return await oe(this.fetch,"GET",`${this.url}/admin/oauth/clients/${n}`,{headers:this.headers,xform:s=>({data:s,error:null})})}catch(s){if(le(s))return{data:null,error:s};throw s}}async _updateOAuthClient(n,s){try{return await oe(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${n}`,{body:s,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(le(r))return{data:null,error:r};throw r}}async _deleteOAuthClient(n){try{return await oe(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${n}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(s){if(le(s))return{data:null,error:s};throw s}}async _regenerateOAuthClientSecret(n){try{return await oe(this.fetch,"POST",`${this.url}/admin/oauth/clients/${n}/regenerate_secret`,{headers:this.headers,xform:s=>({data:s,error:null})})}catch(s){if(le(s))return{data:null,error:s};throw s}}}function lg(i={}){return{getItem:n=>i[n]||null,setItem:(n,s)=>{i[n]=s},removeItem:n=>{delete i[n]}}}const jl={debug:!!(globalThis&&Og()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class Cg extends Error{constructor(n){super(n),this.isAcquireTimeout=!0}}class Jx extends Cg{}async function Zx(i,n,s){jl.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",i,n);const r=new globalThis.AbortController;return n>0&&setTimeout(()=>{r.abort(),jl.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",i)},n),await Promise.resolve().then(()=>globalThis.navigator.locks.request(i,n===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async c=>{if(c){jl.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",i,c.name);try{return await s()}finally{jl.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",i,c.name)}}else{if(n===0)throw jl.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",i),new Jx(`Acquiring an exclusive Navigator LockManager lock "${i}" immediately failed`);if(jl.debug)try{const d=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(d,null,"  "))}catch(d){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",d)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await s()}}))}function Px(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function Dg(i){if(!/^0x[a-fA-F0-9]{40}$/.test(i))throw new Error(`@supabase/auth-js: Address "${i}" is invalid.`);return i.toLowerCase()}function Wx(i){return parseInt(i,16)}function Fx(i){const n=new TextEncoder().encode(i);return"0x"+Array.from(n,r=>r.toString(16).padStart(2,"0")).join("")}function ew(i){var n;const{chainId:s,domain:r,expirationTime:c,issuedAt:d=new Date,nonce:f,notBefore:g,requestId:y,resources:p,scheme:b,uri:x,version:j}=i;{if(!Number.isInteger(s))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${s}`);if(!r)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(f&&f.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${f}`);if(!x)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(j!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${j}`);if(!((n=i.statement)===null||n===void 0)&&n.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${i.statement}`)}const _=Dg(i.address),k=b?`${b}://${r}`:r,D=i.statement?`${i.statement}
`:"",H=`${k} wants you to sign in with your Ethereum account:
${_}

${D}`;let B=`URI: ${x}
Version: ${j}
Chain ID: ${s}${f?`
Nonce: ${f}`:""}
Issued At: ${d.toISOString()}`;if(c&&(B+=`
Expiration Time: ${c.toISOString()}`),g&&(B+=`
Not Before: ${g.toISOString()}`),y&&(B+=`
Request ID: ${y}`),p){let V=`
Resources:`;for(const M of p){if(!M||typeof M!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${M}`);V+=`
- ${M}`}B+=V}return`${H}
${B}`}class st extends Error{constructor({message:n,code:s,cause:r,name:c}){var d;super(n,{cause:r}),this.__isWebAuthnError=!0,this.name=(d=c??(r instanceof Error?r.name:void 0))!==null&&d!==void 0?d:"Unknown Error",this.code=s}}class wr extends st{constructor(n,s){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:s,message:n}),this.name="WebAuthnUnknownError",this.originalError=s}}function tw({error:i,options:n}){var s,r,c;const{publicKey:d}=n;if(!d)throw Error("options was missing required publicKey property");if(i.name==="AbortError"){if(n.signal instanceof AbortSignal)return new st({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:i})}else if(i.name==="ConstraintError"){if(((s=d.authenticatorSelection)===null||s===void 0?void 0:s.requireResidentKey)===!0)return new st({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:i});if(n.mediation==="conditional"&&((r=d.authenticatorSelection)===null||r===void 0?void 0:r.userVerification)==="required")return new st({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:i});if(((c=d.authenticatorSelection)===null||c===void 0?void 0:c.userVerification)==="required")return new st({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:i})}else{if(i.name==="InvalidStateError")return new st({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:i});if(i.name==="NotAllowedError")return new st({message:i.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:i});if(i.name==="NotSupportedError")return d.pubKeyCredParams.filter(g=>g.type==="public-key").length===0?new st({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:i}):new st({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:i});if(i.name==="SecurityError"){const f=window.location.hostname;if(zg(f)){if(d.rp.id!==f)return new st({message:`The RP ID "${d.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:i})}else return new st({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:i})}else if(i.name==="TypeError"){if(d.user.id.byteLength<1||d.user.id.byteLength>64)return new st({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:i})}else if(i.name==="UnknownError")return new st({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:i})}return new st({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:i})}function aw({error:i,options:n}){const{publicKey:s}=n;if(!s)throw Error("options was missing required publicKey property");if(i.name==="AbortError"){if(n.signal instanceof AbortSignal)return new st({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:i})}else{if(i.name==="NotAllowedError")return new st({message:i.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:i});if(i.name==="SecurityError"){const r=window.location.hostname;if(zg(r)){if(s.rpId!==r)return new st({message:`The RP ID "${s.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:i})}else return new st({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:i})}else if(i.name==="UnknownError")return new st({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:i})}return new st({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:i})}class nw{createNewAbortSignal(){if(this.controller){const s=new Error("Cancelling existing WebAuthn API call for new one");s.name="AbortError",this.controller.abort(s)}const n=new AbortController;return this.controller=n,n.signal}cancelCeremony(){if(this.controller){const n=new Error("Manually cancelling existing WebAuthn API call");n.name="AbortError",this.controller.abort(n),this.controller=void 0}}}const lw=new nw;function iw(i){if(!i)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(i);const{challenge:n,user:s,excludeCredentials:r}=i,c=Ar(i,["challenge","user","excludeCredentials"]),d=Rl(n).buffer,f=Object.assign(Object.assign({},s),{id:Rl(s.id).buffer}),g=Object.assign(Object.assign({},c),{challenge:d,user:f});if(r&&r.length>0){g.excludeCredentials=new Array(r.length);for(let y=0;y<r.length;y++){const p=r[y];g.excludeCredentials[y]=Object.assign(Object.assign({},p),{id:Rl(p.id).buffer,type:p.type||"public-key",transports:p.transports})}}return g}function sw(i){if(!i)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(i);const{challenge:n,allowCredentials:s}=i,r=Ar(i,["challenge","allowCredentials"]),c=Rl(n).buffer,d=Object.assign(Object.assign({},r),{challenge:c});if(s&&s.length>0){d.allowCredentials=new Array(s.length);for(let f=0;f<s.length;f++){const g=s[f];d.allowCredentials[f]=Object.assign(Object.assign({},g),{id:Rl(g.id).buffer,type:g.type||"public-key",transports:g.transports})}}return d}function rw(i){var n;if("toJSON"in i&&typeof i.toJSON=="function")return i.toJSON();const s=i;return{id:i.id,rawId:i.id,response:{attestationObject:Dn(new Uint8Array(i.response.attestationObject)),clientDataJSON:Dn(new Uint8Array(i.response.clientDataJSON))},type:"public-key",clientExtensionResults:i.getClientExtensionResults(),authenticatorAttachment:(n=s.authenticatorAttachment)!==null&&n!==void 0?n:void 0}}function ow(i){var n;if("toJSON"in i&&typeof i.toJSON=="function")return i.toJSON();const s=i,r=i.getClientExtensionResults(),c=i.response;return{id:i.id,rawId:i.id,response:{authenticatorData:Dn(new Uint8Array(c.authenticatorData)),clientDataJSON:Dn(new Uint8Array(c.clientDataJSON)),signature:Dn(new Uint8Array(c.signature)),userHandle:c.userHandle?Dn(new Uint8Array(c.userHandle)):void 0},type:"public-key",clientExtensionResults:r,authenticatorAttachment:(n=s.authenticatorAttachment)!==null&&n!==void 0?n:void 0}}function zg(i){return i==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(i)}function ig(){var i,n;return!!(bt()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((i=navigator==null?void 0:navigator.credentials)===null||i===void 0?void 0:i.create)=="function"&&typeof((n=navigator==null?void 0:navigator.credentials)===null||n===void 0?void 0:n.get)=="function")}async function uw(i){try{const n=await navigator.credentials.create(i);return n?n instanceof PublicKeyCredential?{data:n,error:null}:{data:null,error:new wr("Browser returned unexpected credential type",n)}:{data:null,error:new wr("Empty credential response",n)}}catch(n){return{data:null,error:tw({error:n,options:i})}}}async function cw(i){try{const n=await navigator.credentials.get(i);return n?n instanceof PublicKeyCredential?{data:n,error:null}:{data:null,error:new wr("Browser returned unexpected credential type",n)}:{data:null,error:new wr("Empty credential response",n)}}catch(n){return{data:null,error:aw({error:n,options:i})}}}const dw={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},hw={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function _r(...i){const n=c=>c!==null&&typeof c=="object"&&!Array.isArray(c),s=c=>c instanceof ArrayBuffer||ArrayBuffer.isView(c),r={};for(const c of i)if(c)for(const d in c){const f=c[d];if(f!==void 0)if(Array.isArray(f))r[d]=f;else if(s(f))r[d]=f;else if(n(f)){const g=r[d];n(g)?r[d]=_r(g,f):r[d]=_r(f)}else r[d]=f}return r}function fw(i,n){return _r(dw,i,n||{})}function mw(i,n){return _r(hw,i,n||{})}class gw{constructor(n){this.client=n,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(n){return this.client.mfa.enroll(Object.assign(Object.assign({},n),{factorType:"webauthn"}))}async _challenge({factorId:n,webauthn:s,friendlyName:r,signal:c},d){var f;try{const{data:g,error:y}=await this.client.mfa.challenge({factorId:n,webauthn:s});if(!g)return{data:null,error:y};const p=c??lw.createNewAbortSignal();if(g.webauthn.type==="create"){const{user:b}=g.webauthn.credential_options.publicKey;if(!b.name){const x=r;if(x)b.name=`${b.id}:${x}`;else{const _=(await this.client.getUser()).data.user,k=((f=_==null?void 0:_.user_metadata)===null||f===void 0?void 0:f.name)||(_==null?void 0:_.email)||(_==null?void 0:_.id)||"User";b.name=`${b.id}:${k}`}}b.displayName||(b.displayName=b.name)}switch(g.webauthn.type){case"create":{const b=fw(g.webauthn.credential_options.publicKey,d==null?void 0:d.create),{data:x,error:j}=await uw({publicKey:b,signal:p});return x?{data:{factorId:n,challengeId:g.id,webauthn:{type:g.webauthn.type,credential_response:x}},error:null}:{data:null,error:j}}case"request":{const b=mw(g.webauthn.credential_options.publicKey,d==null?void 0:d.request),{data:x,error:j}=await cw(Object.assign(Object.assign({},g.webauthn.credential_options),{publicKey:b,signal:p}));return x?{data:{factorId:n,challengeId:g.id,webauthn:{type:g.webauthn.type,credential_response:x}},error:null}:{data:null,error:j}}}}catch(g){return le(g)?{data:null,error:g}:{data:null,error:new Cn("Unexpected error in challenge",g)}}}async _verify({challengeId:n,factorId:s,webauthn:r}){return this.client.mfa.verify({factorId:s,challengeId:n,webauthn:r})}async _authenticate({factorId:n,webauthn:{rpId:s=typeof window<"u"?window.location.hostname:void 0,rpOrigins:r=typeof window<"u"?[window.location.origin]:void 0,signal:c}={}},d){if(!s)return{data:null,error:new qi("rpId is required for WebAuthn authentication")};try{if(!ig())return{data:null,error:new Cn("Browser does not support WebAuthn",null)};const{data:f,error:g}=await this.challenge({factorId:n,webauthn:{rpId:s,rpOrigins:r},signal:c},{request:d});if(!f)return{data:null,error:g};const{webauthn:y}=f;return this._verify({factorId:n,challengeId:f.challengeId,webauthn:{type:y.type,rpId:s,rpOrigins:r,credential_response:y.credential_response}})}catch(f){return le(f)?{data:null,error:f}:{data:null,error:new Cn("Unexpected error in authenticate",f)}}}async _register({friendlyName:n,webauthn:{rpId:s=typeof window<"u"?window.location.hostname:void 0,rpOrigins:r=typeof window<"u"?[window.location.origin]:void 0,signal:c}={}},d){if(!s)return{data:null,error:new qi("rpId is required for WebAuthn registration")};try{if(!ig())return{data:null,error:new Cn("Browser does not support WebAuthn",null)};const{data:f,error:g}=await this._enroll({friendlyName:n});if(!f)return await this.client.mfa.listFactors().then(b=>{var x;return(x=b.data)===null||x===void 0?void 0:x.all.find(j=>j.factor_type==="webauthn"&&j.friendly_name===n&&j.status!=="unverified")}).then(b=>b?this.client.mfa.unenroll({factorId:b==null?void 0:b.id}):void 0),{data:null,error:g};const{data:y,error:p}=await this._challenge({factorId:f.id,friendlyName:f.friendly_name,webauthn:{rpId:s,rpOrigins:r},signal:c},{create:d});return y?this._verify({factorId:f.id,challengeId:y.challengeId,webauthn:{rpId:s,rpOrigins:r,type:y.webauthn.type,credential_response:y.webauthn.credential_response}}):{data:null,error:p}}catch(f){return le(f)?{data:null,error:f}:{data:null,error:new Cn("Unexpected error in register",f)}}}}Px();const yw={url:hx,storageKey:fx,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:mx,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1,lockAcquireTimeout:1e4};async function sg(i,n,s){return await s()}const El={};class Hi{get jwks(){var n,s;return(s=(n=El[this.storageKey])===null||n===void 0?void 0:n.jwks)!==null&&s!==void 0?s:{keys:[]}}set jwks(n){El[this.storageKey]=Object.assign(Object.assign({},El[this.storageKey]),{jwks:n})}get jwks_cached_at(){var n,s;return(s=(n=El[this.storageKey])===null||n===void 0?void 0:n.cachedAt)!==null&&s!==void 0?s:Number.MIN_SAFE_INTEGER}set jwks_cached_at(n){El[this.storageKey]=Object.assign(Object.assign({},El[this.storageKey]),{cachedAt:n})}constructor(n){var s,r,c;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.autoRefreshTickTimeout=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const d=Object.assign(Object.assign({},yw),n);if(this.storageKey=d.storageKey,this.instanceID=(s=Hi.nextInstanceID[this.storageKey])!==null&&s!==void 0?s:0,Hi.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!d.debug,typeof d.debug=="function"&&(this.logger=d.debug),this.instanceID>0&&bt()){const f=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(f),this.logDebugMessages&&console.trace(f)}if(this.persistSession=d.persistSession,this.autoRefreshToken=d.autoRefreshToken,this.admin=new Xx({url:d.url,headers:d.headers,fetch:d.fetch}),this.url=d.url,this.headers=d.headers,this.fetch=Rg(d.fetch),this.lock=d.lock||sg,this.detectSessionInUrl=d.detectSessionInUrl,this.flowType=d.flowType,this.hasCustomAuthorizationHeader=d.hasCustomAuthorizationHeader,this.throwOnError=d.throwOnError,this.lockAcquireTimeout=d.lockAcquireTimeout,d.lock?this.lock=d.lock:this.persistSession&&bt()&&(!((r=globalThis==null?void 0:globalThis.navigator)===null||r===void 0)&&r.locks)?this.lock=Zx:this.lock=sg,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new gw(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(d.storage?this.storage=d.storage:Og()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=lg(this.memoryStorage)),d.userStorage&&(this.userStorage=d.userStorage)):(this.memoryStorage={},this.storage=lg(this.memoryStorage)),bt()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(f){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",f)}(c=this.broadcastChannel)===null||c===void 0||c.addEventListener("message",async f=>{this._debug("received broadcast notification from other tab or client",f);try{await this._notifyAllSubscribers(f.data.event,f.data.session,!1)}catch(g){this._debug("#broadcastChannel","error",g)}})}this.initialize().catch(f=>{this._debug("#initialize()","error",f)})}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(n){if(this.throwOnError&&n&&n.error)throw n.error;return n}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${Ag}) ${new Date().toISOString()}`}_debug(...n){return this.logDebugMessages&&this.logger(this._logPrefix(),...n),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(this.lockAcquireTimeout,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var n;try{let s={},r="none";if(bt()&&(s=Tx(window.location.href),this._isImplicitGrantCallback(s)?r="implicit":await this._isPKCECallback(s)&&(r="pkce")),bt()&&this.detectSessionInUrl&&r!=="none"){const{data:c,error:d}=await this._getSessionFromURL(s,r);if(d){if(this._debug("#_initialize()","error detecting session from URL",d),bx(d)){const y=(n=d.details)===null||n===void 0?void 0:n.code;if(y==="identity_already_exists"||y==="identity_not_found"||y==="single_identity_not_deletable")return{error:d}}return{error:d}}const{session:f,redirectType:g}=c;return this._debug("#_initialize()","detected session in URL",f,"redirect type",g),await this._saveSession(f),setTimeout(async()=>{g==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",f):await this._notifyAllSubscribers("SIGNED_IN",f)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(s){return le(s)?this._returnResult({error:s}):this._returnResult({error:new Cn("Unexpected error during initialization",s)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(n){var s,r,c;try{const d=await oe(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(r=(s=n==null?void 0:n.options)===null||s===void 0?void 0:s.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:(c=n==null?void 0:n.options)===null||c===void 0?void 0:c.captchaToken}},xform:ea}),{data:f,error:g}=d;if(g||!f)return this._returnResult({data:{user:null,session:null},error:g});const y=f.session,p=f.user;return f.session&&(await this._saveSession(f.session),await this._notifyAllSubscribers("SIGNED_IN",y)),this._returnResult({data:{user:p,session:y},error:null})}catch(d){if(le(d))return this._returnResult({data:{user:null,session:null},error:d});throw d}}async signUp(n){var s,r,c;try{let d;if("email"in n){const{email:b,password:x,options:j}=n;let _=null,k=null;this.flowType==="pkce"&&([_,k]=await _l(this.storage,this.storageKey)),d=await oe(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:j==null?void 0:j.emailRedirectTo,body:{email:b,password:x,data:(s=j==null?void 0:j.data)!==null&&s!==void 0?s:{},gotrue_meta_security:{captcha_token:j==null?void 0:j.captchaToken},code_challenge:_,code_challenge_method:k},xform:ea})}else if("phone"in n){const{phone:b,password:x,options:j}=n;d=await oe(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:b,password:x,data:(r=j==null?void 0:j.data)!==null&&r!==void 0?r:{},channel:(c=j==null?void 0:j.channel)!==null&&c!==void 0?c:"sms",gotrue_meta_security:{captcha_token:j==null?void 0:j.captchaToken}},xform:ea})}else throw new mr("You must provide either an email or phone number and a password");const{data:f,error:g}=d;if(g||!f)return await vt(this.storage,`${this.storageKey}-code-verifier`),this._returnResult({data:{user:null,session:null},error:g});const y=f.session,p=f.user;return f.session&&(await this._saveSession(f.session),await this._notifyAllSubscribers("SIGNED_IN",y)),this._returnResult({data:{user:p,session:y},error:null})}catch(d){if(await vt(this.storage,`${this.storageKey}-code-verifier`),le(d))return this._returnResult({data:{user:null,session:null},error:d});throw d}}async signInWithPassword(n){try{let s;if("email"in n){const{email:d,password:f,options:g}=n;s=await oe(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:d,password:f,gotrue_meta_security:{captcha_token:g==null?void 0:g.captchaToken}},xform:ag})}else if("phone"in n){const{phone:d,password:f,options:g}=n;s=await oe(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:d,password:f,gotrue_meta_security:{captcha_token:g==null?void 0:g.captchaToken}},xform:ag})}else throw new mr("You must provide either an email or phone number and a password");const{data:r,error:c}=s;if(c)return this._returnResult({data:{user:null,session:null},error:c});if(!r||!r.session||!r.user){const d=new wl;return this._returnResult({data:{user:null,session:null},error:d})}return r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),this._returnResult({data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:c})}catch(s){if(le(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async signInWithOAuth(n){var s,r,c,d;return await this._handleProviderSignIn(n.provider,{redirectTo:(s=n.options)===null||s===void 0?void 0:s.redirectTo,scopes:(r=n.options)===null||r===void 0?void 0:r.scopes,queryParams:(c=n.options)===null||c===void 0?void 0:c.queryParams,skipBrowserRedirect:(d=n.options)===null||d===void 0?void 0:d.skipBrowserRedirect})}async exchangeCodeForSession(n){return await this.initializePromise,this._acquireLock(this.lockAcquireTimeout,async()=>this._exchangeCodeForSession(n))}async signInWithWeb3(n){const{chain:s}=n;switch(s){case"ethereum":return await this.signInWithEthereum(n);case"solana":return await this.signInWithSolana(n);default:throw new Error(`@supabase/auth-js: Unsupported chain "${s}"`)}}async signInWithEthereum(n){var s,r,c,d,f,g,y,p,b,x,j;let _,k;if("message"in n)_=n.message,k=n.signature;else{const{chain:D,wallet:H,statement:B,options:V}=n;let M;if(bt())if(typeof H=="object")M=H;else{const Ne=window;if("ethereum"in Ne&&typeof Ne.ethereum=="object"&&"request"in Ne.ethereum&&typeof Ne.ethereum.request=="function")M=Ne.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof H!="object"||!(V!=null&&V.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");M=H}const X=new URL((s=V==null?void 0:V.url)!==null&&s!==void 0?s:window.location.href),P=await M.request({method:"eth_requestAccounts"}).then(Ne=>Ne).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!P||P.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const Z=Dg(P[0]);let I=(r=V==null?void 0:V.signInWithEthereum)===null||r===void 0?void 0:r.chainId;if(!I){const Ne=await M.request({method:"eth_chainId"});I=Wx(Ne)}const ge={domain:X.host,address:Z,statement:B,uri:X.href,version:"1",chainId:I,nonce:(c=V==null?void 0:V.signInWithEthereum)===null||c===void 0?void 0:c.nonce,issuedAt:(f=(d=V==null?void 0:V.signInWithEthereum)===null||d===void 0?void 0:d.issuedAt)!==null&&f!==void 0?f:new Date,expirationTime:(g=V==null?void 0:V.signInWithEthereum)===null||g===void 0?void 0:g.expirationTime,notBefore:(y=V==null?void 0:V.signInWithEthereum)===null||y===void 0?void 0:y.notBefore,requestId:(p=V==null?void 0:V.signInWithEthereum)===null||p===void 0?void 0:p.requestId,resources:(b=V==null?void 0:V.signInWithEthereum)===null||b===void 0?void 0:b.resources};_=ew(ge),k=await M.request({method:"personal_sign",params:[Fx(_),Z]})}try{const{data:D,error:H}=await oe(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:_,signature:k},!((x=n.options)===null||x===void 0)&&x.captchaToken?{gotrue_meta_security:{captcha_token:(j=n.options)===null||j===void 0?void 0:j.captchaToken}}:null),xform:ea});if(H)throw H;if(!D||!D.session||!D.user){const B=new wl;return this._returnResult({data:{user:null,session:null},error:B})}return D.session&&(await this._saveSession(D.session),await this._notifyAllSubscribers("SIGNED_IN",D.session)),this._returnResult({data:Object.assign({},D),error:H})}catch(D){if(le(D))return this._returnResult({data:{user:null,session:null},error:D});throw D}}async signInWithSolana(n){var s,r,c,d,f,g,y,p,b,x,j,_;let k,D;if("message"in n)k=n.message,D=n.signature;else{const{chain:H,wallet:B,statement:V,options:M}=n;let X;if(bt())if(typeof B=="object")X=B;else{const Z=window;if("solana"in Z&&typeof Z.solana=="object"&&("signIn"in Z.solana&&typeof Z.solana.signIn=="function"||"signMessage"in Z.solana&&typeof Z.solana.signMessage=="function"))X=Z.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof B!="object"||!(M!=null&&M.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");X=B}const P=new URL((s=M==null?void 0:M.url)!==null&&s!==void 0?s:window.location.href);if("signIn"in X&&X.signIn){const Z=await X.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},M==null?void 0:M.signInWithSolana),{version:"1",domain:P.host,uri:P.href}),V?{statement:V}:null));let I;if(Array.isArray(Z)&&Z[0]&&typeof Z[0]=="object")I=Z[0];else if(Z&&typeof Z=="object"&&"signedMessage"in Z&&"signature"in Z)I=Z;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in I&&"signature"in I&&(typeof I.signedMessage=="string"||I.signedMessage instanceof Uint8Array)&&I.signature instanceof Uint8Array)k=typeof I.signedMessage=="string"?I.signedMessage:new TextDecoder().decode(I.signedMessage),D=I.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in X)||typeof X.signMessage!="function"||!("publicKey"in X)||typeof X!="object"||!X.publicKey||!("toBase58"in X.publicKey)||typeof X.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");k=[`${P.host} wants you to sign in with your Solana account:`,X.publicKey.toBase58(),...V?["",V,""]:[""],"Version: 1",`URI: ${P.href}`,`Issued At: ${(c=(r=M==null?void 0:M.signInWithSolana)===null||r===void 0?void 0:r.issuedAt)!==null&&c!==void 0?c:new Date().toISOString()}`,...!((d=M==null?void 0:M.signInWithSolana)===null||d===void 0)&&d.notBefore?[`Not Before: ${M.signInWithSolana.notBefore}`]:[],...!((f=M==null?void 0:M.signInWithSolana)===null||f===void 0)&&f.expirationTime?[`Expiration Time: ${M.signInWithSolana.expirationTime}`]:[],...!((g=M==null?void 0:M.signInWithSolana)===null||g===void 0)&&g.chainId?[`Chain ID: ${M.signInWithSolana.chainId}`]:[],...!((y=M==null?void 0:M.signInWithSolana)===null||y===void 0)&&y.nonce?[`Nonce: ${M.signInWithSolana.nonce}`]:[],...!((p=M==null?void 0:M.signInWithSolana)===null||p===void 0)&&p.requestId?[`Request ID: ${M.signInWithSolana.requestId}`]:[],...!((x=(b=M==null?void 0:M.signInWithSolana)===null||b===void 0?void 0:b.resources)===null||x===void 0)&&x.length?["Resources",...M.signInWithSolana.resources.map(I=>`- ${I}`)]:[]].join(`
`);const Z=await X.signMessage(new TextEncoder().encode(k),"utf8");if(!Z||!(Z instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");D=Z}}try{const{data:H,error:B}=await oe(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:k,signature:Dn(D)},!((j=n.options)===null||j===void 0)&&j.captchaToken?{gotrue_meta_security:{captcha_token:(_=n.options)===null||_===void 0?void 0:_.captchaToken}}:null),xform:ea});if(B)throw B;if(!H||!H.session||!H.user){const V=new wl;return this._returnResult({data:{user:null,session:null},error:V})}return H.session&&(await this._saveSession(H.session),await this._notifyAllSubscribers("SIGNED_IN",H.session)),this._returnResult({data:Object.assign({},H),error:B})}catch(H){if(le(H))return this._returnResult({data:{user:null,session:null},error:H});throw H}}async _exchangeCodeForSession(n){const s=await kn(this.storage,`${this.storageKey}-code-verifier`),[r,c]=(s??"").split("/");try{if(!r&&this.flowType==="pkce")throw new xx;const{data:d,error:f}=await oe(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:n,code_verifier:r},xform:ea});if(await vt(this.storage,`${this.storageKey}-code-verifier`),f)throw f;if(!d||!d.session||!d.user){const g=new wl;return this._returnResult({data:{user:null,session:null,redirectType:null},error:g})}return d.session&&(await this._saveSession(d.session),await this._notifyAllSubscribers("SIGNED_IN",d.session)),this._returnResult({data:Object.assign(Object.assign({},d),{redirectType:c??null}),error:f})}catch(d){if(await vt(this.storage,`${this.storageKey}-code-verifier`),le(d))return this._returnResult({data:{user:null,session:null,redirectType:null},error:d});throw d}}async signInWithIdToken(n){try{const{options:s,provider:r,token:c,access_token:d,nonce:f}=n,g=await oe(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:c,access_token:d,nonce:f,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}},xform:ea}),{data:y,error:p}=g;if(p)return this._returnResult({data:{user:null,session:null},error:p});if(!y||!y.session||!y.user){const b=new wl;return this._returnResult({data:{user:null,session:null},error:b})}return y.session&&(await this._saveSession(y.session),await this._notifyAllSubscribers("SIGNED_IN",y.session)),this._returnResult({data:y,error:p})}catch(s){if(le(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async signInWithOtp(n){var s,r,c,d,f;try{if("email"in n){const{email:g,options:y}=n;let p=null,b=null;this.flowType==="pkce"&&([p,b]=await _l(this.storage,this.storageKey));const{error:x}=await oe(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:g,data:(s=y==null?void 0:y.data)!==null&&s!==void 0?s:{},create_user:(r=y==null?void 0:y.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:y==null?void 0:y.captchaToken},code_challenge:p,code_challenge_method:b},redirectTo:y==null?void 0:y.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:x})}if("phone"in n){const{phone:g,options:y}=n,{data:p,error:b}=await oe(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:g,data:(c=y==null?void 0:y.data)!==null&&c!==void 0?c:{},create_user:(d=y==null?void 0:y.shouldCreateUser)!==null&&d!==void 0?d:!0,gotrue_meta_security:{captcha_token:y==null?void 0:y.captchaToken},channel:(f=y==null?void 0:y.channel)!==null&&f!==void 0?f:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:p==null?void 0:p.message_id},error:b})}throw new mr("You must provide either an email or phone number.")}catch(g){if(await vt(this.storage,`${this.storageKey}-code-verifier`),le(g))return this._returnResult({data:{user:null,session:null},error:g});throw g}}async verifyOtp(n){var s,r;try{let c,d;"options"in n&&(c=(s=n.options)===null||s===void 0?void 0:s.redirectTo,d=(r=n.options)===null||r===void 0?void 0:r.captchaToken);const{data:f,error:g}=await oe(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},n),{gotrue_meta_security:{captcha_token:d}}),redirectTo:c,xform:ea});if(g)throw g;if(!f)throw new Error("An error occurred on token verification.");const y=f.session,p=f.user;return y!=null&&y.access_token&&(await this._saveSession(y),await this._notifyAllSubscribers(n.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",y)),this._returnResult({data:{user:p,session:y},error:null})}catch(c){if(le(c))return this._returnResult({data:{user:null,session:null},error:c});throw c}}async signInWithSSO(n){var s,r,c,d,f;try{let g=null,y=null;this.flowType==="pkce"&&([g,y]=await _l(this.storage,this.storageKey));const p=await oe(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in n?{provider_id:n.providerId}:null),"domain"in n?{domain:n.domain}:null),{redirect_to:(r=(s=n.options)===null||s===void 0?void 0:s.redirectTo)!==null&&r!==void 0?r:void 0}),!((c=n==null?void 0:n.options)===null||c===void 0)&&c.captchaToken?{gotrue_meta_security:{captcha_token:n.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:g,code_challenge_method:y}),headers:this.headers,xform:Yx});return!((d=p.data)===null||d===void 0)&&d.url&&bt()&&!(!((f=n.options)===null||f===void 0)&&f.skipBrowserRedirect)&&window.location.assign(p.data.url),this._returnResult(p)}catch(g){if(await vt(this.storage,`${this.storageKey}-code-verifier`),le(g))return this._returnResult({data:null,error:g});throw g}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async n=>{const{data:{session:s},error:r}=n;if(r)throw r;if(!s)throw new qt;const{error:c}=await oe(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:s.access_token});return this._returnResult({data:{user:null,session:null},error:c})})}catch(n){if(le(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async resend(n){try{const s=`${this.url}/resend`;if("email"in n){const{email:r,type:c,options:d}=n,{error:f}=await oe(this.fetch,"POST",s,{headers:this.headers,body:{email:r,type:c,gotrue_meta_security:{captcha_token:d==null?void 0:d.captchaToken}},redirectTo:d==null?void 0:d.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:f})}else if("phone"in n){const{phone:r,type:c,options:d}=n,{data:f,error:g}=await oe(this.fetch,"POST",s,{headers:this.headers,body:{phone:r,type:c,gotrue_meta_security:{captcha_token:d==null?void 0:d.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:f==null?void 0:f.message_id},error:g})}throw new mr("You must provide either an email or phone number and a type")}catch(s){if(le(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async getSession(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>this._useSession(async s=>s))}async _acquireLock(n,s){this._debug("#_acquireLock","begin",n);try{if(this.lockAcquired){const r=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),c=(async()=>(await r,await s()))();return this.pendingInLock.push((async()=>{try{await c}catch{}})()),c}return await this.lock(`lock:${this.storageKey}`,n,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const r=s();for(this.pendingInLock.push((async()=>{try{await r}catch{}})()),await r;this.pendingInLock.length;){const c=[...this.pendingInLock];await Promise.all(c),this.pendingInLock.splice(0,c.length)}return await r}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(n){this._debug("#_useSession","begin");try{const s=await this.__loadSession();return await n(s)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let n=null;const s=await kn(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",s),s!==null&&(this._isValidSession(s)?n=s:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!n)return{data:{session:null},error:null};const r=n.expires_at?n.expires_at*1e3-Date.now()<Wu:!1;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",n.expires_at),!r){if(this.userStorage){const f=await kn(this.userStorage,this.storageKey+"-user");f!=null&&f.user?n.user=f.user:n.user=tc()}if(this.storage.isServer&&n.user&&!n.user.__isUserNotAvailableProxy){const f={value:this.suppressGetSessionWarning};n.user=Gx(n.user,f),f.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:n},error:null}}const{data:c,error:d}=await this._callRefreshToken(n.refresh_token);return d?this._returnResult({data:{session:null},error:d}):this._returnResult({data:{session:c},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(n){if(n)return await this._getUser(n);await this.initializePromise;const s=await this._acquireLock(this.lockAcquireTimeout,async()=>await this._getUser());return s.data.user&&(this.suppressGetSessionWarning=!0),s}async _getUser(n){try{return n?await oe(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:n,xform:sn}):await this._useSession(async s=>{var r,c,d;const{data:f,error:g}=s;if(g)throw g;return!(!((r=f.session)===null||r===void 0)&&r.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new qt}:await oe(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(d=(c=f.session)===null||c===void 0?void 0:c.access_token)!==null&&d!==void 0?d:void 0,xform:sn})})}catch(s){if(le(s))return Fu(s)&&(await this._removeSession(),await vt(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:s});throw s}}async updateUser(n,s={}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._updateUser(n,s))}async _updateUser(n,s={}){try{return await this._useSession(async r=>{const{data:c,error:d}=r;if(d)throw d;if(!c.session)throw new qt;const f=c.session;let g=null,y=null;this.flowType==="pkce"&&n.email!=null&&([g,y]=await _l(this.storage,this.storageKey));const{data:p,error:b}=await oe(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:s==null?void 0:s.emailRedirectTo,body:Object.assign(Object.assign({},n),{code_challenge:g,code_challenge_method:y}),jwt:f.access_token,xform:sn});if(b)throw b;return f.user=p.user,await this._saveSession(f),await this._notifyAllSubscribers("USER_UPDATED",f),this._returnResult({data:{user:f.user},error:null})})}catch(r){if(await vt(this.storage,`${this.storageKey}-code-verifier`),le(r))return this._returnResult({data:{user:null},error:r});throw r}}async setSession(n){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._setSession(n))}async _setSession(n){try{if(!n.access_token||!n.refresh_token)throw new qt;const s=Date.now()/1e3;let r=s,c=!0,d=null;const{payload:f}=yr(n.access_token);if(f.exp&&(r=f.exp,c=r<=s),c){const{data:g,error:y}=await this._callRefreshToken(n.refresh_token);if(y)return this._returnResult({data:{user:null,session:null},error:y});if(!g)return{data:{user:null,session:null},error:null};d=g}else{const{data:g,error:y}=await this._getUser(n.access_token);if(y)return this._returnResult({data:{user:null,session:null},error:y});d={access_token:n.access_token,refresh_token:n.refresh_token,user:g.user,token_type:"bearer",expires_in:r-s,expires_at:r},await this._saveSession(d),await this._notifyAllSubscribers("SIGNED_IN",d)}return this._returnResult({data:{user:d.user,session:d},error:null})}catch(s){if(le(s))return this._returnResult({data:{session:null,user:null},error:s});throw s}}async refreshSession(n){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._refreshSession(n))}async _refreshSession(n){try{return await this._useSession(async s=>{var r;if(!n){const{data:f,error:g}=s;if(g)throw g;n=(r=f.session)!==null&&r!==void 0?r:void 0}if(!(n!=null&&n.refresh_token))throw new qt;const{data:c,error:d}=await this._callRefreshToken(n.refresh_token);return d?this._returnResult({data:{user:null,session:null},error:d}):c?this._returnResult({data:{user:c.user,session:c},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(s){if(le(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async _getSessionFromURL(n,s){try{if(!bt())throw new gr("No browser detected.");if(n.error||n.error_description||n.error_code)throw new gr(n.error_description||"Error in URL with unspecified error_description",{error:n.error||"unspecified_error",code:n.error_code||"unspecified_code"});switch(s){case"implicit":if(this.flowType==="pkce")throw new Jm("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new gr("Not a valid implicit grant flow url.");break;default:}if(s==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!n.code)throw new Jm("No code detected.");const{data:V,error:M}=await this._exchangeCodeForSession(n.code);if(M)throw M;const X=new URL(window.location.href);return X.searchParams.delete("code"),window.history.replaceState(window.history.state,"",X.toString()),{data:{session:V.session,redirectType:null},error:null}}const{provider_token:r,provider_refresh_token:c,access_token:d,refresh_token:f,expires_in:g,expires_at:y,token_type:p}=n;if(!d||!g||!f||!p)throw new gr("No session defined in URL");const b=Math.round(Date.now()/1e3),x=parseInt(g);let j=b+x;y&&(j=parseInt(y));const _=j-b;_*1e3<=Al&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${_}s, should have been closer to ${x}s`);const k=j-x;b-k>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",k,j,b):b-k<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",k,j,b);const{data:D,error:H}=await this._getUser(d);if(H)throw H;const B={provider_token:r,provider_refresh_token:c,access_token:d,expires_in:x,expires_at:j,refresh_token:f,token_type:p,user:D.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:B,redirectType:n.type},error:null})}catch(r){if(le(r))return this._returnResult({data:{session:null,redirectType:null},error:r});throw r}}_isImplicitGrantCallback(n){return typeof this.detectSessionInUrl=="function"?this.detectSessionInUrl(new URL(window.location.href),n):!!(n.access_token||n.error_description)}async _isPKCECallback(n){const s=await kn(this.storage,`${this.storageKey}-code-verifier`);return!!(n.code&&s)}async signOut(n={scope:"global"}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._signOut(n))}async _signOut({scope:n}={scope:"global"}){return await this._useSession(async s=>{var r;const{data:c,error:d}=s;if(d&&!Fu(d))return this._returnResult({error:d});const f=(r=c.session)===null||r===void 0?void 0:r.access_token;if(f){const{error:g}=await this.admin.signOut(f,n);if(g&&!(vx(g)&&(g.status===404||g.status===401||g.status===403)||Fu(g)))return this._returnResult({error:g})}return n!=="others"&&(await this._removeSession(),await vt(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(n){const s=Ax(),r={id:s,callback:n,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",s),this.stateChangeEmitters.delete(s)}};return this._debug("#onAuthStateChange()","registered callback with id",s),this.stateChangeEmitters.set(s,r),(async()=>(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{this._emitInitialSession(s)})))(),{data:{subscription:r}}}async _emitInitialSession(n){return await this._useSession(async s=>{var r,c;try{const{data:{session:d},error:f}=s;if(f)throw f;await((r=this.stateChangeEmitters.get(n))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",d)),this._debug("INITIAL_SESSION","callback id",n,"session",d)}catch(d){await((c=this.stateChangeEmitters.get(n))===null||c===void 0?void 0:c.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",n,"error",d),console.error(d)}})}async resetPasswordForEmail(n,s={}){let r=null,c=null;this.flowType==="pkce"&&([r,c]=await _l(this.storage,this.storageKey,!0));try{return await oe(this.fetch,"POST",`${this.url}/recover`,{body:{email:n,code_challenge:r,code_challenge_method:c,gotrue_meta_security:{captcha_token:s.captchaToken}},headers:this.headers,redirectTo:s.redirectTo})}catch(d){if(await vt(this.storage,`${this.storageKey}-code-verifier`),le(d))return this._returnResult({data:null,error:d});throw d}}async getUserIdentities(){var n;try{const{data:s,error:r}=await this.getUser();if(r)throw r;return this._returnResult({data:{identities:(n=s.user.identities)!==null&&n!==void 0?n:[]},error:null})}catch(s){if(le(s))return this._returnResult({data:null,error:s});throw s}}async linkIdentity(n){return"token"in n?this.linkIdentityIdToken(n):this.linkIdentityOAuth(n)}async linkIdentityOAuth(n){var s;try{const{data:r,error:c}=await this._useSession(async d=>{var f,g,y,p,b;const{data:x,error:j}=d;if(j)throw j;const _=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,n.provider,{redirectTo:(f=n.options)===null||f===void 0?void 0:f.redirectTo,scopes:(g=n.options)===null||g===void 0?void 0:g.scopes,queryParams:(y=n.options)===null||y===void 0?void 0:y.queryParams,skipBrowserRedirect:!0});return await oe(this.fetch,"GET",_,{headers:this.headers,jwt:(b=(p=x.session)===null||p===void 0?void 0:p.access_token)!==null&&b!==void 0?b:void 0})});if(c)throw c;return bt()&&!(!((s=n.options)===null||s===void 0)&&s.skipBrowserRedirect)&&window.location.assign(r==null?void 0:r.url),this._returnResult({data:{provider:n.provider,url:r==null?void 0:r.url},error:null})}catch(r){if(le(r))return this._returnResult({data:{provider:n.provider,url:null},error:r});throw r}}async linkIdentityIdToken(n){return await this._useSession(async s=>{var r;try{const{error:c,data:{session:d}}=s;if(c)throw c;const{options:f,provider:g,token:y,access_token:p,nonce:b}=n,x=await oe(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(r=d==null?void 0:d.access_token)!==null&&r!==void 0?r:void 0,body:{provider:g,id_token:y,access_token:p,nonce:b,link_identity:!0,gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken}},xform:ea}),{data:j,error:_}=x;return _?this._returnResult({data:{user:null,session:null},error:_}):!j||!j.session||!j.user?this._returnResult({data:{user:null,session:null},error:new wl}):(j.session&&(await this._saveSession(j.session),await this._notifyAllSubscribers("USER_UPDATED",j.session)),this._returnResult({data:j,error:_}))}catch(c){if(await vt(this.storage,`${this.storageKey}-code-verifier`),le(c))return this._returnResult({data:{user:null,session:null},error:c});throw c}})}async unlinkIdentity(n){try{return await this._useSession(async s=>{var r,c;const{data:d,error:f}=s;if(f)throw f;return await oe(this.fetch,"DELETE",`${this.url}/user/identities/${n.identity_id}`,{headers:this.headers,jwt:(c=(r=d.session)===null||r===void 0?void 0:r.access_token)!==null&&c!==void 0?c:void 0})})}catch(s){if(le(s))return this._returnResult({data:null,error:s});throw s}}async _refreshAccessToken(n){const s=`#_refreshAccessToken(${n.substring(0,5)}...)`;this._debug(s,"begin");try{const r=Date.now();return await Rx(async c=>(c>0&&await Ox(200*Math.pow(2,c-1)),this._debug(s,"refreshing attempt",c),await oe(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:n},headers:this.headers,xform:ea})),(c,d)=>{const f=200*Math.pow(2,c);return d&&ec(d)&&Date.now()+f-r<Al})}catch(r){if(this._debug(s,"error",r),le(r))return this._returnResult({data:{session:null,user:null},error:r});throw r}finally{this._debug(s,"end")}}_isValidSession(n){return typeof n=="object"&&n!==null&&"access_token"in n&&"refresh_token"in n&&"expires_at"in n}async _handleProviderSignIn(n,s){const r=await this._getUrlForProvider(`${this.url}/authorize`,n,{redirectTo:s.redirectTo,scopes:s.scopes,queryParams:s.queryParams});return this._debug("#_handleProviderSignIn()","provider",n,"options",s,"url",r),bt()&&!s.skipBrowserRedirect&&window.location.assign(r),{data:{provider:n,url:r},error:null}}async _recoverAndRefresh(){var n,s;const r="#_recoverAndRefresh()";this._debug(r,"begin");try{const c=await kn(this.storage,this.storageKey);if(c&&this.userStorage){let f=await kn(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!f&&(f={user:c.user},await Tl(this.userStorage,this.storageKey+"-user",f)),c.user=(n=f==null?void 0:f.user)!==null&&n!==void 0?n:tc()}else if(c&&!c.user&&!c.user){const f=await kn(this.storage,this.storageKey+"-user");f&&(f!=null&&f.user)?(c.user=f.user,await vt(this.storage,this.storageKey+"-user"),await Tl(this.storage,this.storageKey,c)):c.user=tc()}if(this._debug(r,"session from storage",c),!this._isValidSession(c)){this._debug(r,"session is not valid"),c!==null&&await this._removeSession();return}const d=((s=c.expires_at)!==null&&s!==void 0?s:1/0)*1e3-Date.now()<Wu;if(this._debug(r,`session has${d?"":" not"} expired with margin of ${Wu}s`),d){if(this.autoRefreshToken&&c.refresh_token){const{error:f}=await this._callRefreshToken(c.refresh_token);f&&(console.error(f),ec(f)||(this._debug(r,"refresh failed with a non-retryable error, removing the session",f),await this._removeSession()))}}else if(c.user&&c.user.__isUserNotAvailableProxy===!0)try{const{data:f,error:g}=await this._getUser(c.access_token);!g&&(f!=null&&f.user)?(c.user=f.user,await this._saveSession(c),await this._notifyAllSubscribers("SIGNED_IN",c)):this._debug(r,"could not get user data, skipping SIGNED_IN notification")}catch(f){console.error("Error getting user data:",f),this._debug(r,"error getting user data, skipping SIGNED_IN notification",f)}else await this._notifyAllSubscribers("SIGNED_IN",c)}catch(c){this._debug(r,"error",c),console.error(c);return}finally{this._debug(r,"end")}}async _callRefreshToken(n){var s,r;if(!n)throw new qt;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const c=`#_callRefreshToken(${n.substring(0,5)}...)`;this._debug(c,"begin");try{this.refreshingDeferred=new Or;const{data:d,error:f}=await this._refreshAccessToken(n);if(f)throw f;if(!d.session)throw new qt;await this._saveSession(d.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",d.session);const g={data:d.session,error:null};return this.refreshingDeferred.resolve(g),g}catch(d){if(this._debug(c,"error",d),le(d)){const f={data:null,error:d};return ec(d)||await this._removeSession(),(s=this.refreshingDeferred)===null||s===void 0||s.resolve(f),f}throw(r=this.refreshingDeferred)===null||r===void 0||r.reject(d),d}finally{this.refreshingDeferred=null,this._debug(c,"end")}}async _notifyAllSubscribers(n,s,r=!0){const c=`#_notifyAllSubscribers(${n})`;this._debug(c,"begin",s,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:n,session:s});const d=[],f=Array.from(this.stateChangeEmitters.values()).map(async g=>{try{await g.callback(n,s)}catch(y){d.push(y)}});if(await Promise.all(f),d.length>0){for(let g=0;g<d.length;g+=1)console.error(d[g]);throw d[0]}}finally{this._debug(c,"end")}}async _saveSession(n){this._debug("#_saveSession()",n),this.suppressGetSessionWarning=!0,await vt(this.storage,`${this.storageKey}-code-verifier`);const s=Object.assign({},n),r=s.user&&s.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!r&&s.user&&await Tl(this.userStorage,this.storageKey+"-user",{user:s.user});const c=Object.assign({},s);delete c.user;const d=eg(c);await Tl(this.storage,this.storageKey,d)}else{const c=eg(s);await Tl(this.storage,this.storageKey,c)}}async _removeSession(){this._debug("#_removeSession()"),this.suppressGetSessionWarning=!1,await vt(this.storage,this.storageKey),await vt(this.storage,this.storageKey+"-code-verifier"),await vt(this.storage,this.storageKey+"-user"),this.userStorage&&await vt(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const n=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{n&&bt()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",n)}catch(s){console.error("removing visibilitychange callback failed",s)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const n=setInterval(()=>this._autoRefreshTokenTick(),Al);this.autoRefreshTicker=n,n&&typeof n=="object"&&typeof n.unref=="function"?n.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(n);const s=setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0);this.autoRefreshTickTimeout=s,s&&typeof s=="object"&&typeof s.unref=="function"?s.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(s)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const n=this.autoRefreshTicker;this.autoRefreshTicker=null,n&&clearInterval(n);const s=this.autoRefreshTickTimeout;this.autoRefreshTickTimeout=null,s&&clearTimeout(s)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const n=Date.now();try{return await this._useSession(async s=>{const{data:{session:r}}=s;if(!r||!r.refresh_token||!r.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const c=Math.floor((r.expires_at*1e3-n)/Al);this._debug("#_autoRefreshTokenTick()",`access token expires in ${c} ticks, a tick lasts ${Al}ms, refresh threshold is ${fc} ticks`),c<=fc&&await this._callRefreshToken(r.refresh_token)})}catch(s){console.error("Auto refresh tick failed with error. This is likely a transient error.",s)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(n){if(n.isAcquireTimeout||n instanceof Cg)this._debug("auto refresh token tick lock not available");else throw n}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!bt()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>{try{await this._onVisibilityChanged(!1)}catch(n){this._debug("#visibilityChangedCallback","error",n)}},window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(n){console.error("_handleVisibilityChange",n)}}async _onVisibilityChanged(n){const s=`#_onVisibilityChanged(${n})`;this._debug(s,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),n||(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{if(document.visibilityState!=="visible"){this._debug(s,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(n,s,r){const c=[`provider=${encodeURIComponent(s)}`];if(r!=null&&r.redirectTo&&c.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),r!=null&&r.scopes&&c.push(`scopes=${encodeURIComponent(r.scopes)}`),this.flowType==="pkce"){const[d,f]=await _l(this.storage,this.storageKey),g=new URLSearchParams({code_challenge:`${encodeURIComponent(d)}`,code_challenge_method:`${encodeURIComponent(f)}`});c.push(g.toString())}if(r!=null&&r.queryParams){const d=new URLSearchParams(r.queryParams);c.push(d.toString())}return r!=null&&r.skipBrowserRedirect&&c.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${n}?${c.join("&")}`}async _unenroll(n){try{return await this._useSession(async s=>{var r;const{data:c,error:d}=s;return d?this._returnResult({data:null,error:d}):await oe(this.fetch,"DELETE",`${this.url}/factors/${n.factorId}`,{headers:this.headers,jwt:(r=c==null?void 0:c.session)===null||r===void 0?void 0:r.access_token})})}catch(s){if(le(s))return this._returnResult({data:null,error:s});throw s}}async _enroll(n){try{return await this._useSession(async s=>{var r,c;const{data:d,error:f}=s;if(f)return this._returnResult({data:null,error:f});const g=Object.assign({friendly_name:n.friendlyName,factor_type:n.factorType},n.factorType==="phone"?{phone:n.phone}:n.factorType==="totp"?{issuer:n.issuer}:{}),{data:y,error:p}=await oe(this.fetch,"POST",`${this.url}/factors`,{body:g,headers:this.headers,jwt:(r=d==null?void 0:d.session)===null||r===void 0?void 0:r.access_token});return p?this._returnResult({data:null,error:p}):(n.factorType==="totp"&&y.type==="totp"&&(!((c=y==null?void 0:y.totp)===null||c===void 0)&&c.qr_code)&&(y.totp.qr_code=`data:image/svg+xml;utf-8,${y.totp.qr_code}`),this._returnResult({data:y,error:null}))})}catch(s){if(le(s))return this._returnResult({data:null,error:s});throw s}}async _verify(n){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async s=>{var r;const{data:c,error:d}=s;if(d)return this._returnResult({data:null,error:d});const f=Object.assign({challenge_id:n.challengeId},"webauthn"in n?{webauthn:Object.assign(Object.assign({},n.webauthn),{credential_response:n.webauthn.type==="create"?rw(n.webauthn.credential_response):ow(n.webauthn.credential_response)})}:{code:n.code}),{data:g,error:y}=await oe(this.fetch,"POST",`${this.url}/factors/${n.factorId}/verify`,{body:f,headers:this.headers,jwt:(r=c==null?void 0:c.session)===null||r===void 0?void 0:r.access_token});return y?this._returnResult({data:null,error:y}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+g.expires_in},g)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",g),this._returnResult({data:g,error:y}))})}catch(s){if(le(s))return this._returnResult({data:null,error:s});throw s}})}async _challenge(n){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async s=>{var r;const{data:c,error:d}=s;if(d)return this._returnResult({data:null,error:d});const f=await oe(this.fetch,"POST",`${this.url}/factors/${n.factorId}/challenge`,{body:n,headers:this.headers,jwt:(r=c==null?void 0:c.session)===null||r===void 0?void 0:r.access_token});if(f.error)return f;const{data:g}=f;if(g.type!=="webauthn")return{data:g,error:null};switch(g.webauthn.type){case"create":return{data:Object.assign(Object.assign({},g),{webauthn:Object.assign(Object.assign({},g.webauthn),{credential_options:Object.assign(Object.assign({},g.webauthn.credential_options),{publicKey:iw(g.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},g),{webauthn:Object.assign(Object.assign({},g.webauthn),{credential_options:Object.assign(Object.assign({},g.webauthn.credential_options),{publicKey:sw(g.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(s){if(le(s))return this._returnResult({data:null,error:s});throw s}})}async _challengeAndVerify(n){const{data:s,error:r}=await this._challenge({factorId:n.factorId});return r?this._returnResult({data:null,error:r}):await this._verify({factorId:n.factorId,challengeId:s.id,code:n.code})}async _listFactors(){var n;const{data:{user:s},error:r}=await this.getUser();if(r)return{data:null,error:r};const c={all:[],phone:[],totp:[],webauthn:[]};for(const d of(n=s==null?void 0:s.factors)!==null&&n!==void 0?n:[])c.all.push(d),d.status==="verified"&&c[d.factor_type].push(d);return{data:c,error:null}}async _getAuthenticatorAssuranceLevel(n){var s,r,c,d;if(n)try{const{payload:_}=yr(n);let k=null;_.aal&&(k=_.aal);let D=k;const{data:{user:H},error:B}=await this.getUser(n);if(B)return this._returnResult({data:null,error:B});((r=(s=H==null?void 0:H.factors)===null||s===void 0?void 0:s.filter(X=>X.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(D="aal2");const M=_.amr||[];return{data:{currentLevel:k,nextLevel:D,currentAuthenticationMethods:M},error:null}}catch(_){if(le(_))return this._returnResult({data:null,error:_});throw _}const{data:{session:f},error:g}=await this.getSession();if(g)return this._returnResult({data:null,error:g});if(!f)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:y}=yr(f.access_token);let p=null;y.aal&&(p=y.aal);let b=p;((d=(c=f.user.factors)===null||c===void 0?void 0:c.filter(_=>_.status==="verified"))!==null&&d!==void 0?d:[]).length>0&&(b="aal2");const j=y.amr||[];return{data:{currentLevel:p,nextLevel:b,currentAuthenticationMethods:j},error:null}}async _getAuthorizationDetails(n){try{return await this._useSession(async s=>{const{data:{session:r},error:c}=s;return c?this._returnResult({data:null,error:c}):r?await oe(this.fetch,"GET",`${this.url}/oauth/authorizations/${n}`,{headers:this.headers,jwt:r.access_token,xform:d=>({data:d,error:null})}):this._returnResult({data:null,error:new qt})})}catch(s){if(le(s))return this._returnResult({data:null,error:s});throw s}}async _approveAuthorization(n,s){try{return await this._useSession(async r=>{const{data:{session:c},error:d}=r;if(d)return this._returnResult({data:null,error:d});if(!c)return this._returnResult({data:null,error:new qt});const f=await oe(this.fetch,"POST",`${this.url}/oauth/authorizations/${n}/consent`,{headers:this.headers,jwt:c.access_token,body:{action:"approve"},xform:g=>({data:g,error:null})});return f.data&&f.data.redirect_url&&bt()&&!(s!=null&&s.skipBrowserRedirect)&&window.location.assign(f.data.redirect_url),f})}catch(r){if(le(r))return this._returnResult({data:null,error:r});throw r}}async _denyAuthorization(n,s){try{return await this._useSession(async r=>{const{data:{session:c},error:d}=r;if(d)return this._returnResult({data:null,error:d});if(!c)return this._returnResult({data:null,error:new qt});const f=await oe(this.fetch,"POST",`${this.url}/oauth/authorizations/${n}/consent`,{headers:this.headers,jwt:c.access_token,body:{action:"deny"},xform:g=>({data:g,error:null})});return f.data&&f.data.redirect_url&&bt()&&!(s!=null&&s.skipBrowserRedirect)&&window.location.assign(f.data.redirect_url),f})}catch(r){if(le(r))return this._returnResult({data:null,error:r});throw r}}async _listOAuthGrants(){try{return await this._useSession(async n=>{const{data:{session:s},error:r}=n;return r?this._returnResult({data:null,error:r}):s?await oe(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:s.access_token,xform:c=>({data:c,error:null})}):this._returnResult({data:null,error:new qt})})}catch(n){if(le(n))return this._returnResult({data:null,error:n});throw n}}async _revokeOAuthGrant(n){try{return await this._useSession(async s=>{const{data:{session:r},error:c}=s;return c?this._returnResult({data:null,error:c}):r?(await oe(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:r.access_token,query:{client_id:n.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new qt})})}catch(s){if(le(s))return this._returnResult({data:null,error:s});throw s}}async fetchJwk(n,s={keys:[]}){let r=s.keys.find(g=>g.kid===n);if(r)return r;const c=Date.now();if(r=this.jwks.keys.find(g=>g.kid===n),r&&this.jwks_cached_at+yx>c)return r;const{data:d,error:f}=await oe(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(f)throw f;return!d.keys||d.keys.length===0||(this.jwks=d,this.jwks_cached_at=c,r=d.keys.find(g=>g.kid===n),!r)?null:r}async getClaims(n,s={}){try{let r=n;if(!r){const{data:_,error:k}=await this.getSession();if(k||!_.session)return this._returnResult({data:null,error:k});r=_.session.access_token}const{header:c,payload:d,signature:f,raw:{header:g,payload:y}}=yr(r);s!=null&&s.allowExpired||Bx(d.exp);const p=!c.alg||c.alg.startsWith("HS")||!c.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(c.kid,s!=null&&s.keys?{keys:s.keys}:s==null?void 0:s.jwks);if(!p){const{error:_}=await this.getUser(r);if(_)throw _;return{data:{claims:d,header:c,signature:f},error:null}}const b=qx(c.alg),x=await crypto.subtle.importKey("jwk",p,b,!0,["verify"]);if(!await crypto.subtle.verify(b,x,f,Ex(`${g}.${y}`)))throw new yc("Invalid JWT signature");return{data:{claims:d,header:c,signature:f},error:null}}catch(r){if(le(r))return this._returnResult({data:null,error:r});throw r}}}Hi.nextInstanceID={};const pw=Hi,vw="2.95.3";let Ri="";typeof Deno<"u"?Ri="deno":typeof document<"u"?Ri="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Ri="react-native":Ri="node";const bw={"X-Client-Info":`supabase-js-${Ri}/${vw}`},xw={headers:bw},ww={schema:"public"},_w={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},Sw={};function Gi(i){"@babel/helpers - typeof";return Gi=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(n){return typeof n}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},Gi(i)}function jw(i,n){if(Gi(i)!="object"||!i)return i;var s=i[Symbol.toPrimitive];if(s!==void 0){var r=s.call(i,n);if(Gi(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(n==="string"?String:Number)(i)}function Ew(i){var n=jw(i,"string");return Gi(n)=="symbol"?n:n+""}function Nw(i,n,s){return(n=Ew(n))in i?Object.defineProperty(i,n,{value:s,enumerable:!0,configurable:!0,writable:!0}):i[n]=s,i}function rg(i,n){var s=Object.keys(i);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(i);n&&(r=r.filter(function(c){return Object.getOwnPropertyDescriptor(i,c).enumerable})),s.push.apply(s,r)}return s}function We(i){for(var n=1;n<arguments.length;n++){var s=arguments[n]!=null?arguments[n]:{};n%2?rg(Object(s),!0).forEach(function(r){Nw(i,r,s[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(s)):rg(Object(s)).forEach(function(r){Object.defineProperty(i,r,Object.getOwnPropertyDescriptor(s,r))})}return i}const Aw=i=>i?(...n)=>i(...n):(...n)=>fetch(...n),Tw=()=>Headers,kw=(i,n,s)=>{const r=Aw(s),c=Tw();return async(d,f)=>{var g;const y=(g=await n())!==null&&g!==void 0?g:i;let p=new c(f==null?void 0:f.headers);return p.has("apikey")||p.set("apikey",i),p.has("Authorization")||p.set("Authorization",`Bearer ${y}`),r(d,We(We({},f),{},{headers:p}))}};function Ow(i){return i.endsWith("/")?i:i+"/"}function Rw(i,n){var s,r;const{db:c,auth:d,realtime:f,global:g}=i,{db:y,auth:p,realtime:b,global:x}=n,j={db:We(We({},y),c),auth:We(We({},p),d),realtime:We(We({},b),f),storage:{},global:We(We(We({},x),g),{},{headers:We(We({},(s=x==null?void 0:x.headers)!==null&&s!==void 0?s:{}),(r=g==null?void 0:g.headers)!==null&&r!==void 0?r:{})}),accessToken:async()=>""};return i.accessToken?j.accessToken=i.accessToken:delete j.accessToken,j}function Cw(i){const n=i==null?void 0:i.trim();if(!n)throw new Error("supabaseUrl is required.");if(!n.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(Ow(n))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}var Dw=class extends pw{constructor(i){super(i)}},zw=class{constructor(i,n,s){var r,c;this.supabaseUrl=i,this.supabaseKey=n;const d=Cw(i);if(!n)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",d),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",d),this.storageUrl=new URL("storage/v1",d),this.functionsUrl=new URL("functions/v1",d);const f=`sb-${d.hostname.split(".")[0]}-auth-token`,g={db:ww,realtime:Sw,auth:We(We({},_w),{},{storageKey:f}),global:xw},y=Rw(s??{},g);if(this.storageKey=(r=y.auth.storageKey)!==null&&r!==void 0?r:"",this.headers=(c=y.global.headers)!==null&&c!==void 0?c:{},y.accessToken)this.accessToken=y.accessToken,this.auth=new Proxy({},{get:(b,x)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(x)} is not possible`)}});else{var p;this.auth=this._initSupabaseAuthClient((p=y.auth)!==null&&p!==void 0?p:{},this.headers,y.global.fetch)}this.fetch=kw(n,this._getAccessToken.bind(this),y.global.fetch),this.realtime=this._initRealtimeClient(We({headers:this.headers,accessToken:this._getAccessToken.bind(this)},y.realtime)),this.accessToken&&Promise.resolve(this.accessToken()).then(b=>this.realtime.setAuth(b)).catch(b=>console.warn("Failed to set initial Realtime auth token:",b)),this.rest=new vb(new URL("rest/v1",d).href,{headers:this.headers,schema:y.db.schema,fetch:this.fetch,timeout:y.db.timeout,urlLengthLimit:y.db.urlLengthLimit}),this.storage=new dx(this.storageUrl.href,this.headers,this.fetch,s==null?void 0:s.storage),y.accessToken||this._listenForAuthEvents()}get functions(){return new cb(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(i){return this.rest.from(i)}schema(i){return this.rest.schema(i)}rpc(i,n={},s={head:!1,get:!1,count:void 0}){return this.rest.rpc(i,n,s)}channel(i,n={config:{}}){return this.realtime.channel(i,n)}getChannels(){return this.realtime.getChannels()}removeChannel(i){return this.realtime.removeChannel(i)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var i=this,n,s;if(i.accessToken)return await i.accessToken();const{data:r}=await i.auth.getSession();return(n=(s=r.session)===null||s===void 0?void 0:s.access_token)!==null&&n!==void 0?n:i.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:i,persistSession:n,detectSessionInUrl:s,storage:r,userStorage:c,storageKey:d,flowType:f,lock:g,debug:y,throwOnError:p},b,x){const j={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new Dw({url:this.authUrl.href,headers:We(We({},j),b),storageKey:d,autoRefreshToken:i,persistSession:n,detectSessionInUrl:s,storage:r,userStorage:c,flowType:f,lock:g,debug:y,throwOnError:p,fetch:x,hasCustomAuthorizationHeader:Object.keys(this.headers).some(_=>_.toLowerCase()==="authorization")})}_initRealtimeClient(i){return new Ub(this.realtimeUrl.href,We(We({},i),{},{params:We(We({},{apikey:this.supabaseKey}),i==null?void 0:i.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((i,n)=>{this._handleTokenChanged(i,"CLIENT",n==null?void 0:n.access_token)})}_handleTokenChanged(i,n,s){(i==="TOKEN_REFRESHED"||i==="SIGNED_IN")&&this.changedAccessToken!==s?(this.changedAccessToken=s,this.realtime.setAuth(s)):i==="SIGNED_OUT"&&(this.realtime.setAuth(),n=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}};const Uw=(i,n,s)=>new zw(i,n,s);function Mw(){if(typeof window<"u")return!1;const i=globalThis.process;if(!i)return!1;const n=i.version;if(n==null)return!1;const s=n.match(/^v(\d+)\./);return s?parseInt(s[1],10)<=18:!1}Mw()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const Lw="https://rvovhwrtalfixyseufsu.supabase.co",Bw="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InJ2b3Zod3J0YWxmaXh5c2V1ZnN1Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NzA2MjQwNDUsImV4cCI6MjA4NjIwMDA0NX0.q3QodQgkCoiLyA9LGTg2bWr01Dc3gsRAUdglmqxDZYM",He=Uw(Lw,Bw),qw=({isOpen:i,onClose:n,onLogin:s,onRegister:r,villagers:c,guests:d})=>{const[f,g]=U.useState("LOGIN"),[y,p]=U.useState(ve.GUEST),[b,x]=U.useState(""),[j,_]=U.useState(""),[k,D]=U.useState(""),[H,B]=U.useState(""),[V,M]=U.useState(""),[X,P]=U.useState(""),[Z,I]=U.useState(""),[ge,Ne]=U.useState("");if(!i)return null;const Je=()=>{_(""),x(""),D(""),B(""),M(""),P(""),I(""),Ne("")},Xe=async J=>{if(J.preventDefault(),H.trim()==="mbalci@ktun.edu.tr"&&j.trim()==="109109109"){s({id:"admin",name:"Melih",surname:"Balc",role:ve.ADMIN}),Je(),n();return}if(!H.trim()){ee.error("Ltfen e-posta adresinizi giriniz.");return}if(!j){ee.error("Ltfen ifrenizi giriniz.");return}try{const{data:be,error:Ue}=await He.auth.signInWithPassword({email:H.trim(),password:j.trim()});if(Ue)throw Ue;ee.success("Giri baarl!"),Je(),n()}catch(be){ee.error(`Giri baarsz: ${be.message}. Ltfen bilgilerinizi kontrol edin.`)}},ze=async J=>{if(J.preventDefault(),!b.trim()||!k.trim()||!H.trim()||!j.trim()){ee.error("Ltfen isim, soyisim, e-posta ve ifre alanlarn doldurunuz.");return}if(y===ve.VILLAGER&&(!X.trim()||!ge.trim()||!Z.trim())){ee.error("Ky sakini kayd iin Meslek, letiim ve Adres alanlar zorunludur.");return}try{const{data:be,error:Ue}=await He.auth.signUp({email:H.trim(),password:j.trim(),options:{data:{full_name:`${b} ${k}`,role:y}}});if(Ue)throw Ue;if(be.user){if(y===ve.VILLAGER){const{error:R}=await He.from("villagers").insert({user_id:be.user.id,name:b,surname:k,nickname:V,profession:X,address:Z,contact:ge,email:H,rating:0});R&&(console.error("Error creating villager profile:",R),ee.error("Kullanc oluturuldu fakat profil detaylar kaydedilemedi."))}ee.success("Kayt baarl! Giri yapabilirsiniz."),Je(),n()}}catch(be){console.error("Registration error:",be),ee.error(`Kayt baarsz: ${be.message}`)}};return h.jsxs("div",{className:"fixed inset-0 z-[60] flex items-center justify-center p-4",children:[h.jsx("div",{className:"absolute inset-0 bg-black/50 backdrop-blur-sm",onClick:n}),h.jsxs("div",{className:"relative bg-white rounded-2xl shadow-2xl w-full max-w-lg overflow-hidden animate-fade-in-up max-h-[90vh] overflow-y-auto",children:[h.jsx("button",{onClick:n,className:"absolute top-4 right-4 text-gray-400 hover:text-gray-600",children:h.jsx(Oa,{})}),h.jsxs("div",{className:"p-8",children:[h.jsxs("div",{className:"flex justify-center mb-6 border-b border-gray-100 pb-4",children:[h.jsx("button",{className:`px-6 py-2 font-semibold transition-colors ${f==="LOGIN"?"text-green-600 border-b-2 border-green-600":"text-gray-400"}`,onClick:()=>g("LOGIN"),children:"Giri Yap"}),h.jsx("button",{className:`px-6 py-2 font-semibold transition-colors ${f==="REGISTER"?"text-green-600 border-b-2 border-green-600":"text-gray-400"}`,onClick:()=>g("REGISTER"),children:"Kayt Ol"})]}),f==="LOGIN"?h.jsxs("form",{onSubmit:Xe,className:"space-y-4",children:[h.jsx("div",{className:"space-y-4",children:h.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"E-Posta"}),h.jsx("input",{type:"email",value:H,onChange:J=>B(J.target.value),placeholder:"ad@ornek.com",className:"mt-1 block w-full rounded-md border border-gray-300 p-2 shadow-sm focus:border-green-500 focus:ring-green-500 bg-white text-black"})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"ifre"}),h.jsx("input",{type:"password",value:j,onChange:J=>_(J.target.value),className:"mt-1 block w-full rounded-md border border-gray-300 p-2 shadow-sm focus:border-green-500 focus:ring-green-500 bg-white text-black"})]})]})}),h.jsx("button",{type:"submit",className:"w-full bg-green-600 hover:bg-green-700 text-white font-bold py-3 rounded-lg transition-colors shadow-md mt-6",children:"Giri Yap"})]}):h.jsxs("form",{onSubmit:ze,className:"space-y-4",children:[h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Kayt Tr"}),h.jsxs("div",{className:"flex bg-gray-100 p-1 rounded-lg",children:[h.jsx("button",{type:"button",className:`flex-1 py-2 rounded-md text-sm font-medium transition-all ${y===ve.GUEST?"bg-white shadow text-green-700":"text-gray-500 hover:text-gray-700"}`,onClick:()=>p(ve.GUEST),children:"Misafir"}),h.jsx("button",{type:"button",className:`flex-1 py-2 rounded-md text-sm font-medium transition-all ${y===ve.VILLAGER?"bg-white shadow text-green-700":"text-gray-500 hover:text-gray-700"}`,onClick:()=>p(ve.VILLAGER),children:"Ky Sakini"})]})]}),h.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[h.jsxs("div",{children:[h.jsx("label",{className:"block text-xs font-bold text-gray-500 uppercase",children:"sim"}),h.jsx("input",{type:"text",value:b,onChange:J=>x(J.target.value),className:"w-full border-b-2 border-gray-200 focus:border-green-500 outline-none py-2 bg-transparent text-black transition-colors"})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-xs font-bold text-gray-500 uppercase",children:"Soyisim"}),h.jsx("input",{type:"text",value:k,onChange:J=>D(J.target.value),className:"w-full border-b-2 border-gray-200 focus:border-green-500 outline-none py-2 bg-transparent text-black transition-colors"})]})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-xs font-bold text-gray-500 uppercase",children:"E-Posta"}),h.jsx("input",{type:"email",value:H,onChange:J=>B(J.target.value),className:"w-full border-b-2 border-gray-200 focus:border-green-500 outline-none py-2 bg-transparent text-black transition-colors"})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-xs font-bold text-gray-500 uppercase",children:"ifre"}),h.jsx("input",{type:"password",value:j,onChange:J=>_(J.target.value),className:"w-full border-b-2 border-gray-200 focus:border-green-500 outline-none py-2 bg-transparent text-black transition-colors"})]}),y===ve.VILLAGER&&h.jsx("div",{className:"space-y-4 pt-2 animate-fade-in-up",children:h.jsxs("div",{className:"bg-green-50 p-4 rounded-lg space-y-3 border border-green-100",children:[h.jsx("h4",{className:"font-semibold text-green-800 text-sm",children:"Ky Sakini Bilgileri"}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-xs font-bold text-gray-500",children:"Meslek (rn: Tesisat, ifti)"}),h.jsx("input",{type:"text",value:X,onChange:J=>P(J.target.value),className:"w-full bg-white text-black rounded border border-gray-200 p-2 text-sm mt-1"})]}),h.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[h.jsxs("div",{children:[h.jsx("label",{className:"block text-xs font-bold text-gray-500",children:"Lakap (Varsa)"}),h.jsx("input",{type:"text",value:V,onChange:J=>M(J.target.value),className:"w-full bg-white text-black rounded border border-gray-200 p-2 text-sm mt-1"})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-xs font-bold text-gray-500",children:"letiim (Tel)"}),h.jsx("input",{type:"tel",value:ge,onChange:J=>Ne(J.target.value),className:"w-full bg-white text-black rounded border border-gray-200 p-2 text-sm mt-1"})]})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-xs font-bold text-gray-500",children:"Adres"}),h.jsx("textarea",{value:Z,onChange:J=>I(J.target.value),rows:2,className:"w-full bg-white text-black rounded border border-gray-200 p-2 text-sm mt-1"})]})]})}),h.jsx("button",{type:"submit",className:"w-full bg-green-600 hover:bg-green-700 text-white font-bold py-3 rounded-lg transition-colors shadow-md",children:"Kayt Ol"})]})]})]})]})},Hw=()=>{const[i,n]=U.useState(null),[s,r]=U.useState(!1),[c,d]=U.useState(!1),[f,g]=U.useState(!1),[y,p]=U.useState(!1);U.useEffect(()=>{const x=window.matchMedia("(display-mode: standalone)").matches||window.navigator.standalone||document.referrer.includes("android-app://");g(x);const j=window.navigator.userAgent.toLowerCase(),_=/iphone|ipad|ipod/.test(j);if(d(_),x)return;const k=setTimeout(()=>{p(!0)},2e3),D=H=>{H.preventDefault(),n(H),p(!0)};return window.addEventListener("beforeinstallprompt",D),()=>{clearTimeout(k),window.removeEventListener("beforeinstallprompt",D)}},[]);const b=async()=>{if(c)r(!0);else if(i){i.prompt();const{outcome:x}=await i.userChoice;x==="accepted"&&(n(null),p(!1))}else alert("Uygulamay yklemek iin taraycnzn mensnden 'Ana Ekrana Ekle' veya 'Uygulamay Ykle' seeneini kullanabilirsiniz.")};return f||!y?null:h.jsxs(h.Fragment,{children:[h.jsxs("button",{onClick:b,className:"fixed bottom-6 right-6 z-50 bg-green-600 hover:bg-green-700 text-white p-4 rounded-full shadow-xl flex items-center gap-2 transition-all hover:scale-110 animate-fade-in-up",title:"Uygulamay Ykle",children:[h.jsx($p,{size:24}),h.jsx("span",{className:"hidden md:inline font-bold",children:"Uygulamay Ykle"})]}),s&&h.jsx("div",{className:"fixed inset-0 z-[100] flex items-end sm:items-center justify-center p-4 bg-black/60 backdrop-blur-sm animate-fade-in",children:h.jsxs("div",{className:"bg-stone-50 rounded-t-2xl sm:rounded-2xl w-full max-w-sm overflow-hidden shadow-2xl relative",children:[h.jsx("button",{onClick:()=>r(!1),className:"absolute top-3 right-3 text-gray-500 hover:text-gray-800 bg-gray-200 rounded-full p-1",children:h.jsx(Oa,{size:20})}),h.jsxs("div",{className:"p-6 text-center",children:[h.jsx("div",{className:"w-16 h-16 bg-green-100 text-green-600 rounded-2xl flex items-center justify-center mx-auto mb-4",children:h.jsx(Ep,{size:32})}),h.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-2",children:"Ana Ekrana Ekle"}),h.jsx("p",{className:"text-gray-600 text-sm mb-6",children:"iPhone ve iPad cihazlarda uygulamay yklemek iin aadaki admlar izleyin:"}),h.jsxs("div",{className:"space-y-4 text-left",children:[h.jsxs("div",{className:"flex items-center gap-4 bg-white p-3 rounded-lg border border-gray-200",children:[h.jsx("span",{className:"flex-shrink-0 w-8 h-8 flex items-center justify-center bg-blue-50 text-blue-600 rounded-full font-bold",children:"1"}),h.jsxs("div",{className:"text-sm text-gray-700",children:["Tarayc altndaki ",h.jsxs("span",{className:"font-bold text-blue-600 inline-flex items-center mx-1",children:[h.jsx(ev,{size:14})," Payla"]})," butonuna basn."]})]}),h.jsxs("div",{className:"flex items-center gap-4 bg-white p-3 rounded-lg border border-gray-200",children:[h.jsx("span",{className:"flex-shrink-0 w-8 h-8 flex items-center justify-center bg-blue-50 text-blue-600 rounded-full font-bold",children:"2"}),h.jsxs("div",{className:"text-sm text-gray-700",children:["Alan mende aa kaydrp ",h.jsxs("span",{className:"font-bold text-gray-800 inline-flex items-center mx-1",children:[h.jsx(av,{size:14})," Ana Ekrana Ekle"]})," seeneine dokunun."]})]}),h.jsxs("div",{className:"flex items-center gap-4 bg-white p-3 rounded-lg border border-gray-200",children:[h.jsx("span",{className:"flex-shrink-0 w-8 h-8 flex items-center justify-center bg-blue-50 text-blue-600 rounded-full font-bold",children:"3"}),h.jsxs("div",{className:"text-sm text-gray-700",children:["Sa st kedeki ",h.jsx("span",{className:"font-bold text-blue-600",children:"Ekle"})," butonuna basarak tamamlayn."]})]})]}),h.jsx("div",{className:"mt-6 pt-4 border-t border-gray-200",children:h.jsx("button",{onClick:()=>r(!1),className:"w-full bg-green-600 hover:bg-green-700 text-white font-bold py-3 rounded-xl transition-colors",children:"Anladm"})})]}),h.jsx("div",{className:"absolute bottom-0 left-1/2 -translate-x-1/2 w-4 h-4 bg-stone-50 rotate-45 translate-y-2 sm:hidden"})]})})]})},Gw=({isOpen:i,onClose:n,onSave:s,eventItem:r})=>{const[c,d]=U.useState(""),[f,g]=U.useState(""),[y,p]=U.useState(""),[b,x]=U.useState("");if(U.useEffect(()=>{r&&(d(r.title),g(r.content),r.startDate&&p(r.startDate.slice(0,16)),r.endDate&&x(r.endDate.slice(0,16)))},[r]),!i||!r)return null;const j=_=>{if(_.preventDefault(),!c.trim()||!f.trim()){ee.error("Balk ve ierik alanlar zorunludur.");return}if(y&&b&&new Date(b)<new Date(y)){ee.error("Biti tarihi balang tarihinden nce olamaz.");return}s(r.id,c,f,y||void 0,b||void 0),n()};return h.jsxs("div",{className:"fixed inset-0 z-[70] flex items-center justify-center p-4",children:[h.jsx("div",{className:"absolute inset-0 bg-black/50 backdrop-blur-sm",onClick:n}),h.jsxs("div",{className:"relative bg-white rounded-2xl shadow-2xl w-full max-w-lg overflow-hidden animate-fade-in-up",children:[h.jsxs("div",{className:"bg-green-600 px-6 py-4 flex justify-between items-center text-white",children:[h.jsx("h3",{className:"text-xl font-bold",children:"Etkinlii Dzenle"}),h.jsx("button",{onClick:n,className:"hover:bg-green-700 p-1 rounded-full transition-colors",children:h.jsx(Oa,{size:24})})]}),h.jsxs("form",{onSubmit:j,className:"p-6 space-y-4",children:[h.jsxs("div",{children:[h.jsx("label",{className:"block text-xs font-bold text-gray-500 uppercase mb-1",children:"Balk"}),h.jsx("input",{type:"text",value:c,onChange:_=>d(_.target.value),className:"w-full border-b-2 border-gray-200 focus:border-green-500 outline-none py-2 bg-transparent text-black transition-colors"})]}),h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[h.jsxs("div",{children:[h.jsx("label",{className:"block text-xs font-bold text-gray-500 uppercase mb-1",children:"Balang"}),h.jsx("input",{type:"datetime-local",value:y,onChange:_=>p(_.target.value),className:"w-full border-b-2 border-gray-200 focus:border-green-500 outline-none py-2 bg-transparent text-black transition-colors"})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-xs font-bold text-gray-500 uppercase mb-1",children:"Biti"}),h.jsx("input",{type:"datetime-local",value:b,onChange:_=>x(_.target.value),className:"w-full border-b-2 border-gray-200 focus:border-green-500 outline-none py-2 bg-transparent text-black transition-colors"})]})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-xs font-bold text-gray-500 uppercase mb-1",children:"erik"}),h.jsx("textarea",{value:f,onChange:_=>g(_.target.value),rows:6,className:"w-full border rounded-lg border-gray-200 focus:border-green-500 outline-none p-3 bg-transparent text-black transition-colors resize-none"})]}),h.jsx("div",{className:"bg-blue-50 p-3 rounded-lg border border-blue-100",children:h.jsx("p",{className:"text-xs text-blue-800",children:"Not: Grsel dzenleme bu alandan yaplamaz."})}),h.jsxs("button",{type:"submit",className:"w-full bg-green-600 hover:bg-green-700 text-white font-bold py-3 rounded-lg transition-colors shadow-md flex items-center justify-center gap-2 mt-4",children:[h.jsx(xc,{size:20}),"Deiiklikleri Kaydet"]})]})]})]})},og=({events:i,currentUser:n,onAddEvent:s,onDeleteEvent:r,onUpdateEvent:c,limit:d,onShowAll:f})=>{const g=(n==null?void 0:n.role)===ve.ADMIN,[y,p]=U.useState(!1),[b,x]=U.useState(""),[j,_]=U.useState(""),[k,D]=U.useState(""),[H,B]=U.useState(""),[V,M]=U.useState(null),[X,P]=U.useState(null),Z=(K,te,ue)=>{K.preventDefault(),K.stopPropagation(),M(te),P(ue)},[I,ge]=U.useState(null),[Ne,Je]=U.useState("URL"),[Xe,ze]=U.useState(""),[J,be]=U.useState(null),[Ue,R]=U.useState(1),L=6,W=d?i.slice(0,d):i.slice((Ue-1)*L,Ue*L),se=Math.ceil(i.length/L),je=K=>{var ue;const te=(ue=K.target.files)==null?void 0:ue[0];if(te){const ye=new FileReader;ye.onloadend=()=>{ze(ye.result)},ye.readAsDataURL(te)}},E=K=>{if(K.preventDefault(),k&&H){const te=new Date(k);if(new Date(H)<te){ee.error("Hata: Biti zaman balang zamanndan nce olamaz!",{duration:4e3,icon:""});return}}b&&j&&(s(b,j,Xe,k,H),x(""),_(""),ze(""),D(""),B(""),p(!1))},G=(K,te)=>{if(!K)return"";const ue=new Date(K),ye={day:"numeric",month:"long",hour:"2-digit",minute:"2-digit"};if(!te)return ue.toLocaleDateString("tr-TR",ye);const tt=new Date(te);return`${ue.toLocaleDateString("tr-TR",ye)} - ${tt.toLocaleDateString("tr-TR",ye)}`},Q=(K,te)=>{K.preventDefault(),K.stopPropagation(),ge(te)};return h.jsxs("section",{id:"events",className:"bg-white py-16 px-4 border-t border-gray-100",children:[h.jsxs("div",{className:"max-w-7xl mx-auto",children:[h.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-center mb-10",children:[h.jsxs("div",{children:[h.jsxs("h2",{className:"text-3xl font-bold text-green-900 mb-2 flex items-center gap-2",children:[h.jsx(Ol,{className:"text-green-600"}),"Etkinlik Duyurular"]}),h.jsx("p",{className:"text-stone-600",children:"Kymzdeki yaklaan etkinlikler ve organizasyonlar."})]}),g&&h.jsxs("button",{onClick:()=>p(!y),className:"mt-4 md:mt-0 bg-green-700 hover:bg-green-800 text-white px-5 py-2.5 rounded-lg flex items-center gap-2 transition-all shadow-md",children:[h.jsx(bc,{size:20}),y?"Paneli Kapat":"Etkinlik Ekle"]})]}),g&&y&&h.jsxs("div",{className:"bg-stone-50 p-6 rounded-xl shadow-lg mb-10 animate-fade-in-up border border-green-200",children:[h.jsx("h3",{className:"text-lg font-bold mb-4 text-green-800",children:"Yeni Etkinlik Payla"}),h.jsxs("form",{onSubmit:E,className:"space-y-6",children:[h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Balk"}),h.jsx("input",{type:"text",value:b,onChange:K=>x(K.target.value),className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent bg-white text-black transition-all",placeholder:"Etkinlik bal...",required:!0})]}),h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[h.jsxs("div",{className:"space-y-2",children:[h.jsx("label",{className:"block text-sm font-semibold text-gray-700",children:"Balang Zaman"}),h.jsx("div",{className:"relative",children:h.jsx("input",{type:"datetime-local",value:k,onChange:K=>D(K.target.value),className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 bg-white text-black transition-all appearance-none"})}),h.jsx("p",{className:"text-xs text-gray-500",children:"Etkinliin balayaca tarih ve saat."})]}),h.jsxs("div",{className:"space-y-2",children:[h.jsx("label",{className:"block text-sm font-semibold text-gray-700",children:"Biti Zaman (Opsiyonel)"}),h.jsx("div",{className:"relative",children:h.jsx("input",{type:"datetime-local",value:H,onChange:K=>B(K.target.value),className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 bg-white text-black transition-all appearance-none"})}),h.jsx("p",{className:"text-xs text-gray-500",children:"Etkinliin bitecei tarih ve saat."})]})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Fotoraf (Opsiyonel)"}),h.jsxs("div",{className:"flex gap-4 mb-3",children:[h.jsxs("button",{type:"button",onClick:()=>Je("URL"),className:`flex items-center gap-2 px-4 py-2 rounded-lg text-sm font-medium transition-all ${Ne==="URL"?"bg-green-600 text-white shadow-md":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:[h.jsx(zi,{size:16})," Link"]}),h.jsxs("button",{type:"button",onClick:()=>Je("FILE"),className:`flex items-center gap-2 px-4 py-2 rounded-lg text-sm font-medium transition-all ${Ne==="FILE"?"bg-green-600 text-white shadow-md":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:[h.jsx(Sr,{size:16})," Cihazdan"]})]}),Ne==="URL"?h.jsx("input",{type:"url",value:Xe,onChange:K=>ze(K.target.value),className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent bg-white text-black transition-all",placeholder:"https://rnek-grsel.com/image.jpg"}):h.jsx("div",{className:"relative group",children:h.jsx("input",{type:"file",accept:"image/*",onChange:je,className:"w-full p-2 border border-dashed border-gray-400 rounded-lg bg-gray-50 text-black file:mr-4 file:py-2 file:px-4 file:rounded-full file:border-0 file:text-sm file:font-semibold file:bg-green-600 file:text-white hover:file:bg-green-700 cursor-pointer"})}),Xe&&h.jsxs("p",{className:"text-xs text-green-600 mt-2 flex items-center gap-1",children:[h.jsx("span",{className:"w-2 h-2 bg-green-500 rounded-full"})," Grsel kullanma hazr."]}),h.jsx("p",{className:"text-xs text-gray-400 mt-2",children:"* Eklenen fotoraf otomatik olarak galeriye de eklenecektir."})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"erik"}),h.jsx("textarea",{value:j,onChange:K=>_(K.target.value),rows:4,className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent bg-white text-black transition-all",placeholder:"Etkinlik detaylarn buraya yaznz...",required:!0})]}),h.jsx("div",{className:"flex justify-end pt-2",children:h.jsx("button",{type:"submit",className:"bg-green-700 hover:bg-green-800 text-white px-8 py-3 rounded-lg font-bold shadow-lg transform hover:-translate-y-0.5 transition-all",children:"Etkinlii Payla"})})]})]}),h.jsx("div",{className:"grid gap-6 md:grid-cols-2 lg:grid-cols-3",children:W.length>0?W.map(K=>h.jsxs("div",{className:"bg-stone-50 rounded-xl shadow-sm hover:shadow-lg transition-all border border-gray-100 flex flex-col h-full relative group",children:[h.jsxs("div",{onClick:()=>be(K),className:"flex flex-col h-full w-full cursor-pointer",children:[K.imageUrl&&h.jsxs("div",{className:"h-48 w-full overflow-hidden bg-gray-200 relative rounded-t-xl",children:[h.jsx("img",{src:K.imageUrl,alt:K.title,className:"w-full h-full object-cover group-hover:scale-105 transition-transform duration-500"}),h.jsx("div",{className:"absolute top-2 right-2 bg-green-600 text-white text-xs font-bold px-2 py-1 rounded shadow-sm",children:"ETKNLK"})]}),h.jsxs("div",{className:"p-6 flex flex-col flex-grow",children:[h.jsxs("div",{className:"mb-4",children:[h.jsx("h3",{className:"text-xl font-bold text-gray-800 mb-2 group-hover:text-green-700 transition-colors",children:K.title}),h.jsxs("div",{className:"flex flex-col text-xs text-gray-500 gap-2 mt-3",children:[h.jsxs("span",{className:"flex items-center gap-2 bg-green-50 px-2 py-1 rounded w-fit text-green-700 font-medium",children:[h.jsx(Ol,{size:14}),K.startDate?G(K.startDate,K.endDate):K.date]}),h.jsxs("span",{className:"flex items-center gap-2 pl-2 border-l-2 border-gray-200",children:[h.jsx(vr,{size:14})," ",K.author]})]})]}),h.jsx("p",{className:"text-gray-600 leading-relaxed line-clamp-3 mb-4 text-sm",children:K.content}),h.jsxs("div",{className:"mt-auto text-green-600 text-sm font-medium flex items-center gap-1 group-hover:gap-2 transition-all",children:["Detaylar ncele ",h.jsx("span",{children:""})]})]})]}),g&&h.jsxs("div",{className:"absolute top-4 right-4 z-[5] flex gap-2",children:[h.jsx("button",{onClick:te=>Q(te,K),className:"bg-blue-600 hover:bg-blue-700 text-white p-2 rounded-full shadow-lg border-2 border-white transition-transform hover:scale-110 cursor-pointer pointer-events-auto",title:"Etkinlii Dzenle",children:h.jsx(vc,{size:18})}),h.jsx("button",{type:"button",onClick:te=>Z(te,K.id,K.title),className:"bg-red-600 hover:bg-red-700 text-white p-2 rounded-full shadow-lg border-2 border-white transition-transform hover:scale-110 cursor-pointer pointer-events-auto",title:"Etkinlii Sil",children:h.jsx($i,{size:18})})]})]},K.id)):h.jsx("div",{className:"col-span-full text-center py-10 bg-stone-50 rounded-lg shadow-sm border border-stone-200",children:h.jsx("p",{className:"text-gray-500",children:"Henz planlanm bir etkinlik bulunmuyor."})})}),!d&&se>1&&h.jsx("div",{className:"flex justify-center mt-12 gap-2",children:Array.from({length:se},(K,te)=>te+1).map(K=>h.jsx("button",{onClick:()=>R(K),className:`w-10 h-10 rounded-full flex items-center justify-center font-bold transition-all ${Ue===K?"bg-green-700 text-white shadow-lg scale-110":"bg-white text-gray-600 hover:bg-green-50 border border-gray-200"}`,children:K},K))}),d&&i.length>d&&f&&h.jsx("div",{className:"flex justify-center mt-10",children:h.jsxs("button",{onClick:f,className:"bg-green-100 hover:bg-green-200 text-green-800 px-8 py-3 rounded-full font-bold transition-colors shadow-sm flex items-center gap-2",children:["Tm Etkinlikleri Gr (",i.length,")"]})})]}),h.jsx(jr,{isOpen:V!==null,onClose:()=>{M(null),P(null)},onConfirm:()=>{V&&r(V,X||void 0)},title:"Etkinlik silinsin mi?",description:"Bu etkinlii sildiinizde bu ilem geri alnamaz ve listeden kaldrlr."}),h.jsx(Gw,{isOpen:I!==null,onClose:()=>ge(null),onSave:c,eventItem:I}),J&&h.jsxs("div",{className:"fixed inset-0 z-[70] flex items-center justify-center p-4",children:[h.jsx("div",{className:"absolute inset-0 bg-black/70 backdrop-blur-sm",onClick:()=>be(null)}),h.jsxs("div",{className:"relative bg-white rounded-2xl shadow-2xl w-full max-w-2xl max-h-[90vh] overflow-y-auto animate-fade-in-up",children:[h.jsx("button",{onClick:()=>be(null),className:"absolute top-4 right-4 z-10 bg-black/50 hover:bg-black/70 text-white p-2 rounded-full transition-colors",children:h.jsx(Oa,{size:24})}),J.imageUrl&&h.jsx("div",{className:"w-full h-64 sm:h-80",children:h.jsx("img",{src:J.imageUrl,alt:J.title,className:"w-full h-full object-cover"})}),h.jsxs("div",{className:"p-8",children:[h.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-3",children:J.title}),h.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center text-sm text-gray-500 gap-4 mb-6 pb-6 border-b border-gray-100",children:[h.jsxs("span",{className:"flex items-center gap-2 font-medium text-green-700 bg-green-50 w-fit px-3 py-1.5 rounded-full border border-green-100",children:[h.jsx(Ol,{size:18}),J.startDate?G(J.startDate,J.endDate):J.date]}),h.jsxs("span",{className:"flex items-center gap-2",children:[h.jsx(vr,{size:18})," Paylaan: ",J.author]})]}),h.jsx("div",{className:"prose prose-stone max-w-none text-gray-700 leading-relaxed whitespace-pre-line",children:J.content})]})]})]})]})},$w=({onUpdateAd:i,currentTopAd:n,currentTopAdLink:s,currentBottomAAd:r,currentBottomAAdLink:c,currentHeroAd:d,currentHeroAdLink:f})=>{const[g,y]=U.useState("hero"),[p,b]=U.useState("URL"),[x,j]=U.useState(""),[_,k]=U.useState("");cg.useEffect(()=>{g==="hero"?k(f||""):g==="top"?k(s||""):g==="bottomA"&&k(c||"")},[g,f,s,c]);const D=M=>{var P;const X=(P=M.target.files)==null?void 0:P[0];if(X){const Z=new FileReader;Z.onloadend=()=>{const I=Z.result;i(g,I,_.trim()||null),M.target.value=""},Z.readAsDataURL(X)}},H=M=>{M.preventDefault(),x.trim()&&(i(g,x.trim(),_.trim()||null),j(""))},B=()=>g==="hero"?d:g==="top"?n:r,V=()=>g==="hero"?"GR ALANI (HERO)":g==="top"?"1. ALAN (ST)":"2. ALAN (A)";return h.jsx("div",{className:"bg-white border-b-4 border-orange-400 py-8 px-4 shadow-xl relative z-40",children:h.jsxs("div",{className:"max-w-7xl mx-auto",children:[h.jsxs("div",{className:"flex items-center justify-between mb-8",children:[h.jsxs("div",{className:"flex items-center gap-3",children:[h.jsx("div",{className:"bg-orange-600 p-2.5 rounded-2xl text-white shadow-lg shadow-orange-200",children:h.jsx(Ip,{size:28})}),h.jsxs("div",{children:[h.jsx("h2",{className:"text-2xl font-black text-gray-900 uppercase tracking-tight",children:"Reklam Kontrol Paneli"}),h.jsx("p",{className:"text-sm text-gray-500 font-medium",children:"Sitedeki ilan alanlarn buradan anlk ynetin."})]})]}),h.jsxs("div",{className:"flex items-center gap-2 text-[10px] font-black text-white bg-green-500 px-3 py-1.5 rounded-full shadow-sm animate-pulse",children:[h.jsx(or,{size:12})," SSTEM ALIIYOR"]})]}),h.jsxs("div",{className:"grid lg:grid-cols-3 gap-8",children:[h.jsxs("div",{className:"space-y-4",children:[h.jsx("h3",{className:"text-xs font-black text-gray-400 uppercase tracking-widest",children:"1. ALAN SEM"}),h.jsxs("div",{className:"flex flex-col gap-3",children:[h.jsxs("button",{type:"button",onClick:()=>y("hero"),className:`flex items-center justify-between p-4 rounded-2xl border-2 transition-all duration-300 ${g==="hero"?"border-orange-500 bg-orange-50 ring-4 ring-orange-100 scale-[1.02]":"border-gray-100 bg-white hover:border-gray-300 shadow-sm"}`,children:[h.jsxs("div",{className:"text-left",children:[h.jsx("span",{className:`block font-black text-lg ${g==="hero"?"text-orange-700":"text-gray-700"}`,children:"GR ALANI"}),h.jsx("span",{className:"text-xs text-gray-500 font-medium",children:"Hero / Karlama"})]}),g==="hero"?h.jsx(or,{className:"text-orange-600",size:24}):h.jsx("div",{className:"w-6 h-6 rounded-full border-2 border-gray-200"})]}),h.jsxs("button",{type:"button",onClick:()=>y("top"),className:`flex items-center justify-between p-4 rounded-2xl border-2 transition-all duration-300 ${g==="top"?"border-orange-500 bg-orange-50 ring-4 ring-orange-100 scale-[1.02]":"border-gray-100 bg-white hover:border-gray-300 shadow-sm"}`,children:[h.jsxs("div",{className:"text-left",children:[h.jsx("span",{className:`block font-black text-lg ${g==="top"?"text-orange-700":"text-gray-700"}`,children:"1. ALAN"}),h.jsx("span",{className:"text-xs text-gray-500 font-medium",children:"st ( Arama)"})]}),g==="top"?h.jsx(or,{className:"text-orange-600",size:24}):h.jsx("div",{className:"w-6 h-6 rounded-full border-2 border-gray-200"})]}),h.jsx("div",{className:"grid grid-cols-1 gap-3",children:h.jsxs("button",{type:"button",onClick:()=>y("bottomA"),className:`flex items-center justify-between p-4 rounded-2xl border-2 transition-all duration-300 ${g==="bottomA"?"border-orange-500 bg-orange-50 ring-4 ring-orange-100 scale-[1.02]":"border-gray-100 bg-white hover:border-gray-300 shadow-sm"}`,children:[h.jsxs("div",{className:"text-left",children:[h.jsx("span",{className:`block font-black text-sm ${g==="bottomA"?"text-orange-700":"text-gray-700"}`,children:"BAI / ALT SOL"}),h.jsx("span",{className:"text-[10px] text-gray-500 font-medium",children:"Ba Blm"})]}),g==="bottomA"&&h.jsx(or,{className:"text-orange-600",size:16})]})})]})]}),h.jsxs("div",{className:"space-y-4",children:[h.jsx("h3",{className:"text-xs font-black text-gray-400 uppercase tracking-widest",children:"2. FOTORAF VE LNK"}),h.jsxs("div",{className:"bg-gray-50 p-6 rounded-3xl border border-gray-200 space-y-4 h-full shadow-inner",children:[h.jsxs("div",{className:"space-y-1",children:[h.jsx("label",{className:"text-[10px] font-bold text-gray-400 uppercase",children:"HEDEF URL (OPSYONEL)"}),h.jsxs("div",{className:"flex items-center bg-white border-2 border-gray-200 rounded-xl px-3 focus-within:border-orange-400 transition-colors",children:[h.jsx(zi,{size:14,className:"text-gray-400 shrink-0"}),h.jsx("input",{type:"text",value:_,onChange:M=>k(M.target.value),placeholder:"https://rnek.com",className:"w-full p-2.5 text-sm outline-none font-medium bg-transparent"})]})]}),h.jsxs("div",{className:"flex gap-2 p-1 bg-gray-200 rounded-xl",children:[h.jsxs("button",{onClick:()=>b("URL"),className:`flex-1 flex items-center justify-center gap-2 py-2.5 rounded-lg text-xs font-black transition-all ${p==="URL"?"bg-white shadow-md text-orange-600":"text-gray-500"}`,children:[h.jsx(zi,{size:14})," URL GR"]}),h.jsxs("button",{onClick:()=>b("FILE"),className:`flex-1 flex items-center justify-center gap-2 py-2.5 rounded-lg text-xs font-black transition-all ${p==="FILE"?"bg-white shadow-md text-orange-600":"text-gray-500"}`,children:[h.jsx(Sr,{size:14})," DOSYA SE"]})]}),p==="URL"?h.jsxs("form",{onSubmit:H,className:"space-y-3",children:[h.jsx("input",{type:"url",placeholder:"Grsel balantsn buraya yaptrn...",value:x,onChange:M=>j(M.target.value),className:"w-full p-4 rounded-xl border-2 border-gray-200 bg-white text-sm outline-none focus:border-orange-500 transition-all font-medium",required:!0}),h.jsx("button",{type:"submit",className:"w-full bg-orange-600 hover:bg-orange-700 text-white py-4 rounded-xl font-black text-sm shadow-lg shadow-orange-100 transition-all active:scale-95 uppercase tracking-wider",children:"REKLAMI GNCELLE"})]}):h.jsxs("div",{className:"relative h-32 flex items-center justify-center border-3 border-dashed border-gray-300 rounded-2xl bg-white hover:bg-orange-50 hover:border-orange-300 transition-all cursor-pointer group shadow-sm",children:[h.jsx("input",{type:"file",accept:"image/*",onChange:D,className:"absolute inset-0 w-full h-full opacity-0 cursor-pointer z-10"}),h.jsxs("div",{className:"text-center pointer-events-none",children:[h.jsx(nc,{className:"mx-auto text-gray-300 group-hover:text-orange-500 transition-colors mb-2",size:40}),h.jsx("span",{className:"text-xs font-black text-gray-400 group-hover:text-orange-600 uppercase",children:"DOSYA SE"})]})]}),h.jsxs("button",{onClick:()=>i(g,null,null),className:"w-full flex items-center justify-center gap-2 py-3 text-xs font-black text-red-600 hover:bg-red-50 rounded-xl transition-all border border-transparent hover:border-red-200",children:[h.jsx($i,{size:16})," REKLAMI TAMAMEN KALDIR"]})]})]}),h.jsxs("div",{className:"space-y-4",children:[h.jsx("h3",{className:"text-xs font-black text-gray-400 uppercase tracking-widest",children:"3. CANLI NZLEME"}),h.jsxs("div",{className:"bg-stone-900 rounded-3xl border-4 border-white overflow-hidden h-[210px] relative shadow-2xl group",children:[B()?h.jsx("img",{src:B(),className:"w-full h-full object-cover animate-fade-in",alt:"Preview"}):h.jsxs("div",{className:"w-full h-full flex flex-col items-center justify-center bg-gray-800 text-gray-500",children:[h.jsx(nc,{size:48,className:"mb-2 opacity-20"}),h.jsxs("span",{className:"font-black italic text-sm uppercase",children:[g==="hero"?"Giri Alan":g+" Alan"," Bo"]})]}),h.jsxs("div",{className:"absolute bottom-4 left-4 right-4 bg-orange-600 text-white text-[10px] px-3 py-1.5 rounded-lg font-black uppercase text-center shadow-lg",children:["u an: ",V()]})]})]})]})]})})},Kw=()=>{const i=[{id:"vil-1",name:"Mehmet",surname:"ztrk",role:ve.VILLAGER,profession:"Elektriki",address:"Cumhuriyet Cad. No:12",contact:"0532 555 11 22",rating:5,nickname:"Kablocu Mehmet"},{id:"vil-2",name:"Aye",surname:"Ylmaz",role:ve.VILLAGER,profession:"Terzi",address:"Meneke Sok. No:4",contact:"0544 555 33 44",rating:4,nickname:"Makas Aye"},{id:"vil-3",name:"Ahmet",surname:"Demir",role:ve.VILLAGER,profession:"Su Tesisats",address:"Merkez Mah. Okul Yolu No:8",contact:"0535 555 66 77",rating:5,nickname:"Musluku Ahmet"},{id:"vil-4",name:"Fatma",surname:"Kaya",role:ve.VILLAGER,profession:"Ev Yemekleri & Mant",address:"nar Alt Meydan No:2",contact:"0555 555 88 99",rating:5,nickname:"Hamarat Abla"},{id:"vil-5",name:"Mustafa",surname:"elik",role:ve.VILLAGER,profession:"Demir Dorama & Kaynak",address:"Sanayi Girii No:1",contact:"0533 555 00 11",rating:4,nickname:"Demirci"},{id:"vil-6",name:"Ali",surname:"Vural",role:ve.VILLAGER,profession:"Traktr & Tarm Aletleri Tamiri",address:"Ova Yolu zeri",contact:"0542 555 22 33",rating:5,nickname:"Usta Ali"},{id:"vil-7",name:"Zeynep",surname:"Arslan",role:ve.VILLAGER,profession:"St ve St rnleri",address:"Yaylak Mevkii No:15",contact:"0536 555 44 55",rating:5},{id:"vil-8",name:"Hseyin",surname:"Polat",role:ve.VILLAGER,profession:"naat Ustas",address:"Tepe Mah. Cami Yan",contact:"0537 555 66 88",rating:3,nickname:"Kalfa"},{id:"vil-9",name:"Emine",surname:"Ko",role:ve.VILLAGER,profession:"Yufka & Bazlama",address:"Dere Kenar No:7",contact:"0541 555 99 00",rating:5},{id:"vil-10",name:"brahim",surname:"Acar",role:ve.VILLAGER,profession:"Nakliye & Tamaclk",address:"Giri Yolu No:5",contact:"0539 555 11 33",rating:4,nickname:"Kamyoncu bo"}],[n,s]=U.useState(null),[r,c]=U.useState(!1),[d,f]=U.useState(i),[g,y]=U.useState([]),p=[{id:"mock-1",title:"Ky Kahvesi Yenilendi",content:"Kymzn emektar kahvesi, muhtarlmzn nclnde yeni yzne kavutu. Tm kyllerimizi aymz imeye bekleriz.",date:new Date().toLocaleDateString("tr-TR"),author:"Muhtar Ahmet Ylmaz",imageUrl:"https://images.unsplash.com/photo-1541167760496-1628856ab772?q=80&w=1000&auto=format&fit=crop"},{id:"mock-2",title:"Yeni Sulama Kanal Projesi",content:"Tarmsal verimlilii artrmak amacyla DS ile ortaklaa yrtlen sulama kanal projesi onayland. naat nmzdeki ay balyor.",date:new Date().toLocaleDateString("tr-TR"),author:"Ky Meclisi",imageUrl:"https://images.unsplash.com/photo-1563514227147-6d2ff665a6a0?q=80&w=1000&auto=format&fit=crop"},{id:"mock-3",title:"Geleneksel Hasat enlii",content:"Bu yl bolluk ve bereket iinde geen hasat dnemimizi kutlamak iin ky meydannda toplanyoruz. Tm halkmz davetlidir.",date:new Date().toLocaleDateString("tr-TR"),author:"Tertip Komitesi",imageUrl:"https://images.unsplash.com/photo-1625246333195-58f26c0dc835?q=80&w=1000&auto=format&fit=crop"},{id:"mock-4",title:"Ky Okulu Boyand",content:"Gnll genlerimizin desteiyle ky okulumuzun d cephesi ve snflar boyand. Emei geen herkese teekkrler.",date:new Date().toLocaleDateString("tr-TR"),author:"Okul Aile Birlii",imageUrl:"https://images.unsplash.com/photo-1588072432836-e10032774350?q=80&w=1000&auto=format&fit=crop"},{id:"mock-5",title:"Salk Oca Doktorumuz Greve Balad",content:"Haftann 3 gn kymzde hizmet verecek olan Doktor Aye Kaya grevine balamtr. Hayrl olsun.",date:new Date().toLocaleDateString("tr-TR"),author:"Muhtar Ahmet Ylmaz",imageUrl:"https://images.unsplash.com/photo-1505751172876-fa1923c5c528?q=80&w=1000&auto=format&fit=crop"}],b=[{id:"mock-event-1",title:"Bahar enlii",content:"Baharn geliini kutlamak iin dzenlediimiz enlikte yarmalar, konserler ve yemek ikram olacaktr.",date:new Date().toLocaleDateString("tr-TR"),startDate:new Date(Date.now()+864e5*5).toISOString(),endDate:new Date(Date.now()+864e5*5+72e5).toISOString(),author:"Ky Genlii",imageUrl:"https://images.unsplash.com/photo-1523580494863-6f3031224c94?q=80&w=1000&auto=format&fit=crop"},{id:"mock-event-2",title:"Ky Hayr",content:"Geleneksel ky hayrmz Cuma namaz knda cami avlusunda yaplacaktr.",date:new Date().toLocaleDateString("tr-TR"),startDate:new Date(Date.now()+864e5*10).toISOString(),endDate:new Date(Date.now()+864e5*10+108e5).toISOString(),author:"Muhtarlk",imageUrl:"https://images.unsplash.com/photo-1606787366850-de6330128bfc?q=80&w=1000&auto=format&fit=crop"},{id:"mock-event-3",title:"Futbol Turnuvas",content:"Kyler aras futbol turnuvas balyor! Takmn kur, turnuvaya katl.",date:new Date().toLocaleDateString("tr-TR"),startDate:new Date(Date.now()+864e5*15).toISOString(),endDate:new Date(Date.now()+864e5*15+72e5).toISOString(),author:"Spor Kulb",imageUrl:"https://images.unsplash.com/photo-1518609878373-06d740f60d8b?q=80&w=1000&auto=format&fit=crop"},{id:"mock-event-4",title:"Salk Taramas",content:"le Salk Mdrl ekipleri tarafndan ky meydannda cretsiz salk taramas yaplacaktr.",date:new Date().toLocaleDateString("tr-TR"),startDate:new Date(Date.now()+864e5*20).toISOString(),endDate:new Date(Date.now()+864e5*20+144e5).toISOString(),author:"Salk Oca",imageUrl:"https://images.unsplash.com/photo-1576091160399-112ba8d25d1d?q=80&w=1000&auto=format&fit=crop"},{id:"mock-event-5",title:"Ak Hava Sinemas",content:'Yaz akamlarnn vazgeilmezi ak hava sinemas etkinliimizde "Selvi Boylum Al Yazmalm" filmi gsterilecektir.',date:new Date().toLocaleDateString("tr-TR"),startDate:new Date(Date.now()+864e5*25).toISOString(),endDate:new Date(Date.now()+864e5*25+108e5).toISOString(),author:"Kltr Komitesi",imageUrl:"https://images.unsplash.com/photo-1489599849927-2ee91cede3ba?q=80&w=1000&auto=format&fit=crop"}],x=[...p.filter(Y=>Y.imageUrl).map(Y=>({id:`gal-${Y.id}`,type:"image",url:Y.imageUrl,caption:Y.title,date:Y.date})),...b.filter(Y=>Y.imageUrl).map(Y=>({id:`gal-${Y.id}`,type:"image",url:Y.imageUrl,caption:Y.title,date:Y.date}))],[j,_]=U.useState(p),[k,D]=U.useState(x),[H,B]=U.useState(b),[V,M]=U.useState([]),[X,P]=U.useState(null),[Z,I]=U.useState(null),[ge,Ne]=U.useState(null),[Je,Xe]=U.useState(null),[ze,J]=U.useState(null),[be,Ue]=U.useState(null),[R,L]=U.useState("home"),W=async Y=>{var ae,de,he;try{const{data:Ae,error:ut}=await He.from("profiles").select("*").eq("id",Y).single();if(ut)throw ut;let ht=ve.GUEST;const $e=(ae=Ae.role)==null?void 0:ae.toUpperCase();$e==="ADMIN"?ht=ve.ADMIN:$e==="VILLAGER"&&(ht=ve.VILLAGER);let _t={id:Ae.id,name:((de=Ae.full_name)==null?void 0:de.split(" ")[0])||"",surname:((he=Ae.full_name)==null?void 0:he.split(" ").slice(1).join(" "))||"",role:ht,email:void 0};if(Ae.role===ve.VILLAGER){const{data:Ke}=await He.from("villagers").select("*").eq("user_id",Y).single();Ke&&(_t={..._t,...Ke,id:Y,role:ve.VILLAGER})}s(_t)}catch(Ae){console.error("Error fetching profile:",Ae)}},se=async()=>{try{const{data:Y}=await He.from("villagers").select("*").order("name");Y&&f(Y);const{data:ae}=await He.from("profiles").select("*").eq("role","guest");if(ae){const _t=ae.map(Ke=>{var Ul,un;return{id:Ke.id,name:((Ul=Ke.full_name)==null?void 0:Ul.split(" ")[0])||"",surname:((un=Ke.full_name)==null?void 0:un.split(" ").slice(1).join(" "))||"",role:ve.GUEST,email:void 0}});y(_t)}const{data:de}=await He.from("profiles").select("id, full_name"),he=new Map((de==null?void 0:de.map(_t=>[_t.id,_t.full_name]))||[]),{data:Ae}=await He.from("news").select("*").order("date",{ascending:!1});if(Ae){const _t=Ae.map(Ke=>({...Ke,imageUrl:Ke.image_url||Ke.imageUrl,author:he.get(Ke.author_id)||Ke.author||"Bilinmiyor"}));_(_t)}const{data:ut}=await He.from("gallery").select("*").order("date",{ascending:!1});ut&&D(ut);const{data:ht}=await He.from("events").select("*").order("date",{ascending:!0});if(ht){const _t=ht.map(Ke=>({...Ke,imageUrl:Ke.image_url||Ke.imageUrl,startDate:Ke.start_date||Ke.startDate,endDate:Ke.end_date||Ke.endDate,author:he.get(Ke.author_id)||Ke.author||"Bilinmiyor"}));B(_t)}const{data:$e}=await He.from("donations").select("*").order("date",{ascending:!1});$e&&M($e)}catch(Y){console.error("Error refreshing data:",Y)}};U.useEffect(()=>{(async()=>{const{data:{session:de}}=await He.auth.getSession();de!=null&&de.user&&await W(de.user.id),await se()})();const{data:{subscription:ae}}=He.auth.onAuthStateChange(async(de,he)=>{he!=null&&he.user?await W(he.user.id):s(null)});return()=>ae.unsubscribe()},[]);const je=async Y=>{s(Y),c(!1),Y.role===ve.ADMIN||Y.role==="admin"?ee.success("Hogeldin Ynetici"):ee.success(`Ho geldin, ${Y.name}!`),await se()},E=async Y=>{s(Y),c(!1),ee.success("Kayt baarl! Ho geldiniz."),await se()},G=async()=>{try{await He.auth.signOut()}catch(Y){console.error("Logout error:",Y)}finally{window.location.reload()}},Q=(Y,ae,de)=>{Y==="top"?(P(ae),I(de)):Y==="bottomA"?(Ne(ae),Xe(de)):Y==="hero"&&(J(ae),Ue(de))},K=async(Y,ae,de)=>{try{if(!n)return;const he={title:Y,content:ae,image_url:de,date:new Date().toLocaleDateString("tr-TR"),author_id:n.id},{error:Ae}=await He.from("news").insert([he]);if(Ae)throw Ae;ee.success("Haber baaryla eklendi!"),await se()}catch(he){console.error("Error adding news:",he),ee.error("Haber eklenirken bir hata olutu.")}},te=async Y=>{try{if(Y.startsWith("mock-")||Y.length<20){_(de=>de.filter(he=>he.id!==Y)),ee.success("Haber silindi (Demo).");return}const{error:ae}=await He.from("news").delete().eq("id",Y);if(ae)throw ae;ee.success("Haber silindi."),await se()}catch(ae){console.error("Error deleting news:",ae),ee.error(`Haber silinemedi: ${ae.message||"Bilinmeyen hata"}`)}},ue=async(Y,ae,de,he,Ae)=>{try{if(!n)return;const ut={title:Y,content:ae,image_url:de,date:new Date().toLocaleDateString("tr-TR"),start_date:he,end_date:Ae,author_id:n.id},{error:ht}=await He.from("events").insert([ut]);if(ht)throw ht;if(de){const $e={title:`Etkinlik: ${Y}`,imageUrl:de,date:new Date().toLocaleDateString("tr-TR"),category:"Etkinlik"};await He.from("gallery").insert([$e])}ee.success("Etkinlik baaryla oluturuldu!"),await se()}catch(ut){console.error("Error adding event:",ut),ee.error("Etkinlik oluturulurken hata olutu.")}},ye=async(Y,ae)=>{try{if(Y.startsWith("mock-")||Y.length<20){B(he=>he.filter(Ae=>Ae.id!==Y)),ae&&D(he=>he.filter(Ae=>!Ae.caption.includes(ae))),ee.success("Etkinlik silindi (Demo).");return}const{error:de}=await He.from("events").delete().eq("id",Y);if(de)throw de;if(ae){const he=`Etkinlik: ${ae}`;await He.from("gallery").delete().eq("title",he).eq("category","Etkinlik")}ee.success("Etkinlik ve ilikili dosyalar silindi."),await se()}catch(de){console.error("Error deleting event:",de),ee.error(`Silme baarsz: ${de.message||"Yetki sorunu veya balant hatas"}`)}},tt=async(Y,ae,de)=>{try{const he={title:Y,imageUrl:ae,category:de,date:new Date().toLocaleDateString("tr-TR")},{error:Ae}=await He.from("gallery").insert([he]);if(Ae)throw Ae;ee.success("Fotoraf galeriye eklendi."),await se()}catch(he){console.error("Error adding gallery item:",he),ee.error("Galeri gncellenemedi.")}},Ie=async Y=>{try{if(Y.startsWith("gal-")||Y.startsWith("mock-")||Y.length<20){D(de=>de.filter(he=>he.id!==Y)),ee.success("Fotoraf silindi (Demo).");return}const{error:ae}=await He.from("gallery").delete().eq("id",Y);if(ae)throw ae;ee.success("Fotoraf silindi."),await se()}catch(ae){console.error("Error deleting gallery item:",ae),ee.error(`Silme ilemi baarsz: ${ae.message||"Bilinmeyen hata"}`)}},on=async(Y,ae)=>{ee.success("Oylama ilemi kaydedildi (Demo).")},zn=async Y=>{try{if(Y.startsWith("vil-")||Y.length<20){f(de=>de.filter(he=>he.id!==Y)),ee.success("Kii silindi (Demo).");return}const{error:ae}=await He.from("villagers").delete().eq("id",Y);if(ae)throw ae;ee.success("Kii listeden silindi."),await se()}catch(ae){console.error("Error deleting villager:",ae),ee.error(`Silme ilemi baarsz: ${ae.message||"Bilinmeyen hata"}`)}},Dl=Y=>{if(R!=="home")L("home"),setTimeout(()=>{const ae=document.getElementById(Y);ae&&ae.scrollIntoView({behavior:"smooth"})},100);else{const ae=document.getElementById(Y);ae&&ae.scrollIntoView({behavior:"smooth"})}},Yi=()=>{L("home"),window.scrollTo({top:0,behavior:"smooth"})},na=async(Y,ae,de,he)=>{try{if(_(ut=>ut.map(ht=>ht.id===Y?{...ht,title:ae,content:de,date:he}:ht)),Y.startsWith("mock-")){ee.success("Haber gncellendi (Demo Veri)");return}const{error:Ae}=await He.from("news").update({title:ae,content:de,date:he}).eq("id",Y);if(Ae)throw Ae;ee.success("Haber baaryla gncellendi."),await se()}catch(Ae){console.error("Error updating news:",Ae),ee.error("Haber gncellenemedi."),await se()}},Un=async(Y,ae,de,he,Ae)=>{try{if(B(ht=>ht.map($e=>$e.id===Y?{...$e,title:ae,content:de,startDate:he,endDate:Ae}:$e)),Y.startsWith("mock-")){ee.success("Etkinlik gncellendi (Demo Veri)");return}const{error:ut}=await He.from("events").update({title:ae,content:de,start_date:he,end_date:Ae}).eq("id",Y);if(ut)throw ut;ee.success("Etkinlik baaryla gncellendi."),await se()}catch(ut){console.error("Error updating event:",ut),ee.error("Etkinlik gncellenemedi."),await se()}},zl=async Y=>{try{if(f(de=>de.map(he=>he.id===Y.id?Y:he)),Y.id.includes("-")&&Y.id.startsWith("vil-")){ee.success("Kii gncellendi (Demo Veri)");return}const{error:ae}=await He.from("villagers").update({name:Y.name,surname:Y.surname,nickname:Y.nickname,profession:Y.profession,address:Y.address,contact:Y.contact}).eq("id",Y.id);if(ae)throw ae;ee.success("Kii baaryla gncellendi."),await se()}catch(ae){console.error("Error updating villager:",ae),ee.error("Gncelleme srasnda hata olutu."),await se()}};return h.jsxs("div",{className:"min-h-screen flex flex-col",children:[h.jsx(eb,{position:"top-center"}),h.jsx(Hw,{}),h.jsx(dv,{currentUser:n,onLogout:G,onOpenAuth:()=>c(!0),scrollToSection:Dl,onLogoClick:Yi}),(n==null?void 0:n.role)===ve.ADMIN&&R==="home"&&h.jsx($w,{onUpdateAd:Q,currentTopAd:X,currentTopAdLink:Z,currentBottomAAd:ge,currentBottomAAdLink:Je,currentHeroAd:ze,currentHeroAdLink:be}),h.jsxs("main",{className:"flex-grow",children:[R==="home"&&h.jsxs(h.Fragment,{children:[h.jsx(hv,{heroAd:ze,heroAdLink:be}),h.jsx(ab,{villagers:d,onRateVillager:on,topAd:X,topAdLink:Z,currentUser:n,onDeleteVillager:zn,onUpdateVillager:zl}),h.jsx(Mm,{news:j,currentUser:n,onAddNews:K,onDeleteNews:te,onUpdateNews:na,limit:2,onShowAll:()=>L("all-news")}),h.jsx(og,{events:H,currentUser:n,onAddEvent:ue,onDeleteEvent:ye,onUpdateEvent:Un,limit:3,onShowAll:()=>L("all-events")}),h.jsx(Lm,{items:k,currentUser:n,onAddItem:tt,onDeleteItem:Ie,limit:4,onShowAll:()=>L("all-gallery")}),h.jsx(lb,{bottomAAd:ge,bottomAAdLink:Je}),h.jsx(ib,{})]}),R==="all-news"&&h.jsxs("div",{className:"pt-24 pb-10",children:[h.jsx("div",{className:"max-w-7xl mx-auto px-4 mb-6",children:h.jsx("button",{onClick:()=>L("home"),className:"flex items-center text-green-700 font-bold hover:underline mb-4",children:" Ana Sayfaya Dn"})}),h.jsx(Mm,{news:j,currentUser:n,onAddNews:K,onDeleteNews:te,onUpdateNews:na})]}),R==="all-events"&&h.jsxs("div",{className:"pt-24 pb-10",children:[h.jsx("div",{className:"max-w-7xl mx-auto px-4 mb-6",children:h.jsx("button",{onClick:()=>L("home"),className:"flex items-center text-green-700 font-bold hover:underline mb-4",children:" Ana Sayfaya Dn"})}),h.jsx(og,{events:H,currentUser:n,onAddEvent:ue,onDeleteEvent:ye,onUpdateEvent:Un})]}),R==="all-gallery"&&h.jsxs("div",{className:"pt-24 pb-10",children:[h.jsx("div",{className:"max-w-7xl mx-auto px-4 mb-6",children:h.jsx("button",{onClick:()=>L("home"),className:"flex items-center text-green-700 font-bold hover:underline mb-4",children:" Ana Sayfaya Dn"})}),h.jsx(Lm,{items:k,currentUser:n,onAddItem:tt,onDeleteItem:Ie})]})]}),h.jsx(sb,{}),h.jsx(qw,{isOpen:r,onClose:()=>c(!1),onLogin:je,onRegister:E,villagers:d,guests:g})]})},Ug=document.getElementById("root");if(!Ug)throw new Error("Could not find root element to mount to");const Vw=dp.createRoot(Ug);Vw.render(h.jsx(cg.StrictMode,{children:h.jsx(Kw,{})}));
